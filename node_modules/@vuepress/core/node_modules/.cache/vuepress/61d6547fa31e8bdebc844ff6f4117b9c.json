{"remainingRequest":"F:\\fortivex\\vuepress-tutorial\\vuepress-tutorial\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!F:\\fortivex\\vuepress-tutorial\\vuepress-tutorial\\node_modules\\docsearch.js\\dist\\cdn\\docsearch.min.js","dependencies":[{"path":"F:\\fortivex\\vuepress-tutorial\\vuepress-tutorial\\node_modules\\docsearch.js\\dist\\cdn\\docsearch.min.js","mtime":1765807959862},{"path":"F:\\fortivex\\vuepress-tutorial\\vuepress-tutorial\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1765807958813},{"path":"F:\\fortivex\\vuepress-tutorial\\vuepress-tutorial\\node_modules\\babel-loader\\lib\\index.js","mtime":1765807958345}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LWJ1ZmZlci5kZXRhY2hlZC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLnRyYW5zZmVyLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS1idWZmZXIudHJhbnNmZXItdG8tZml4ZWQtbGVuZ3RoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5jb25zdHJ1Y3Rvci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZXZlcnkuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmZpbHRlci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZmluZC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZm9yLWVhY2guanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLm1hcC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IudG8tYXJyYXkuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5hdC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC1sYXN0LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWxhc3QtaW5kZXguanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNldC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tcmV2ZXJzZWQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLXNvcnRlZC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkud2l0aC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lmpzb24ucGFyc2UuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5pbW1lZGlhdGUuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5zZWxmLmpzIik7Ci8qISBkb2NzZWFyY2ggMi42LjMgfCDCqSBBbGdvbGlhIHwgZ2l0aHViLmNvbS9hbGdvbGlhL2RvY3NlYXJjaCAqLwooZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkgewogIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gIm9iamVjdCIgJiYgdHlwZW9mIG1vZHVsZSA9PT0gIm9iamVjdCIpIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO2Vsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICJmdW5jdGlvbiIgJiYgZGVmaW5lLmFtZCkgZGVmaW5lKFtdLCBmYWN0b3J5KTtlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gIm9iamVjdCIpIGV4cG9ydHNbImRvY3NlYXJjaCJdID0gZmFjdG9yeSgpO2Vsc2Ugcm9vdFsiZG9jc2VhcmNoIl0gPSBmYWN0b3J5KCk7Cn0pKHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGZ1bmN0aW9uIChtb2R1bGVzKSB7CiAgICB2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9OwogICAgZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkgewogICAgICBpZiAoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHsKICAgICAgICByZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0czsKICAgICAgfQogICAgICB2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7CiAgICAgICAgaTogbW9kdWxlSWQsCiAgICAgICAgbDogZmFsc2UsCiAgICAgICAgZXhwb3J0czoge30KICAgICAgfTsKICAgICAgbW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7CiAgICAgIG1vZHVsZS5sID0gdHJ1ZTsKICAgICAgcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgfQogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlczsKICAgIF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7CiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbiAoZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7CiAgICAgIGlmICghX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsKICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsCiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgICAgZ2V0OiBnZXR0ZXIKICAgICAgICB9KTsKICAgICAgfQogICAgfTsKICAgIF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uIChtb2R1bGUpIHsKICAgICAgdmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/IGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIG1vZHVsZVsiZGVmYXVsdCJdOwogICAgICB9IDogZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsKICAgICAgICByZXR1cm4gbW9kdWxlOwogICAgICB9OwogICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAiYSIsIGdldHRlcik7CiAgICAgIHJldHVybiBnZXR0ZXI7CiAgICB9OwogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24gKG9iamVjdCwgcHJvcGVydHkpIHsKICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsKICAgIH07CiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSAiIjsKICAgIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIyKTsKICB9KFtmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgdmFyIERPTSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CiAgICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyKSB7CiAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1wtXFtcXVwvXHtcfVwoXClcKlwrXD9cLlxcXF5cJFx8XS9nLCAiXFwkJiIpOwogICAgfQogICAgbW9kdWxlLmV4cG9ydHMgPSB7CiAgICAgIGlzQXJyYXk6IG51bGwsCiAgICAgIGlzRnVuY3Rpb246IG51bGwsCiAgICAgIGlzT2JqZWN0OiBudWxsLAogICAgICBiaW5kOiBudWxsLAogICAgICBlYWNoOiBudWxsLAogICAgICBtYXA6IG51bGwsCiAgICAgIG1peGluOiBudWxsLAogICAgICBpc01zaWU6IGZ1bmN0aW9uIChhZ2VudFN0cmluZykgewogICAgICAgIGlmIChhZ2VudFN0cmluZyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBhZ2VudFN0cmluZyA9IG5hdmlnYXRvci51c2VyQWdlbnQ7CiAgICAgICAgfQogICAgICAgIGlmICgvKG1zaWV8dHJpZGVudCkvaS50ZXN0KGFnZW50U3RyaW5nKSkgewogICAgICAgICAgdmFyIG1hdGNoID0gYWdlbnRTdHJpbmcubWF0Y2goLyhtc2llIHxydjopKFxkKyguXGQrKT8pL2kpOwogICAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgIHJldHVybiBtYXRjaFsyXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9LAogICAgICBlc2NhcGVSZWdFeENoYXJzOiBmdW5jdGlvbiAoc3RyKSB7CiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bXC1cW1xdXC9ce1x9XChcKVwqXCtcP1wuXFxcXlwkXHxdL2csICJcXCQmIik7CiAgICAgIH0sCiAgICAgIGlzTnVtYmVyOiBmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICJudW1iZXIiOwogICAgICB9LAogICAgICB0b1N0cjogZnVuY3Rpb24gdG9TdHIocykgewogICAgICAgIHJldHVybiBzID09PSB1bmRlZmluZWQgfHwgcyA9PT0gbnVsbCA/ICIiIDogcyArICIiOwogICAgICB9LAogICAgICBjbG9uZURlZXA6IGZ1bmN0aW9uIGNsb25lRGVlcChvYmopIHsKICAgICAgICB2YXIgY2xvbmUgPSB0aGlzLm1peGluKHt9LCBvYmopOwogICAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgICB0aGlzLmVhY2goY2xvbmUsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7CiAgICAgICAgICBpZiAodmFsdWUpIHsKICAgICAgICAgICAgaWYgKHNlbGYuaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgICAgICAgICBjbG9uZVtrZXldID0gW10uY29uY2F0KHZhbHVlKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxmLmlzT2JqZWN0KHZhbHVlKSkgewogICAgICAgICAgICAgIGNsb25lW2tleV0gPSBzZWxmLmNsb25lRGVlcCh2YWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICByZXR1cm4gY2xvbmU7CiAgICAgIH0sCiAgICAgIGVycm9yOiBmdW5jdGlvbiAobXNnKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7CiAgICAgIH0sCiAgICAgIGV2ZXJ5OiBmdW5jdGlvbiAob2JqLCB0ZXN0KSB7CiAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7CiAgICAgICAgaWYgKCFvYmopIHsKICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfQogICAgICAgIHRoaXMuZWFjaChvYmosIGZ1bmN0aW9uICh2YWwsIGtleSkgewogICAgICAgICAgaWYgKHJlc3VsdCkgewogICAgICAgICAgICByZXN1bHQgPSB0ZXN0LmNhbGwobnVsbCwgdmFsLCBrZXksIG9iaikgJiYgcmVzdWx0OwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiAhIXJlc3VsdDsKICAgICAgfSwKICAgICAgYW55OiBmdW5jdGlvbiAob2JqLCB0ZXN0KSB7CiAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7CiAgICAgICAgaWYgKCFvYmopIHsKICAgICAgICAgIHJldHVybiBmb3VuZDsKICAgICAgICB9CiAgICAgICAgdGhpcy5lYWNoKG9iaiwgZnVuY3Rpb24gKHZhbCwga2V5KSB7CiAgICAgICAgICBpZiAodGVzdC5jYWxsKG51bGwsIHZhbCwga2V5LCBvYmopKSB7CiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBmb3VuZDsKICAgICAgfSwKICAgICAgZ2V0VW5pcXVlSWQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgY291bnRlciA9IDA7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBjb3VudGVyKys7CiAgICAgICAgfTsKICAgICAgfSgpLAogICAgICB0ZW1wbGF0aWZ5OiBmdW5jdGlvbiB0ZW1wbGF0aWZ5KG9iaikgewogICAgICAgIGlmICh0aGlzLmlzRnVuY3Rpb24ob2JqKSkgewogICAgICAgICAgcmV0dXJuIG9iajsKICAgICAgICB9CiAgICAgICAgdmFyICR0ZW1wbGF0ZSA9IERPTS5lbGVtZW50KG9iaik7CiAgICAgICAgaWYgKCR0ZW1wbGF0ZS5wcm9wKCJ0YWdOYW1lIikgPT09ICJTQ1JJUFQiKSB7CiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gdGVtcGxhdGUoKSB7CiAgICAgICAgICAgIHJldHVybiAkdGVtcGxhdGUudGV4dCgpOwogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHRlbXBsYXRlKCkgewogICAgICAgICAgcmV0dXJuIFN0cmluZyhvYmopOwogICAgICAgIH07CiAgICAgIH0sCiAgICAgIGRlZmVyOiBmdW5jdGlvbiAoZm4pIHsKICAgICAgICBzZXRUaW1lb3V0KGZuLCAwKTsKICAgICAgfSwKICAgICAgbm9vcDogZnVuY3Rpb24gKCkge30sCiAgICAgIGZvcm1hdFByZWZpeDogZnVuY3Rpb24gKHByZWZpeCwgbm9QcmVmaXgpIHsKICAgICAgICByZXR1cm4gbm9QcmVmaXggPyAiIiA6IHByZWZpeCArICItIjsKICAgICAgfSwKICAgICAgY2xhc3NOYW1lOiBmdW5jdGlvbiAocHJlZml4LCBjbGF6eiwgc2tpcERvdCkgewogICAgICAgIHJldHVybiAoc2tpcERvdCA/ICIiIDogIi4iKSArIHByZWZpeCArIGNsYXp6OwogICAgICB9LAogICAgICBlc2NhcGVIaWdobGlnaHRlZFN0cmluZzogZnVuY3Rpb24gKHN0ciwgaGlnaGxpZ2h0UHJlVGFnLCBoaWdobGlnaHRQb3N0VGFnKSB7CiAgICAgICAgaGlnaGxpZ2h0UHJlVGFnID0gaGlnaGxpZ2h0UHJlVGFnIHx8ICI8ZW0+IjsKICAgICAgICB2YXIgcHJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgcHJlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGhpZ2hsaWdodFByZVRhZykpOwogICAgICAgIGhpZ2hsaWdodFBvc3RUYWcgPSBoaWdobGlnaHRQb3N0VGFnIHx8ICI8L2VtPiI7CiAgICAgICAgdmFyIHBvc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICBwb3N0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGhpZ2hsaWdodFBvc3RUYWcpKTsKICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgZGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0cikpOwogICAgICAgIHJldHVybiBkaXYuaW5uZXJIVE1MLnJlcGxhY2UoUmVnRXhwKGVzY2FwZVJlZ0V4cChwcmUuaW5uZXJIVE1MKSwgImciKSwgaGlnaGxpZ2h0UHJlVGFnKS5yZXBsYWNlKFJlZ0V4cChlc2NhcGVSZWdFeHAocG9zdC5pbm5lckhUTUwpLCAiZyIpLCBoaWdobGlnaHRQb3N0VGFnKTsKICAgICAgfQogICAgfTsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgbW9kdWxlLmV4cG9ydHMgPSB7CiAgICAgIGVsZW1lbnQ6IG51bGwKICAgIH07CiAgfSwgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykgewogICAgdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7CiAgICB2YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nOwogICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmb3JFYWNoKG9iaiwgZm4sIGN0eCkgewogICAgICBpZiAodG9TdHJpbmcuY2FsbChmbikgIT09ICJbb2JqZWN0IEZ1bmN0aW9uXSIpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJpdGVyYXRvciBtdXN0IGJlIGEgZnVuY3Rpb24iKTsKICAgICAgfQogICAgICB2YXIgbCA9IG9iai5sZW5ndGg7CiAgICAgIGlmIChsID09PSArbCkgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgICBmbi5jYWxsKGN0eCwgb2JqW2ldLCBpLCBvYmopOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBmb3IgKHZhciBrIGluIG9iaikgewogICAgICAgICAgaWYgKGhhc093bi5jYWxsKG9iaiwgaykpIHsKICAgICAgICAgICAgZm4uY2FsbChjdHgsIG9ialtrXSwgaywgb2JqKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjbG9uZShvYmopIHsKICAgICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7CiAgICB9OwogIH0sIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHsKICAgIHZhciBnOwogICAgZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9KCk7CiAgICB0cnkgewogICAgICBnID0gZyB8fCBGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpIHx8ICgxLCBldmFsKSgidGhpcyIpOwogICAgfSBjYXRjaCAoZSkgewogICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gIm9iamVjdCIpIGcgPSB3aW5kb3c7CiAgICB9CiAgICBtb2R1bGUuZXhwb3J0cyA9IGc7CiAgfSwgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgInVzZSBzdHJpY3QiOwoKICAgIHZhciBpbmhlcml0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpOwogICAgZnVuY3Rpb24gQWxnb2xpYVNlYXJjaEVycm9yKG1lc3NhZ2UsIGV4dHJhUHJvcGVydGllcykgewogICAgICB2YXIgZm9yRWFjaCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7CiAgICAgIHZhciBlcnJvciA9IHRoaXM7CiAgICAgIGlmICh0eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBlcnJvci5zdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrIHx8ICJDYW5ub3QgZ2V0IGEgc3RhY2t0cmFjZSwgYnJvd3NlciBpcyB0b28gb2xkIjsKICAgICAgfQogICAgICB0aGlzLm5hbWUgPSAiQWxnb2xpYVNlYXJjaEVycm9yIjsKICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZSB8fCAiVW5rbm93biBlcnJvciI7CiAgICAgIGlmIChleHRyYVByb3BlcnRpZXMpIHsKICAgICAgICBmb3JFYWNoKGV4dHJhUHJvcGVydGllcywgZnVuY3Rpb24gYWRkVG9FcnJvck9iamVjdCh2YWx1ZSwga2V5KSB7CiAgICAgICAgICBlcnJvcltrZXldID0gdmFsdWU7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICAgIGluaGVyaXRzKEFsZ29saWFTZWFyY2hFcnJvciwgRXJyb3IpOwogICAgZnVuY3Rpb24gY3JlYXRlQ3VzdG9tRXJyb3IobmFtZSwgbWVzc2FnZSkgewogICAgICBmdW5jdGlvbiBBbGdvbGlhU2VhcmNoQ3VzdG9tRXJyb3IoKSB7CiAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgICAgIGlmICh0eXBlb2YgYXJnc1swXSAhPT0gInN0cmluZyIpIHsKICAgICAgICAgIGFyZ3MudW5zaGlmdChtZXNzYWdlKTsKICAgICAgICB9CiAgICAgICAgQWxnb2xpYVNlYXJjaEVycm9yLmFwcGx5KHRoaXMsIGFyZ3MpOwogICAgICAgIHRoaXMubmFtZSA9ICJBbGdvbGlhU2VhcmNoIiArIG5hbWUgKyAiRXJyb3IiOwogICAgICB9CiAgICAgIGluaGVyaXRzKEFsZ29saWFTZWFyY2hDdXN0b21FcnJvciwgQWxnb2xpYVNlYXJjaEVycm9yKTsKICAgICAgcmV0dXJuIEFsZ29saWFTZWFyY2hDdXN0b21FcnJvcjsKICAgIH0KICAgIG1vZHVsZS5leHBvcnRzID0gewogICAgICBBbGdvbGlhU2VhcmNoRXJyb3I6IEFsZ29saWFTZWFyY2hFcnJvciwKICAgICAgVW5wYXJzYWJsZUpTT046IGNyZWF0ZUN1c3RvbUVycm9yKCJVbnBhcnNhYmxlSlNPTiIsICJDb3VsZCBub3QgcGFyc2UgdGhlIGluY29taW5nIHJlc3BvbnNlIGFzIEpTT04sIHNlZSBlcnIubW9yZSBmb3IgZGV0YWlscyIpLAogICAgICBSZXF1ZXN0VGltZW91dDogY3JlYXRlQ3VzdG9tRXJyb3IoIlJlcXVlc3RUaW1lb3V0IiwgIlJlcXVlc3QgdGltZWRvdXQgYmVmb3JlIGdldHRpbmcgYSByZXNwb25zZSIpLAogICAgICBOZXR3b3JrOiBjcmVhdGVDdXN0b21FcnJvcigiTmV0d29yayIsICJOZXR3b3JrIGlzc3VlLCBzZWUgZXJyLm1vcmUgZm9yIGRldGFpbHMiKSwKICAgICAgSlNPTlBTY3JpcHRGYWlsOiBjcmVhdGVDdXN0b21FcnJvcigiSlNPTlBTY3JpcHRGYWlsIiwgIjxzY3JpcHQ+IHdhcyBsb2FkZWQgYnV0IGRpZCBub3QgY2FsbCBvdXIgcHJvdmlkZWQgY2FsbGJhY2siKSwKICAgICAgSlNPTlBTY3JpcHRFcnJvcjogY3JlYXRlQ3VzdG9tRXJyb3IoIkpTT05QU2NyaXB0RXJyb3IiLCAiPHNjcmlwdD4gdW5hYmxlIHRvIGxvYWQgZHVlIHRvIGFuIGBlcnJvcmAgZXZlbnQgb24gaXQiKSwKICAgICAgVW5rbm93bjogY3JlYXRlQ3VzdG9tRXJyb3IoIlVua25vd24iLCAiVW5rbm93biBlcnJvciBvY2N1cmVkIikKICAgIH07CiAgfSwgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykgewogICAgdmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7CiAgICBtb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikgewogICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChhcnIpID09ICJbb2JqZWN0IEFycmF5XSI7CiAgICB9OwogIH0sIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgIHZhciBmb3JlYWNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTsKICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWFwKGFyciwgZm4pIHsKICAgICAgdmFyIG5ld0FyciA9IFtdOwogICAgICBmb3JlYWNoKGFyciwgZnVuY3Rpb24gKGl0ZW0sIGl0ZW1JbmRleCkgewogICAgICAgIG5ld0Fyci5wdXNoKGZuKGl0ZW0sIGl0ZW1JbmRleCwgYXJyKSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gbmV3QXJyOwogICAgfTsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAoZnVuY3Rpb24gKHByb2Nlc3MpIHsKICAgICAgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7CiAgICAgIGV4cG9ydHMubG9nID0gbG9nOwogICAgICBleHBvcnRzLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzOwogICAgICBleHBvcnRzLnNhdmUgPSBzYXZlOwogICAgICBleHBvcnRzLmxvYWQgPSBsb2FkOwogICAgICBleHBvcnRzLnVzZUNvbG9ycyA9IHVzZUNvbG9yczsKICAgICAgZXhwb3J0cy5zdG9yYWdlID0gInVuZGVmaW5lZCIgIT0gdHlwZW9mIGNocm9tZSAmJiAidW5kZWZpbmVkIiAhPSB0eXBlb2YgY2hyb21lLnN0b3JhZ2UgPyBjaHJvbWUuc3RvcmFnZS5sb2NhbCA6IGxvY2Fsc3RvcmFnZSgpOwogICAgICBleHBvcnRzLmNvbG9ycyA9IFsibGlnaHRzZWFncmVlbiIsICJmb3Jlc3RncmVlbiIsICJnb2xkZW5yb2QiLCAiZG9kZ2VyYmx1ZSIsICJkYXJrb3JjaGlkIiwgImNyaW1zb24iXTsKICAgICAgZnVuY3Rpb24gdXNlQ29sb3JzKCkgewogICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiAmJiB3aW5kb3cucHJvY2VzcyAmJiB3aW5kb3cucHJvY2Vzcy50eXBlID09PSAicmVuZGVyZXIiKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHR5cGVvZiBkb2N1bWVudCAhPT0gInVuZGVmaW5lZCIgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuV2Via2l0QXBwZWFyYW5jZSB8fCB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiAmJiB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUuZmlyZWJ1ZyB8fCB3aW5kb3cuY29uc29sZS5leGNlcHRpb24gJiYgd2luZG93LmNvbnNvbGUudGFibGUpIHx8IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICJ1bmRlZmluZWQiICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XC8oXGQrKS8pICYmIHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApID49IDMxIHx8IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICJ1bmRlZmluZWQiICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFwvKFxkKykvKTsKICAgICAgfQogICAgICBleHBvcnRzLmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uICh2KSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTsKICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIHJldHVybiAiW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICIgKyBlcnIubWVzc2FnZTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIGZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykgewogICAgICAgIHZhciB1c2VDb2xvcnMgPSB0aGlzLnVzZUNvbG9yczsKICAgICAgICBhcmdzWzBdID0gKHVzZUNvbG9ycyA/ICIlYyIgOiAiIikgKyB0aGlzLm5hbWVzcGFjZSArICh1c2VDb2xvcnMgPyAiICVjIiA6ICIgIikgKyBhcmdzWzBdICsgKHVzZUNvbG9ycyA/ICIlYyAiIDogIiAiKSArICIrIiArIGV4cG9ydHMuaHVtYW5pemUodGhpcy5kaWZmKTsKICAgICAgICBpZiAoIXVzZUNvbG9ycykgcmV0dXJuOwogICAgICAgIHZhciBjID0gImNvbG9yOiAiICsgdGhpcy5jb2xvcjsKICAgICAgICBhcmdzLnNwbGljZSgxLCAwLCBjLCAiY29sb3I6IGluaGVyaXQiKTsKICAgICAgICB2YXIgaW5kZXggPSAwOwogICAgICAgIHZhciBsYXN0QyA9IDA7CiAgICAgICAgYXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIGZ1bmN0aW9uIChtYXRjaCkgewogICAgICAgICAgaWYgKCIlJSIgPT09IG1hdGNoKSByZXR1cm47CiAgICAgICAgICBpbmRleCsrOwogICAgICAgICAgaWYgKCIlYyIgPT09IG1hdGNoKSB7CiAgICAgICAgICAgIGxhc3RDID0gaW5kZXg7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgYXJncy5zcGxpY2UobGFzdEMsIDAsIGMpOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIGxvZygpIHsKICAgICAgICByZXR1cm4gIm9iamVjdCIgPT09IHR5cGVvZiBjb25zb2xlICYmIGNvbnNvbGUubG9nICYmIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGUubG9nLCBjb25zb2xlLCBhcmd1bWVudHMpOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykgewogICAgICAgIHRyeSB7CiAgICAgICAgICBpZiAobnVsbCA9PSBuYW1lc3BhY2VzKSB7CiAgICAgICAgICAgIGV4cG9ydHMuc3RvcmFnZS5yZW1vdmVJdGVtKCJkZWJ1ZyIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZXhwb3J0cy5zdG9yYWdlLmRlYnVnID0gbmFtZXNwYWNlczsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICB9CiAgICAgIGZ1bmN0aW9uIGxvYWQoKSB7CiAgICAgICAgdmFyIHI7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHIgPSBleHBvcnRzLnN0b3JhZ2UuZGVidWc7CiAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgICBpZiAoIXIgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICJ1bmRlZmluZWQiICYmICJlbnYiIGluIHByb2Nlc3MpIHsKICAgICAgICAgIHIgPSBPYmplY3QoewogICAgICAgICAgICBOT0RFX0VOVjogInByb2R1Y3Rpb24iCiAgICAgICAgICB9KS5ERUJVRzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHI7CiAgICAgIH0KICAgICAgZXhwb3J0cy5lbmFibGUobG9hZCgpKTsKICAgICAgZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZTsKICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICB9CiAgICB9KS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oOSkpOwogIH0sIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHsKICAgIHZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTsKICAgIHZhciBjYWNoZWRTZXRUaW1lb3V0OwogICAgdmFyIGNhY2hlZENsZWFyVGltZW91dDsKICAgIGZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCIpOwogICAgfQogICAgZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCgpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKTsKICAgIH0KICAgIChmdW5jdGlvbiAoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7CiAgICAgIH0KICAgICAgdHJ5IHsKICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gImZ1bmN0aW9uIikgewogICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0OwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7CiAgICAgIH0KICAgIH0pKCk7CiAgICBmdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikgewogICAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkgewogICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7CiAgICAgIH0KICAgICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7CiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7CiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTsKICAgICAgfQogICAgICB0cnkgewogICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB0cnkgewogICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHsKICAgICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7CiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpOwogICAgICB9CiAgICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkgewogICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDsKICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7CiAgICAgIH0KICAgICAgdHJ5IHsKICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB0cnkgewogICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICB2YXIgcXVldWUgPSBbXTsKICAgIHZhciBkcmFpbmluZyA9IGZhbHNlOwogICAgdmFyIGN1cnJlbnRRdWV1ZTsKICAgIHZhciBxdWV1ZUluZGV4ID0gLTE7CiAgICBmdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7CiAgICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBkcmFpbmluZyA9IGZhbHNlOwogICAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkgewogICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcXVldWVJbmRleCA9IC0xOwogICAgICB9CiAgICAgIGlmIChxdWV1ZS5sZW5ndGgpIHsKICAgICAgICBkcmFpblF1ZXVlKCk7CiAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIGRyYWluUXVldWUoKSB7CiAgICAgIGlmIChkcmFpbmluZykgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTsKICAgICAgZHJhaW5pbmcgPSB0cnVlOwogICAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoOwogICAgICB3aGlsZSAobGVuKSB7CiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7CiAgICAgICAgcXVldWUgPSBbXTsKICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7CiAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7CiAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcXVldWVJbmRleCA9IC0xOwogICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDsKICAgICAgfQogICAgICBjdXJyZW50UXVldWUgPSBudWxsOwogICAgICBkcmFpbmluZyA9IGZhbHNlOwogICAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7CiAgICB9CiAgICBwcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikgewogICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7CiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgewogICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTsKICAgICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHsKICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpOwogICAgICB9CiAgICB9OwogICAgZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7CiAgICAgIHRoaXMuZnVuID0gZnVuOwogICAgICB0aGlzLmFycmF5ID0gYXJyYXk7CiAgICB9CiAgICBJdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpOwogICAgfTsKICAgIHByb2Nlc3MudGl0bGUgPSAiYnJvd3NlciI7CiAgICBwcm9jZXNzLmJyb3dzZXIgPSB0cnVlOwogICAgcHJvY2Vzcy5lbnYgPSB7fTsKICAgIHByb2Nlc3MuYXJndiA9IFtdOwogICAgcHJvY2Vzcy52ZXJzaW9uID0gIiI7CiAgICBwcm9jZXNzLnZlcnNpb25zID0ge307CiAgICBmdW5jdGlvbiBub29wKCkge30KICAgIHByb2Nlc3Mub24gPSBub29wOwogICAgcHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7CiAgICBwcm9jZXNzLm9uY2UgPSBub29wOwogICAgcHJvY2Vzcy5vZmYgPSBub29wOwogICAgcHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7CiAgICBwcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7CiAgICBwcm9jZXNzLmVtaXQgPSBub29wOwogICAgcHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wOwogICAgcHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDsKICAgIHByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgcmV0dXJuIFtdOwogICAgfTsKICAgIHByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQiKTsKICAgIH07CiAgICBwcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICIvIjsKICAgIH07CiAgICBwcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCIpOwogICAgfTsKICAgIHByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAwOwogICAgfTsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgdmFyIGltbWVkaWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTMpOwogICAgdmFyIHNwbGl0dGVyID0gL1xzKy87CiAgICBtb2R1bGUuZXhwb3J0cyA9IHsKICAgICAgb25TeW5jOiBvblN5bmMsCiAgICAgIG9uQXN5bmM6IG9uQXN5bmMsCiAgICAgIG9mZjogb2ZmLAogICAgICB0cmlnZ2VyOiB0cmlnZ2VyCiAgICB9OwogICAgZnVuY3Rpb24gb24obWV0aG9kLCB0eXBlcywgY2IsIGNvbnRleHQpIHsKICAgICAgdmFyIHR5cGU7CiAgICAgIGlmICghY2IpIHsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQogICAgICB0eXBlcyA9IHR5cGVzLnNwbGl0KHNwbGl0dGVyKTsKICAgICAgY2IgPSBjb250ZXh0ID8gYmluZENvbnRleHQoY2IsIGNvbnRleHQpIDogY2I7CiAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTsKICAgICAgd2hpbGUgKHR5cGUgPSB0eXBlcy5zaGlmdCgpKSB7CiAgICAgICAgdGhpcy5fY2FsbGJhY2tzW3R5cGVdID0gdGhpcy5fY2FsbGJhY2tzW3R5cGVdIHx8IHsKICAgICAgICAgIHN5bmM6IFtdLAogICAgICAgICAgYXN5bmM6IFtdCiAgICAgICAgfTsKICAgICAgICB0aGlzLl9jYWxsYmFja3NbdHlwZV1bbWV0aG9kXS5wdXNoKGNiKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIGZ1bmN0aW9uIG9uQXN5bmModHlwZXMsIGNiLCBjb250ZXh0KSB7CiAgICAgIHJldHVybiBvbi5jYWxsKHRoaXMsICJhc3luYyIsIHR5cGVzLCBjYiwgY29udGV4dCk7CiAgICB9CiAgICBmdW5jdGlvbiBvblN5bmModHlwZXMsIGNiLCBjb250ZXh0KSB7CiAgICAgIHJldHVybiBvbi5jYWxsKHRoaXMsICJzeW5jIiwgdHlwZXMsIGNiLCBjb250ZXh0KTsKICAgIH0KICAgIGZ1bmN0aW9uIG9mZih0eXBlcykgewogICAgICB2YXIgdHlwZTsKICAgICAgaWYgKCF0aGlzLl9jYWxsYmFja3MpIHsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQogICAgICB0eXBlcyA9IHR5cGVzLnNwbGl0KHNwbGl0dGVyKTsKICAgICAgd2hpbGUgKHR5cGUgPSB0eXBlcy5zaGlmdCgpKSB7CiAgICAgICAgZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1t0eXBlXTsKICAgICAgfQogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIGZ1bmN0aW9uIHRyaWdnZXIodHlwZXMpIHsKICAgICAgdmFyIHR5cGU7CiAgICAgIHZhciBjYWxsYmFja3M7CiAgICAgIHZhciBhcmdzOwogICAgICB2YXIgc3luY0ZsdXNoOwogICAgICB2YXIgYXN5bmNGbHVzaDsKICAgICAgaWYgKCF0aGlzLl9jYWxsYmFja3MpIHsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQogICAgICB0eXBlcyA9IHR5cGVzLnNwbGl0KHNwbGl0dGVyKTsKICAgICAgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsKICAgICAgd2hpbGUgKCh0eXBlID0gdHlwZXMuc2hpZnQoKSkgJiYgKGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1t0eXBlXSkpIHsKICAgICAgICBzeW5jRmx1c2ggPSBnZXRGbHVzaChjYWxsYmFja3Muc3luYywgdGhpcywgW3R5cGVdLmNvbmNhdChhcmdzKSk7CiAgICAgICAgYXN5bmNGbHVzaCA9IGdldEZsdXNoKGNhbGxiYWNrcy5hc3luYywgdGhpcywgW3R5cGVdLmNvbmNhdChhcmdzKSk7CiAgICAgICAgaWYgKHN5bmNGbHVzaCgpKSB7CiAgICAgICAgICBpbW1lZGlhdGUoYXN5bmNGbHVzaCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgZnVuY3Rpb24gZ2V0Rmx1c2goY2FsbGJhY2tzLCBjb250ZXh0LCBhcmdzKSB7CiAgICAgIHJldHVybiBmbHVzaDsKICAgICAgZnVuY3Rpb24gZmx1c2goKSB7CiAgICAgICAgdmFyIGNhbmNlbGxlZDsKICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2FsbGJhY2tzLmxlbmd0aDsgIWNhbmNlbGxlZCAmJiBpIDwgbGVuOyBpICs9IDEpIHsKICAgICAgICAgIGNhbmNlbGxlZCA9IGNhbGxiYWNrc1tpXS5hcHBseShjb250ZXh0LCBhcmdzKSA9PT0gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHJldHVybiAhY2FuY2VsbGVkOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBiaW5kQ29udGV4dChmbiwgY29udGV4dCkgewogICAgICByZXR1cm4gZm4uYmluZCA/IGZuLmJpbmQoY29udGV4dCkgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgZm4uYXBwbHkoY29udGV4dCwgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApKTsKICAgICAgfTsKICAgIH0KICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgdmFyIF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApOwogICAgdmFyIGNzcyA9IHsKICAgICAgd3JhcHBlcjogewogICAgICAgIHBvc2l0aW9uOiAicmVsYXRpdmUiLAogICAgICAgIGRpc3BsYXk6ICJpbmxpbmUtYmxvY2siCiAgICAgIH0sCiAgICAgIGhpbnQ6IHsKICAgICAgICBwb3NpdGlvbjogImFic29sdXRlIiwKICAgICAgICB0b3A6ICIwIiwKICAgICAgICBsZWZ0OiAiMCIsCiAgICAgICAgYm9yZGVyQ29sb3I6ICJ0cmFuc3BhcmVudCIsCiAgICAgICAgYm94U2hhZG93OiAibm9uZSIsCiAgICAgICAgb3BhY2l0eTogIjEiCiAgICAgIH0sCiAgICAgIGlucHV0OiB7CiAgICAgICAgcG9zaXRpb246ICJyZWxhdGl2ZSIsCiAgICAgICAgdmVydGljYWxBbGlnbjogInRvcCIsCiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAidHJhbnNwYXJlbnQiCiAgICAgIH0sCiAgICAgIGlucHV0V2l0aE5vSGludDogewogICAgICAgIHBvc2l0aW9uOiAicmVsYXRpdmUiLAogICAgICAgIHZlcnRpY2FsQWxpZ246ICJ0b3AiCiAgICAgIH0sCiAgICAgIGRyb3Bkb3duOiB7CiAgICAgICAgcG9zaXRpb246ICJhYnNvbHV0ZSIsCiAgICAgICAgdG9wOiAiMTAwJSIsCiAgICAgICAgbGVmdDogIjAiLAogICAgICAgIHpJbmRleDogIjEwMCIsCiAgICAgICAgZGlzcGxheTogIm5vbmUiCiAgICAgIH0sCiAgICAgIHN1Z2dlc3Rpb25zOiB7CiAgICAgICAgZGlzcGxheTogImJsb2NrIgogICAgICB9LAogICAgICBzdWdnZXN0aW9uOiB7CiAgICAgICAgd2hpdGVTcGFjZTogIm5vd3JhcCIsCiAgICAgICAgY3Vyc29yOiAicG9pbnRlciIKICAgICAgfSwKICAgICAgc3VnZ2VzdGlvbkNoaWxkOiB7CiAgICAgICAgd2hpdGVTcGFjZTogIm5vcm1hbCIKICAgICAgfSwKICAgICAgbHRyOiB7CiAgICAgICAgbGVmdDogIjAiLAogICAgICAgIHJpZ2h0OiAiYXV0byIKICAgICAgfSwKICAgICAgcnRsOiB7CiAgICAgICAgbGVmdDogImF1dG8iLAogICAgICAgIHJpZ2h0OiAiMCIKICAgICAgfSwKICAgICAgZGVmYXVsdENsYXNzZXM6IHsKICAgICAgICByb290OiAiYWxnb2xpYS1hdXRvY29tcGxldGUiLAogICAgICAgIHByZWZpeDogImFhIiwKICAgICAgICBub1ByZWZpeDogZmFsc2UsCiAgICAgICAgZHJvcGRvd25NZW51OiAiZHJvcGRvd24tbWVudSIsCiAgICAgICAgaW5wdXQ6ICJpbnB1dCIsCiAgICAgICAgaGludDogImhpbnQiLAogICAgICAgIHN1Z2dlc3Rpb25zOiAic3VnZ2VzdGlvbnMiLAogICAgICAgIHN1Z2dlc3Rpb246ICJzdWdnZXN0aW9uIiwKICAgICAgICBjdXJzb3I6ICJjdXJzb3IiLAogICAgICAgIGRhdGFzZXQ6ICJkYXRhc2V0IiwKICAgICAgICBlbXB0eTogImVtcHR5IgogICAgICB9LAogICAgICBhcHBlbmRUbzogewogICAgICAgIHdyYXBwZXI6IHsKICAgICAgICAgIHBvc2l0aW9uOiAiYWJzb2x1dGUiLAogICAgICAgICAgekluZGV4OiAiMTAwIiwKICAgICAgICAgIGRpc3BsYXk6ICJub25lIgogICAgICAgIH0sCiAgICAgICAgaW5wdXQ6IHt9LAogICAgICAgIGlucHV0V2l0aE5vSGludDoge30sCiAgICAgICAgZHJvcGRvd246IHsKICAgICAgICAgIGRpc3BsYXk6ICJibG9jayIKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgICBpZiAoXy5pc01zaWUoKSkgewogICAgICBfLm1peGluKGNzcy5pbnB1dCwgewogICAgICAgIGJhY2tncm91bmRJbWFnZTogInVybChkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3lINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQlJBQTcpIgogICAgICB9KTsKICAgIH0KICAgIGlmIChfLmlzTXNpZSgpICYmIF8uaXNNc2llKCkgPD0gNykgewogICAgICBfLm1peGluKGNzcy5pbnB1dCwgewogICAgICAgIG1hcmdpblRvcDogIi0xcHgiCiAgICAgIH0pOwogICAgfQogICAgbW9kdWxlLmV4cG9ydHMgPSBjc3M7CiAgfSwgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykgewogICAgaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAiZnVuY3Rpb24iKSB7CiAgICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7CiAgICAgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3I7CiAgICAgICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHsKICAgICAgICAgIGNvbnN0cnVjdG9yOiB7CiAgICAgICAgICAgIHZhbHVlOiBjdG9yLAogICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSwKICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHsKICAgICAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvcjsKICAgICAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlOwogICAgICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKCk7CiAgICAgICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yOwogICAgICB9OwogICAgfQogIH0sIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgIG1vZHVsZS5leHBvcnRzID0gYnVpbGRTZWFyY2hNZXRob2Q7CiAgICB2YXIgZXJyb3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTsKICAgIGZ1bmN0aW9uIGJ1aWxkU2VhcmNoTWV0aG9kKHF1ZXJ5UGFyYW0sIHVybCkgewogICAgICByZXR1cm4gZnVuY3Rpb24gc2VhcmNoKHF1ZXJ5LCBhcmdzLCBjYWxsYmFjaykgewogICAgICAgIGlmICh0eXBlb2YgcXVlcnkgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIGFyZ3MgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsYmFjayA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgIHRocm93IG5ldyBlcnJvcnMuQWxnb2xpYVNlYXJjaEVycm9yKCJpbmRleC5zZWFyY2ggdXNhZ2UgaXMgaW5kZXguc2VhcmNoKHF1ZXJ5LCBwYXJhbXMsIGNiKSIpOwogICAgICAgIH0KICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCB8fCB0eXBlb2YgcXVlcnkgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgIGNhbGxiYWNrID0gcXVlcnk7CiAgICAgICAgICBxdWVyeSA9ICIiOwogICAgICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSB8fCB0eXBlb2YgYXJncyA9PT0gImZ1bmN0aW9uIikgewogICAgICAgICAgY2FsbGJhY2sgPSBhcmdzOwogICAgICAgICAgYXJncyA9IHVuZGVmaW5lZDsKICAgICAgICB9CiAgICAgICAgaWYgKHR5cGVvZiBxdWVyeSA9PT0gIm9iamVjdCIgJiYgcXVlcnkgIT09IG51bGwpIHsKICAgICAgICAgIGFyZ3MgPSBxdWVyeTsKICAgICAgICAgIHF1ZXJ5ID0gdW5kZWZpbmVkOwogICAgICAgIH0gZWxzZSBpZiAocXVlcnkgPT09IHVuZGVmaW5lZCB8fCBxdWVyeSA9PT0gbnVsbCkgewogICAgICAgICAgcXVlcnkgPSAiIjsKICAgICAgICB9CiAgICAgICAgdmFyIHBhcmFtcyA9ICIiOwogICAgICAgIGlmIChxdWVyeSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBwYXJhbXMgKz0gcXVlcnlQYXJhbSArICI9IiArIGVuY29kZVVSSUNvbXBvbmVudChxdWVyeSk7CiAgICAgICAgfQogICAgICAgIHZhciBhZGRpdGlvbmFsVUE7CiAgICAgICAgaWYgKGFyZ3MgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgaWYgKGFyZ3MuYWRkaXRpb25hbFVBKSB7CiAgICAgICAgICAgIGFkZGl0aW9uYWxVQSA9IGFyZ3MuYWRkaXRpb25hbFVBOwogICAgICAgICAgICBkZWxldGUgYXJncy5hZGRpdGlvbmFsVUE7CiAgICAgICAgICB9CiAgICAgICAgICBwYXJhbXMgPSB0aGlzLmFzLl9nZXRTZWFyY2hQYXJhbXMoYXJncywgcGFyYW1zKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRoaXMuX3NlYXJjaChwYXJhbXMsIHVybCwgY2FsbGJhY2ssIGFkZGl0aW9uYWxVQSk7CiAgICAgIH07CiAgICB9CiAgfSwgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBvbWl0KG9iaiwgdGVzdCkgewogICAgICB2YXIga2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzYpOwogICAgICB2YXIgZm9yZWFjaCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7CiAgICAgIHZhciBmaWx0ZXJlZCA9IHt9OwogICAgICBmb3JlYWNoKGtleXMob2JqKSwgZnVuY3Rpb24gZG9GaWx0ZXIoa2V5TmFtZSkgewogICAgICAgIGlmICh0ZXN0KGtleU5hbWUpICE9PSB0cnVlKSB7CiAgICAgICAgICBmaWx0ZXJlZFtrZXlOYW1lXSA9IG9ialtrZXlOYW1lXTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gZmlsdGVyZWQ7CiAgICB9OwogIH0sIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHsKICAgIChmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7CiAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShnbG9iYWwpOwogICAgfSkod2luZG93LCBmdW5jdGlvbiAod2luZG93KSB7CiAgICAgIHZhciBaZXB0byA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgdW5kZWZpbmVkLAogICAgICAgICAga2V5LAogICAgICAgICAgJCwKICAgICAgICAgIGNsYXNzTGlzdCwKICAgICAgICAgIGVtcHR5QXJyYXkgPSBbXSwKICAgICAgICAgIGNvbmNhdCA9IGVtcHR5QXJyYXkuY29uY2F0LAogICAgICAgICAgZmlsdGVyID0gZW1wdHlBcnJheS5maWx0ZXIsCiAgICAgICAgICBzbGljZSA9IGVtcHR5QXJyYXkuc2xpY2UsCiAgICAgICAgICBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudCwKICAgICAgICAgIGVsZW1lbnREaXNwbGF5ID0ge30sCiAgICAgICAgICBjbGFzc0NhY2hlID0ge30sCiAgICAgICAgICBjc3NOdW1iZXIgPSB7CiAgICAgICAgICAgICJjb2x1bW4tY291bnQiOiAxLAogICAgICAgICAgICBjb2x1bW5zOiAxLAogICAgICAgICAgICAiZm9udC13ZWlnaHQiOiAxLAogICAgICAgICAgICAibGluZS1oZWlnaHQiOiAxLAogICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAiei1pbmRleCI6IDEsCiAgICAgICAgICAgIHpvb206IDEKICAgICAgICAgIH0sCiAgICAgICAgICBmcmFnbWVudFJFID0gL15ccyo8KFx3K3whKVtePl0qPi8sCiAgICAgICAgICBzaW5nbGVUYWdSRSA9IC9ePChcdyspXHMqXC8/Pig/OjxcL1wxPnwpJC8sCiAgICAgICAgICB0YWdFeHBhbmRlclJFID0gLzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1x3Ol0rKVtePl0qKVwvPi9naSwKICAgICAgICAgIHJvb3ROb2RlUkUgPSAvXig/OmJvZHl8aHRtbCkkL2ksCiAgICAgICAgICBjYXBpdGFsUkUgPSAvKFtBLVpdKS9nLAogICAgICAgICAgbWV0aG9kQXR0cmlidXRlcyA9IFsidmFsIiwgImNzcyIsICJodG1sIiwgInRleHQiLCAiZGF0YSIsICJ3aWR0aCIsICJoZWlnaHQiLCAib2Zmc2V0Il0sCiAgICAgICAgICBhZGphY2VuY3lPcGVyYXRvcnMgPSBbImFmdGVyIiwgInByZXBlbmQiLCAiYmVmb3JlIiwgImFwcGVuZCJdLAogICAgICAgICAgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpLAogICAgICAgICAgdGFibGVSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpLAogICAgICAgICAgY29udGFpbmVycyA9IHsKICAgICAgICAgICAgdHI6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5IiksCiAgICAgICAgICAgIHRib2R5OiB0YWJsZSwKICAgICAgICAgICAgdGhlYWQ6IHRhYmxlLAogICAgICAgICAgICB0Zm9vdDogdGFibGUsCiAgICAgICAgICAgIHRkOiB0YWJsZVJvdywKICAgICAgICAgICAgdGg6IHRhYmxlUm93LAogICAgICAgICAgICAiKiI6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpCiAgICAgICAgICB9LAogICAgICAgICAgcmVhZHlSRSA9IC9jb21wbGV0ZXxsb2FkZWR8aW50ZXJhY3RpdmUvLAogICAgICAgICAgc2ltcGxlU2VsZWN0b3JSRSA9IC9eW1x3LV0qJC8sCiAgICAgICAgICBjbGFzczJ0eXBlID0ge30sCiAgICAgICAgICB0b1N0cmluZyA9IGNsYXNzMnR5cGUudG9TdHJpbmcsCiAgICAgICAgICB6ZXB0byA9IHt9LAogICAgICAgICAgY2FtZWxpemUsCiAgICAgICAgICB1bmlxLAogICAgICAgICAgdGVtcFBhcmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLAogICAgICAgICAgcHJvcE1hcCA9IHsKICAgICAgICAgICAgdGFiaW5kZXg6ICJ0YWJJbmRleCIsCiAgICAgICAgICAgIHJlYWRvbmx5OiAicmVhZE9ubHkiLAogICAgICAgICAgICBmb3I6ICJodG1sRm9yIiwKICAgICAgICAgICAgY2xhc3M6ICJjbGFzc05hbWUiLAogICAgICAgICAgICBtYXhsZW5ndGg6ICJtYXhMZW5ndGgiLAogICAgICAgICAgICBjZWxsc3BhY2luZzogImNlbGxTcGFjaW5nIiwKICAgICAgICAgICAgY2VsbHBhZGRpbmc6ICJjZWxsUGFkZGluZyIsCiAgICAgICAgICAgIHJvd3NwYW46ICJyb3dTcGFuIiwKICAgICAgICAgICAgY29sc3BhbjogImNvbFNwYW4iLAogICAgICAgICAgICB1c2VtYXA6ICJ1c2VNYXAiLAogICAgICAgICAgICBmcmFtZWJvcmRlcjogImZyYW1lQm9yZGVyIiwKICAgICAgICAgICAgY29udGVudGVkaXRhYmxlOiAiY29udGVudEVkaXRhYmxlIgogICAgICAgICAgfSwKICAgICAgICAgIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChvYmplY3QpIHsKICAgICAgICAgICAgcmV0dXJuIG9iamVjdCBpbnN0YW5jZW9mIEFycmF5OwogICAgICAgICAgfTsKICAgICAgICB6ZXB0by5tYXRjaGVzID0gZnVuY3Rpb24gKGVsZW1lbnQsIHNlbGVjdG9yKSB7CiAgICAgICAgICBpZiAoIXNlbGVjdG9yIHx8ICFlbGVtZW50IHx8IGVsZW1lbnQubm9kZVR5cGUgIT09IDEpIHJldHVybiBmYWxzZTsKICAgICAgICAgIHZhciBtYXRjaGVzU2VsZWN0b3IgPSBlbGVtZW50Lm1hdGNoZXMgfHwgZWxlbWVudC53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHwgZWxlbWVudC5tb3pNYXRjaGVzU2VsZWN0b3IgfHwgZWxlbWVudC5vTWF0Y2hlc1NlbGVjdG9yIHx8IGVsZW1lbnQubWF0Y2hlc1NlbGVjdG9yOwogICAgICAgICAgaWYgKG1hdGNoZXNTZWxlY3RvcikgcmV0dXJuIG1hdGNoZXNTZWxlY3Rvci5jYWxsKGVsZW1lbnQsIHNlbGVjdG9yKTsKICAgICAgICAgIHZhciBtYXRjaCwKICAgICAgICAgICAgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlLAogICAgICAgICAgICB0ZW1wID0gIXBhcmVudDsKICAgICAgICAgIGlmICh0ZW1wKSAocGFyZW50ID0gdGVtcFBhcmVudCkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7CiAgICAgICAgICBtYXRjaCA9IH56ZXB0by5xc2EocGFyZW50LCBzZWxlY3RvcikuaW5kZXhPZihlbGVtZW50KTsKICAgICAgICAgIHRlbXAgJiYgdGVtcFBhcmVudC5yZW1vdmVDaGlsZChlbGVtZW50KTsKICAgICAgICAgIHJldHVybiBtYXRjaDsKICAgICAgICB9OwogICAgICAgIGZ1bmN0aW9uIHR5cGUob2JqKSB7CiAgICAgICAgICByZXR1cm4gb2JqID09IG51bGwgPyBTdHJpbmcob2JqKSA6IGNsYXNzMnR5cGVbdG9TdHJpbmcuY2FsbChvYmopXSB8fCAib2JqZWN0IjsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgcmV0dXJuIHR5cGUodmFsdWUpID09ICJmdW5jdGlvbiI7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGlzV2luZG93KG9iaikgewogICAgICAgICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIG9iaiA9PSBvYmoud2luZG93OwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBpc0RvY3VtZW50KG9iaikgewogICAgICAgICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIG9iai5ub2RlVHlwZSA9PSBvYmouRE9DVU1FTlRfTk9ERTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7CiAgICAgICAgICByZXR1cm4gdHlwZShvYmopID09ICJvYmplY3QiOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iaikgewogICAgICAgICAgcmV0dXJuIGlzT2JqZWN0KG9iaikgJiYgIWlzV2luZG93KG9iaikgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikgPT0gT2JqZWN0LnByb3RvdHlwZTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gbGlrZUFycmF5KG9iaikgewogICAgICAgICAgdmFyIGxlbmd0aCA9ICEhb2JqICYmICJsZW5ndGgiIGluIG9iaiAmJiBvYmoubGVuZ3RoLAogICAgICAgICAgICB0eXBlID0gJC50eXBlKG9iaik7CiAgICAgICAgICByZXR1cm4gImZ1bmN0aW9uIiAhPSB0eXBlICYmICFpc1dpbmRvdyhvYmopICYmICgiYXJyYXkiID09IHR5cGUgfHwgbGVuZ3RoID09PSAwIHx8IHR5cGVvZiBsZW5ndGggPT0gIm51bWJlciIgJiYgbGVuZ3RoID4gMCAmJiBsZW5ndGggLSAxIGluIG9iaik7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGNvbXBhY3QoYXJyYXkpIHsKICAgICAgICAgIHJldHVybiBmaWx0ZXIuY2FsbChhcnJheSwgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0gIT0gbnVsbDsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBmbGF0dGVuKGFycmF5KSB7CiAgICAgICAgICByZXR1cm4gYXJyYXkubGVuZ3RoID4gMCA/ICQuZm4uY29uY2F0LmFwcGx5KFtdLCBhcnJheSkgOiBhcnJheTsKICAgICAgICB9CiAgICAgICAgY2FtZWxpemUgPSBmdW5jdGlvbiAoc3RyKSB7CiAgICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLy0rKC4pPy9nLCBmdW5jdGlvbiAobWF0Y2gsIGNocikgewogICAgICAgICAgICByZXR1cm4gY2hyID8gY2hyLnRvVXBwZXJDYXNlKCkgOiAiIjsKICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgZnVuY3Rpb24gZGFzaGVyaXplKHN0cikgewogICAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC86Oi9nLCAiLyIpLnJlcGxhY2UoLyhbQS1aXSspKFtBLVpdW2Etel0pL2csICIkMV8kMiIpLnJlcGxhY2UoLyhbYS16XGRdKShbQS1aXSkvZywgIiQxXyQyIikucmVwbGFjZSgvXy9nLCAiLSIpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgfQogICAgICAgIHVuaXEgPSBmdW5jdGlvbiAoYXJyYXkpIHsKICAgICAgICAgIHJldHVybiBmaWx0ZXIuY2FsbChhcnJheSwgZnVuY3Rpb24gKGl0ZW0sIGlkeCkgewogICAgICAgICAgICByZXR1cm4gYXJyYXkuaW5kZXhPZihpdGVtKSA9PSBpZHg7CiAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIGZ1bmN0aW9uIGNsYXNzUkUobmFtZSkgewogICAgICAgICAgcmV0dXJuIG5hbWUgaW4gY2xhc3NDYWNoZSA/IGNsYXNzQ2FjaGVbbmFtZV0gOiBjbGFzc0NhY2hlW25hbWVdID0gbmV3IFJlZ0V4cCgiKF58XFxzKSIgKyBuYW1lICsgIihcXHN8JCkiKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gbWF5YmVBZGRQeChuYW1lLCB2YWx1ZSkgewogICAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAibnVtYmVyIiAmJiAhY3NzTnVtYmVyW2Rhc2hlcml6ZShuYW1lKV0gPyB2YWx1ZSArICJweCIgOiB2YWx1ZTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZGVmYXVsdERpc3BsYXkobm9kZU5hbWUpIHsKICAgICAgICAgIHZhciBlbGVtZW50LCBkaXNwbGF5OwogICAgICAgICAgaWYgKCFlbGVtZW50RGlzcGxheVtub2RlTmFtZV0pIHsKICAgICAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobm9kZU5hbWUpOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW1lbnQpOwogICAgICAgICAgICBkaXNwbGF5ID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCAiIikuZ2V0UHJvcGVydHlWYWx1ZSgiZGlzcGxheSIpOwogICAgICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7CiAgICAgICAgICAgIGRpc3BsYXkgPT0gIm5vbmUiICYmIChkaXNwbGF5ID0gImJsb2NrIik7CiAgICAgICAgICAgIGVsZW1lbnREaXNwbGF5W25vZGVOYW1lXSA9IGRpc3BsYXk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gZWxlbWVudERpc3BsYXlbbm9kZU5hbWVdOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBjaGlsZHJlbihlbGVtZW50KSB7CiAgICAgICAgICByZXR1cm4gImNoaWxkcmVuIiBpbiBlbGVtZW50ID8gc2xpY2UuY2FsbChlbGVtZW50LmNoaWxkcmVuKSA6ICQubWFwKGVsZW1lbnQuY2hpbGROb2RlcywgZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkgcmV0dXJuIG5vZGU7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gWihkb20sIHNlbGVjdG9yKSB7CiAgICAgICAgICB2YXIgaSwKICAgICAgICAgICAgbGVuID0gZG9tID8gZG9tLmxlbmd0aCA6IDA7CiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHRoaXNbaV0gPSBkb21baV07CiAgICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbjsKICAgICAgICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvciB8fCAiIjsKICAgICAgICB9CiAgICAgICAgemVwdG8uZnJhZ21lbnQgPSBmdW5jdGlvbiAoaHRtbCwgbmFtZSwgcHJvcGVydGllcykgewogICAgICAgICAgdmFyIGRvbSwgbm9kZXMsIGNvbnRhaW5lcjsKICAgICAgICAgIGlmIChzaW5nbGVUYWdSRS50ZXN0KGh0bWwpKSBkb20gPSAkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoUmVnRXhwLiQxKSk7CiAgICAgICAgICBpZiAoIWRvbSkgewogICAgICAgICAgICBpZiAoaHRtbC5yZXBsYWNlKSBodG1sID0gaHRtbC5yZXBsYWNlKHRhZ0V4cGFuZGVyUkUsICI8JDE+PC8kMj4iKTsKICAgICAgICAgICAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZCkgbmFtZSA9IGZyYWdtZW50UkUudGVzdChodG1sKSAmJiBSZWdFeHAuJDE7CiAgICAgICAgICAgIGlmICghKG5hbWUgaW4gY29udGFpbmVycykpIG5hbWUgPSAiKiI7CiAgICAgICAgICAgIGNvbnRhaW5lciA9IGNvbnRhaW5lcnNbbmFtZV07CiAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAiIiArIGh0bWw7CiAgICAgICAgICAgIGRvbSA9ICQuZWFjaChzbGljZS5jYWxsKGNvbnRhaW5lci5jaGlsZE5vZGVzKSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoaXNQbGFpbk9iamVjdChwcm9wZXJ0aWVzKSkgewogICAgICAgICAgICBub2RlcyA9ICQoZG9tKTsKICAgICAgICAgICAgJC5lYWNoKHByb3BlcnRpZXMsIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7CiAgICAgICAgICAgICAgaWYgKG1ldGhvZEF0dHJpYnV0ZXMuaW5kZXhPZihrZXkpID4gLTEpIG5vZGVzW2tleV0odmFsdWUpO2Vsc2Ugbm9kZXMuYXR0cihrZXksIHZhbHVlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gZG9tOwogICAgICAgIH07CiAgICAgICAgemVwdG8uWiA9IGZ1bmN0aW9uIChkb20sIHNlbGVjdG9yKSB7CiAgICAgICAgICByZXR1cm4gbmV3IFooZG9tLCBzZWxlY3Rvcik7CiAgICAgICAgfTsKICAgICAgICB6ZXB0by5pc1ogPSBmdW5jdGlvbiAob2JqZWN0KSB7CiAgICAgICAgICByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgemVwdG8uWjsKICAgICAgICB9OwogICAgICAgIHplcHRvLmluaXQgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIGNvbnRleHQpIHsKICAgICAgICAgIHZhciBkb207CiAgICAgICAgICBpZiAoIXNlbGVjdG9yKSByZXR1cm4gemVwdG8uWigpO2Vsc2UgaWYgKHR5cGVvZiBzZWxlY3RvciA9PSAic3RyaW5nIikgewogICAgICAgICAgICBzZWxlY3RvciA9IHNlbGVjdG9yLnRyaW0oKTsKICAgICAgICAgICAgaWYgKHNlbGVjdG9yWzBdID09ICI8IiAmJiBmcmFnbWVudFJFLnRlc3Qoc2VsZWN0b3IpKSBkb20gPSB6ZXB0by5mcmFnbWVudChzZWxlY3RvciwgUmVnRXhwLiQxLCBjb250ZXh0KSwgc2VsZWN0b3IgPSBudWxsO2Vsc2UgaWYgKGNvbnRleHQgIT09IHVuZGVmaW5lZCkgcmV0dXJuICQoY29udGV4dCkuZmluZChzZWxlY3Rvcik7ZWxzZSBkb20gPSB6ZXB0by5xc2EoZG9jdW1lbnQsIHNlbGVjdG9yKTsKICAgICAgICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihzZWxlY3RvcikpIHJldHVybiAkKGRvY3VtZW50KS5yZWFkeShzZWxlY3Rvcik7ZWxzZSBpZiAoemVwdG8uaXNaKHNlbGVjdG9yKSkgcmV0dXJuIHNlbGVjdG9yO2Vsc2UgewogICAgICAgICAgICBpZiAoaXNBcnJheShzZWxlY3RvcikpIGRvbSA9IGNvbXBhY3Qoc2VsZWN0b3IpO2Vsc2UgaWYgKGlzT2JqZWN0KHNlbGVjdG9yKSkgZG9tID0gW3NlbGVjdG9yXSwgc2VsZWN0b3IgPSBudWxsO2Vsc2UgaWYgKGZyYWdtZW50UkUudGVzdChzZWxlY3RvcikpIGRvbSA9IHplcHRvLmZyYWdtZW50KHNlbGVjdG9yLnRyaW0oKSwgUmVnRXhwLiQxLCBjb250ZXh0KSwgc2VsZWN0b3IgPSBudWxsO2Vsc2UgaWYgKGNvbnRleHQgIT09IHVuZGVmaW5lZCkgcmV0dXJuICQoY29udGV4dCkuZmluZChzZWxlY3Rvcik7ZWxzZSBkb20gPSB6ZXB0by5xc2EoZG9jdW1lbnQsIHNlbGVjdG9yKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB6ZXB0by5aKGRvbSwgc2VsZWN0b3IpOwogICAgICAgIH07CiAgICAgICAgJCA9IGZ1bmN0aW9uIChzZWxlY3RvciwgY29udGV4dCkgewogICAgICAgICAgcmV0dXJuIHplcHRvLmluaXQoc2VsZWN0b3IsIGNvbnRleHQpOwogICAgICAgIH07CiAgICAgICAgZnVuY3Rpb24gZXh0ZW5kKHRhcmdldCwgc291cmNlLCBkZWVwKSB7CiAgICAgICAgICBmb3IgKGtleSBpbiBzb3VyY2UpIGlmIChkZWVwICYmIChpc1BsYWluT2JqZWN0KHNvdXJjZVtrZXldKSB8fCBpc0FycmF5KHNvdXJjZVtrZXldKSkpIHsKICAgICAgICAgICAgaWYgKGlzUGxhaW5PYmplY3Qoc291cmNlW2tleV0pICYmICFpc1BsYWluT2JqZWN0KHRhcmdldFtrZXldKSkgdGFyZ2V0W2tleV0gPSB7fTsKICAgICAgICAgICAgaWYgKGlzQXJyYXkoc291cmNlW2tleV0pICYmICFpc0FycmF5KHRhcmdldFtrZXldKSkgdGFyZ2V0W2tleV0gPSBbXTsKICAgICAgICAgICAgZXh0ZW5kKHRhcmdldFtrZXldLCBzb3VyY2Vba2V5XSwgZGVlcCk7CiAgICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZVtrZXldICE9PSB1bmRlZmluZWQpIHRhcmdldFtrZXldID0gc291cmNlW2tleV07CiAgICAgICAgfQogICAgICAgICQuZXh0ZW5kID0gZnVuY3Rpb24gKHRhcmdldCkgewogICAgICAgICAgdmFyIGRlZXAsCiAgICAgICAgICAgIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7CiAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PSAiYm9vbGVhbiIpIHsKICAgICAgICAgICAgZGVlcCA9IHRhcmdldDsKICAgICAgICAgICAgdGFyZ2V0ID0gYXJncy5zaGlmdCgpOwogICAgICAgICAgfQogICAgICAgICAgYXJncy5mb3JFYWNoKGZ1bmN0aW9uIChhcmcpIHsKICAgICAgICAgICAgZXh0ZW5kKHRhcmdldCwgYXJnLCBkZWVwKTsKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIHRhcmdldDsKICAgICAgICB9OwogICAgICAgIHplcHRvLnFzYSA9IGZ1bmN0aW9uIChlbGVtZW50LCBzZWxlY3RvcikgewogICAgICAgICAgdmFyIGZvdW5kLAogICAgICAgICAgICBtYXliZUlEID0gc2VsZWN0b3JbMF0gPT0gIiMiLAogICAgICAgICAgICBtYXliZUNsYXNzID0gIW1heWJlSUQgJiYgc2VsZWN0b3JbMF0gPT0gIi4iLAogICAgICAgICAgICBuYW1lT25seSA9IG1heWJlSUQgfHwgbWF5YmVDbGFzcyA/IHNlbGVjdG9yLnNsaWNlKDEpIDogc2VsZWN0b3IsCiAgICAgICAgICAgIGlzU2ltcGxlID0gc2ltcGxlU2VsZWN0b3JSRS50ZXN0KG5hbWVPbmx5KTsKICAgICAgICAgIHJldHVybiBlbGVtZW50LmdldEVsZW1lbnRCeUlkICYmIGlzU2ltcGxlICYmIG1heWJlSUQgPyAoZm91bmQgPSBlbGVtZW50LmdldEVsZW1lbnRCeUlkKG5hbWVPbmx5KSkgPyBbZm91bmRdIDogW10gOiBlbGVtZW50Lm5vZGVUeXBlICE9PSAxICYmIGVsZW1lbnQubm9kZVR5cGUgIT09IDkgJiYgZWxlbWVudC5ub2RlVHlwZSAhPT0gMTEgPyBbXSA6IHNsaWNlLmNhbGwoaXNTaW1wbGUgJiYgIW1heWJlSUQgJiYgZWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID8gbWF5YmVDbGFzcyA/IGVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShuYW1lT25seSkgOiBlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHNlbGVjdG9yKSA6IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpOwogICAgICAgIH07CiAgICAgICAgZnVuY3Rpb24gZmlsdGVyZWQobm9kZXMsIHNlbGVjdG9yKSB7CiAgICAgICAgICByZXR1cm4gc2VsZWN0b3IgPT0gbnVsbCA/ICQobm9kZXMpIDogJChub2RlcykuZmlsdGVyKHNlbGVjdG9yKTsKICAgICAgICB9CiAgICAgICAgJC5jb250YWlucyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jb250YWlucyA/IGZ1bmN0aW9uIChwYXJlbnQsIG5vZGUpIHsKICAgICAgICAgIHJldHVybiBwYXJlbnQgIT09IG5vZGUgJiYgcGFyZW50LmNvbnRhaW5zKG5vZGUpOwogICAgICAgIH0gOiBmdW5jdGlvbiAocGFyZW50LCBub2RlKSB7CiAgICAgICAgICB3aGlsZSAobm9kZSAmJiAobm9kZSA9IG5vZGUucGFyZW50Tm9kZSkpIGlmIChub2RlID09PSBwYXJlbnQpIHJldHVybiB0cnVlOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH07CiAgICAgICAgZnVuY3Rpb24gZnVuY0FyZyhjb250ZXh0LCBhcmcsIGlkeCwgcGF5bG9hZCkgewogICAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24oYXJnKSA/IGFyZy5jYWxsKGNvbnRleHQsIGlkeCwgcGF5bG9hZCkgOiBhcmc7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHNldEF0dHJpYnV0ZShub2RlLCBuYW1lLCB2YWx1ZSkgewogICAgICAgICAgdmFsdWUgPT0gbnVsbCA/IG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpIDogbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBjbGFzc05hbWUobm9kZSwgdmFsdWUpIHsKICAgICAgICAgIHZhciBrbGFzcyA9IG5vZGUuY2xhc3NOYW1lIHx8ICIiLAogICAgICAgICAgICBzdmcgPSBrbGFzcyAmJiBrbGFzcy5iYXNlVmFsICE9PSB1bmRlZmluZWQ7CiAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHN2ZyA/IGtsYXNzLmJhc2VWYWwgOiBrbGFzczsKICAgICAgICAgIHN2ZyA/IGtsYXNzLmJhc2VWYWwgPSB2YWx1ZSA6IG5vZGUuY2xhc3NOYW1lID0gdmFsdWU7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGRlc2VyaWFsaXplVmFsdWUodmFsdWUpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA/IHZhbHVlID09ICJ0cnVlIiB8fCAodmFsdWUgPT0gImZhbHNlIiA/IGZhbHNlIDogdmFsdWUgPT0gIm51bGwiID8gbnVsbCA6ICt2YWx1ZSArICIiID09IHZhbHVlID8gK3ZhbHVlIDogL15bXFtce10vLnRlc3QodmFsdWUpID8gJC5wYXJzZUpTT04odmFsdWUpIDogdmFsdWUpIDogdmFsdWU7CiAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgJC50eXBlID0gdHlwZTsKICAgICAgICAkLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uOwogICAgICAgICQuaXNXaW5kb3cgPSBpc1dpbmRvdzsKICAgICAgICAkLmlzQXJyYXkgPSBpc0FycmF5OwogICAgICAgICQuaXNQbGFpbk9iamVjdCA9IGlzUGxhaW5PYmplY3Q7CiAgICAgICAgJC5pc0VtcHR5T2JqZWN0ID0gZnVuY3Rpb24gKG9iaikgewogICAgICAgICAgdmFyIG5hbWU7CiAgICAgICAgICBmb3IgKG5hbWUgaW4gb2JqKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9OwogICAgICAgICQuaXNOdW1lcmljID0gZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgdmFyIG51bSA9IE51bWJlcih2YWwpLAogICAgICAgICAgICB0eXBlID0gdHlwZW9mIHZhbDsKICAgICAgICAgIHJldHVybiB2YWwgIT0gbnVsbCAmJiB0eXBlICE9ICJib29sZWFuIiAmJiAodHlwZSAhPSAic3RyaW5nIiB8fCB2YWwubGVuZ3RoKSAmJiAhaXNOYU4obnVtKSAmJiBpc0Zpbml0ZShudW0pIHx8IGZhbHNlOwogICAgICAgIH07CiAgICAgICAgJC5pbkFycmF5ID0gZnVuY3Rpb24gKGVsZW0sIGFycmF5LCBpKSB7CiAgICAgICAgICByZXR1cm4gZW1wdHlBcnJheS5pbmRleE9mLmNhbGwoYXJyYXksIGVsZW0sIGkpOwogICAgICAgIH07CiAgICAgICAgJC5jYW1lbENhc2UgPSBjYW1lbGl6ZTsKICAgICAgICAkLnRyaW0gPSBmdW5jdGlvbiAoc3RyKSB7CiAgICAgICAgICByZXR1cm4gc3RyID09IG51bGwgPyAiIiA6IFN0cmluZy5wcm90b3R5cGUudHJpbS5jYWxsKHN0cik7CiAgICAgICAgfTsKICAgICAgICAkLnV1aWQgPSAwOwogICAgICAgICQuc3VwcG9ydCA9IHt9OwogICAgICAgICQuZXhwciA9IHt9OwogICAgICAgICQubm9vcCA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgICQubWFwID0gZnVuY3Rpb24gKGVsZW1lbnRzLCBjYWxsYmFjaykgewogICAgICAgICAgdmFyIHZhbHVlLAogICAgICAgICAgICB2YWx1ZXMgPSBbXSwKICAgICAgICAgICAgaSwKICAgICAgICAgICAga2V5OwogICAgICAgICAgaWYgKGxpa2VBcnJheShlbGVtZW50cykpIGZvciAoaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YWx1ZSA9IGNhbGxiYWNrKGVsZW1lbnRzW2ldLCBpKTsKICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHZhbHVlcy5wdXNoKHZhbHVlKTsKICAgICAgICAgIH0gZWxzZSBmb3IgKGtleSBpbiBlbGVtZW50cykgewogICAgICAgICAgICB2YWx1ZSA9IGNhbGxiYWNrKGVsZW1lbnRzW2tleV0sIGtleSk7CiAgICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB2YWx1ZXMucHVzaCh2YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gZmxhdHRlbih2YWx1ZXMpOwogICAgICAgIH07CiAgICAgICAgJC5lYWNoID0gZnVuY3Rpb24gKGVsZW1lbnRzLCBjYWxsYmFjaykgewogICAgICAgICAgdmFyIGksIGtleTsKICAgICAgICAgIGlmIChsaWtlQXJyYXkoZWxlbWVudHMpKSB7CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgaWYgKGNhbGxiYWNrLmNhbGwoZWxlbWVudHNbaV0sIGksIGVsZW1lbnRzW2ldKSA9PT0gZmFsc2UpIHJldHVybiBlbGVtZW50czsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZvciAoa2V5IGluIGVsZW1lbnRzKSBpZiAoY2FsbGJhY2suY2FsbChlbGVtZW50c1trZXldLCBrZXksIGVsZW1lbnRzW2tleV0pID09PSBmYWxzZSkgcmV0dXJuIGVsZW1lbnRzOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGVsZW1lbnRzOwogICAgICAgIH07CiAgICAgICAgJC5ncmVwID0gZnVuY3Rpb24gKGVsZW1lbnRzLCBjYWxsYmFjaykgewogICAgICAgICAgcmV0dXJuIGZpbHRlci5jYWxsKGVsZW1lbnRzLCBjYWxsYmFjayk7CiAgICAgICAgfTsKICAgICAgICBpZiAod2luZG93LkpTT04pICQucGFyc2VKU09OID0gSlNPTi5wYXJzZTsKICAgICAgICAkLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IiLnNwbGl0KCIgIiksIGZ1bmN0aW9uIChpLCBuYW1lKSB7CiAgICAgICAgICBjbGFzczJ0eXBlWyJbb2JqZWN0ICIgKyBuYW1lICsgIl0iXSA9IG5hbWUudG9Mb3dlckNhc2UoKTsKICAgICAgICB9KTsKICAgICAgICAkLmZuID0gewogICAgICAgICAgY29uc3RydWN0b3I6IHplcHRvLlosCiAgICAgICAgICBsZW5ndGg6IDAsCiAgICAgICAgICBmb3JFYWNoOiBlbXB0eUFycmF5LmZvckVhY2gsCiAgICAgICAgICByZWR1Y2U6IGVtcHR5QXJyYXkucmVkdWNlLAogICAgICAgICAgcHVzaDogZW1wdHlBcnJheS5wdXNoLAogICAgICAgICAgc29ydDogZW1wdHlBcnJheS5zb3J0LAogICAgICAgICAgc3BsaWNlOiBlbXB0eUFycmF5LnNwbGljZSwKICAgICAgICAgIGluZGV4T2Y6IGVtcHR5QXJyYXkuaW5kZXhPZiwKICAgICAgICAgIGNvbmNhdDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgaSwKICAgICAgICAgICAgICB2YWx1ZSwKICAgICAgICAgICAgICBhcmdzID0gW107CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICB2YWx1ZSA9IGFyZ3VtZW50c1tpXTsKICAgICAgICAgICAgICBhcmdzW2ldID0gemVwdG8uaXNaKHZhbHVlKSA/IHZhbHVlLnRvQXJyYXkoKSA6IHZhbHVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBjb25jYXQuYXBwbHkoemVwdG8uaXNaKHRoaXMpID8gdGhpcy50b0FycmF5KCkgOiB0aGlzLCBhcmdzKTsKICAgICAgICAgIH0sCiAgICAgICAgICBtYXA6IGZ1bmN0aW9uIChmbikgewogICAgICAgICAgICByZXR1cm4gJCgkLm1hcCh0aGlzLCBmdW5jdGlvbiAoZWwsIGkpIHsKICAgICAgICAgICAgICByZXR1cm4gZm4uY2FsbChlbCwgaSwgZWwpOwogICAgICAgICAgICB9KSk7CiAgICAgICAgICB9LAogICAgICAgICAgc2xpY2U6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuICQoc2xpY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7CiAgICAgICAgICB9LAogICAgICAgICAgcmVhZHk6IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgICAgICBpZiAocmVhZHlSRS50ZXN0KGRvY3VtZW50LnJlYWR5U3RhdGUpICYmIGRvY3VtZW50LmJvZHkpIGNhbGxiYWNrKCQpO2Vsc2UgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBjYWxsYmFjaygkKTsKICAgICAgICAgICAgfSwgZmFsc2UpOwogICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgIH0sCiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChpZHgpIHsKICAgICAgICAgICAgcmV0dXJuIGlkeCA9PT0gdW5kZWZpbmVkID8gc2xpY2UuY2FsbCh0aGlzKSA6IHRoaXNbaWR4ID49IDAgPyBpZHggOiBpZHggKyB0aGlzLmxlbmd0aF07CiAgICAgICAgICB9LAogICAgICAgICAgdG9BcnJheTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoKTsKICAgICAgICAgIH0sCiAgICAgICAgICBzaXplOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmxlbmd0aDsKICAgICAgICAgIH0sCiAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50Tm9kZSAhPSBudWxsKSB0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwKICAgICAgICAgIGVhY2g6IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgICAgICBlbXB0eUFycmF5LmV2ZXJ5LmNhbGwodGhpcywgZnVuY3Rpb24gKGVsLCBpZHgpIHsKICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2suY2FsbChlbCwgaWR4LCBlbCkgIT09IGZhbHNlOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgICB9LAogICAgICAgICAgZmlsdGVyOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHsKICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oc2VsZWN0b3IpKSByZXR1cm4gdGhpcy5ub3QodGhpcy5ub3Qoc2VsZWN0b3IpKTsKICAgICAgICAgICAgcmV0dXJuICQoZmlsdGVyLmNhbGwodGhpcywgZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gemVwdG8ubWF0Y2hlcyhlbGVtZW50LCBzZWxlY3Rvcik7CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgIH0sCiAgICAgICAgICBhZGQ6IGZ1bmN0aW9uIChzZWxlY3RvciwgY29udGV4dCkgewogICAgICAgICAgICByZXR1cm4gJCh1bmlxKHRoaXMuY29uY2F0KCQoc2VsZWN0b3IsIGNvbnRleHQpKSkpOwogICAgICAgICAgfSwKICAgICAgICAgIGlzOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoID4gMCAmJiB6ZXB0by5tYXRjaGVzKHRoaXNbMF0sIHNlbGVjdG9yKTsKICAgICAgICAgIH0sCiAgICAgICAgICBub3Q6IGZ1bmN0aW9uIChzZWxlY3RvcikgewogICAgICAgICAgICB2YXIgbm9kZXMgPSBbXTsKICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oc2VsZWN0b3IpICYmIHNlbGVjdG9yLmNhbGwgIT09IHVuZGVmaW5lZCkgdGhpcy5lYWNoKGZ1bmN0aW9uIChpZHgpIHsKICAgICAgICAgICAgICBpZiAoIXNlbGVjdG9yLmNhbGwodGhpcywgaWR4KSkgbm9kZXMucHVzaCh0aGlzKTsKICAgICAgICAgICAgfSk7ZWxzZSB7CiAgICAgICAgICAgICAgdmFyIGV4Y2x1ZGVzID0gdHlwZW9mIHNlbGVjdG9yID09ICJzdHJpbmciID8gdGhpcy5maWx0ZXIoc2VsZWN0b3IpIDogbGlrZUFycmF5KHNlbGVjdG9yKSAmJiBpc0Z1bmN0aW9uKHNlbGVjdG9yLml0ZW0pID8gc2xpY2UuY2FsbChzZWxlY3RvcikgOiAkKHNlbGVjdG9yKTsKICAgICAgICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgICBpZiAoZXhjbHVkZXMuaW5kZXhPZihlbCkgPCAwKSBub2Rlcy5wdXNoKGVsKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gJChub2Rlcyk7CiAgICAgICAgICB9LAogICAgICAgICAgaGFzOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gaXNPYmplY3Qoc2VsZWN0b3IpID8gJC5jb250YWlucyh0aGlzLCBzZWxlY3RvcikgOiAkKHRoaXMpLmZpbmQoc2VsZWN0b3IpLnNpemUoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LAogICAgICAgICAgZXE6IGZ1bmN0aW9uIChpZHgpIHsKICAgICAgICAgICAgcmV0dXJuIGlkeCA9PT0gLTEgPyB0aGlzLnNsaWNlKGlkeCkgOiB0aGlzLnNsaWNlKGlkeCwgK2lkeCArIDEpOwogICAgICAgICAgfSwKICAgICAgICAgIGZpcnN0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBlbCA9IHRoaXNbMF07CiAgICAgICAgICAgIHJldHVybiBlbCAmJiAhaXNPYmplY3QoZWwpID8gZWwgOiAkKGVsKTsKICAgICAgICAgIH0sCiAgICAgICAgICBsYXN0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBlbCA9IHRoaXNbdGhpcy5sZW5ndGggLSAxXTsKICAgICAgICAgICAgcmV0dXJuIGVsICYmICFpc09iamVjdChlbCkgPyBlbCA6ICQoZWwpOwogICAgICAgICAgfSwKICAgICAgICAgIGZpbmQ6IGZ1bmN0aW9uIChzZWxlY3RvcikgewogICAgICAgICAgICB2YXIgcmVzdWx0LAogICAgICAgICAgICAgICR0aGlzID0gdGhpczsKICAgICAgICAgICAgaWYgKCFzZWxlY3RvcikgcmVzdWx0ID0gJCgpO2Vsc2UgaWYgKHR5cGVvZiBzZWxlY3RvciA9PSAib2JqZWN0IikgcmVzdWx0ID0gJChzZWxlY3RvcikuZmlsdGVyKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB2YXIgbm9kZSA9IHRoaXM7CiAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5QXJyYXkuc29tZS5jYWxsKCR0aGlzLCBmdW5jdGlvbiAocGFyZW50KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJC5jb250YWlucyhwYXJlbnQsIG5vZGUpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTtlbHNlIGlmICh0aGlzLmxlbmd0aCA9PSAxKSByZXN1bHQgPSAkKHplcHRvLnFzYSh0aGlzWzBdLCBzZWxlY3RvcikpO2Vsc2UgcmVzdWx0ID0gdGhpcy5tYXAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiB6ZXB0by5xc2EodGhpcywgc2VsZWN0b3IpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgIH0sCiAgICAgICAgICBjbG9zZXN0OiBmdW5jdGlvbiAoc2VsZWN0b3IsIGNvbnRleHQpIHsKICAgICAgICAgICAgdmFyIG5vZGVzID0gW10sCiAgICAgICAgICAgICAgY29sbGVjdGlvbiA9IHR5cGVvZiBzZWxlY3RvciA9PSAib2JqZWN0IiAmJiAkKHNlbGVjdG9yKTsKICAgICAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChfLCBub2RlKSB7CiAgICAgICAgICAgICAgd2hpbGUgKG5vZGUgJiYgIShjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5pbmRleE9mKG5vZGUpID49IDAgOiB6ZXB0by5tYXRjaGVzKG5vZGUsIHNlbGVjdG9yKSkpIG5vZGUgPSBub2RlICE9PSBjb250ZXh0ICYmICFpc0RvY3VtZW50KG5vZGUpICYmIG5vZGUucGFyZW50Tm9kZTsKICAgICAgICAgICAgICBpZiAobm9kZSAmJiBub2Rlcy5pbmRleE9mKG5vZGUpIDwgMCkgbm9kZXMucHVzaChub2RlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiAkKG5vZGVzKTsKICAgICAgICAgIH0sCiAgICAgICAgICBwYXJlbnRzOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHsKICAgICAgICAgICAgdmFyIGFuY2VzdG9ycyA9IFtdLAogICAgICAgICAgICAgIG5vZGVzID0gdGhpczsKICAgICAgICAgICAgd2hpbGUgKG5vZGVzLmxlbmd0aCA+IDApIG5vZGVzID0gJC5tYXAobm9kZXMsIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgICAgICAgaWYgKChub2RlID0gbm9kZS5wYXJlbnROb2RlKSAmJiAhaXNEb2N1bWVudChub2RlKSAmJiBhbmNlc3RvcnMuaW5kZXhPZihub2RlKSA8IDApIHsKICAgICAgICAgICAgICAgIGFuY2VzdG9ycy5wdXNoKG5vZGUpOwogICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkKGFuY2VzdG9ycywgc2VsZWN0b3IpOwogICAgICAgICAgfSwKICAgICAgICAgIHBhcmVudDogZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJlZCh1bmlxKHRoaXMucGx1Y2soInBhcmVudE5vZGUiKSksIHNlbGVjdG9yKTsKICAgICAgICAgIH0sCiAgICAgICAgICBjaGlsZHJlbjogZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJlZCh0aGlzLm1hcChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuKHRoaXMpOwogICAgICAgICAgICB9KSwgc2VsZWN0b3IpOwogICAgICAgICAgfSwKICAgICAgICAgIGNvbnRlbnRzOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGVudERvY3VtZW50IHx8IHNsaWNlLmNhbGwodGhpcy5jaGlsZE5vZGVzKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LAogICAgICAgICAgc2libGluZ3M6IGZ1bmN0aW9uIChzZWxlY3RvcikgewogICAgICAgICAgICByZXR1cm4gZmlsdGVyZWQodGhpcy5tYXAoZnVuY3Rpb24gKGksIGVsKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlci5jYWxsKGNoaWxkcmVuKGVsLnBhcmVudE5vZGUpLCBmdW5jdGlvbiAoY2hpbGQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZCAhPT0gZWw7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pLCBzZWxlY3Rvcik7CiAgICAgICAgICB9LAogICAgICAgICAgZW1wdHk6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgdGhpcy5pbm5lckhUTUwgPSAiIjsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LAogICAgICAgICAgcGx1Y2s6IGZ1bmN0aW9uIChwcm9wZXJ0eSkgewogICAgICAgICAgICByZXR1cm4gJC5tYXAodGhpcywgZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVsW3Byb3BlcnR5XTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LAogICAgICAgICAgc2hvdzogZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB0aGlzLnN0eWxlLmRpc3BsYXkgPT0gIm5vbmUiICYmICh0aGlzLnN0eWxlLmRpc3BsYXkgPSAiIik7CiAgICAgICAgICAgICAgaWYgKGdldENvbXB1dGVkU3R5bGUodGhpcywgIiIpLmdldFByb3BlcnR5VmFsdWUoImRpc3BsYXkiKSA9PSAibm9uZSIpIHRoaXMuc3R5bGUuZGlzcGxheSA9IGRlZmF1bHREaXNwbGF5KHRoaXMubm9kZU5hbWUpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sCiAgICAgICAgICByZXBsYWNlV2l0aDogZnVuY3Rpb24gKG5ld0NvbnRlbnQpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmVmb3JlKG5ld0NvbnRlbnQpLnJlbW92ZSgpOwogICAgICAgICAgfSwKICAgICAgICAgIHdyYXA6IGZ1bmN0aW9uIChzdHJ1Y3R1cmUpIHsKICAgICAgICAgICAgdmFyIGZ1bmMgPSBpc0Z1bmN0aW9uKHN0cnVjdHVyZSk7CiAgICAgICAgICAgIGlmICh0aGlzWzBdICYmICFmdW5jKSB2YXIgZG9tID0gJChzdHJ1Y3R1cmUpLmdldCgwKSwKICAgICAgICAgICAgICBjbG9uZSA9IGRvbS5wYXJlbnROb2RlIHx8IHRoaXMubGVuZ3RoID4gMTsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoaW5kZXgpIHsKICAgICAgICAgICAgICAkKHRoaXMpLndyYXBBbGwoZnVuYyA/IHN0cnVjdHVyZS5jYWxsKHRoaXMsIGluZGV4KSA6IGNsb25lID8gZG9tLmNsb25lTm9kZSh0cnVlKSA6IGRvbSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwKICAgICAgICAgIHdyYXBBbGw6IGZ1bmN0aW9uIChzdHJ1Y3R1cmUpIHsKICAgICAgICAgICAgaWYgKHRoaXNbMF0pIHsKICAgICAgICAgICAgICAkKHRoaXNbMF0pLmJlZm9yZShzdHJ1Y3R1cmUgPSAkKHN0cnVjdHVyZSkpOwogICAgICAgICAgICAgIHZhciBjaGlsZHJlbjsKICAgICAgICAgICAgICB3aGlsZSAoKGNoaWxkcmVuID0gc3RydWN0dXJlLmNoaWxkcmVuKCkpLmxlbmd0aCkgc3RydWN0dXJlID0gY2hpbGRyZW4uZmlyc3QoKTsKICAgICAgICAgICAgICAkKHN0cnVjdHVyZSkuYXBwZW5kKHRoaXMpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgICAgfSwKICAgICAgICAgIHdyYXBJbm5lcjogZnVuY3Rpb24gKHN0cnVjdHVyZSkgewogICAgICAgICAgICB2YXIgZnVuYyA9IGlzRnVuY3Rpb24oc3RydWN0dXJlKTsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoaW5kZXgpIHsKICAgICAgICAgICAgICB2YXIgc2VsZiA9ICQodGhpcyksCiAgICAgICAgICAgICAgICBjb250ZW50cyA9IHNlbGYuY29udGVudHMoKSwKICAgICAgICAgICAgICAgIGRvbSA9IGZ1bmMgPyBzdHJ1Y3R1cmUuY2FsbCh0aGlzLCBpbmRleCkgOiBzdHJ1Y3R1cmU7CiAgICAgICAgICAgICAgY29udGVudHMubGVuZ3RoID8gY29udGVudHMud3JhcEFsbChkb20pIDogc2VsZi5hcHBlbmQoZG9tKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LAogICAgICAgICAgdW53cmFwOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgJCh0aGlzKS5yZXBsYWNlV2l0aCgkKHRoaXMpLmNoaWxkcmVuKCkpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgICB9LAogICAgICAgICAgY2xvbmU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbG9uZU5vZGUodHJ1ZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwKICAgICAgICAgIGhpZGU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKTsKICAgICAgICAgIH0sCiAgICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uIChzZXR0aW5nKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBlbCA9ICQodGhpcyk7CiAgICAgICAgICAgICAgKHNldHRpbmcgPT09IHVuZGVmaW5lZCA/IGVsLmNzcygiZGlzcGxheSIpID09ICJub25lIiA6IHNldHRpbmcpID8gZWwuc2hvdygpIDogZWwuaGlkZSgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sCiAgICAgICAgICBwcmV2OiBmdW5jdGlvbiAoc2VsZWN0b3IpIHsKICAgICAgICAgICAgcmV0dXJuICQodGhpcy5wbHVjaygicHJldmlvdXNFbGVtZW50U2libGluZyIpKS5maWx0ZXIoc2VsZWN0b3IgfHwgIioiKTsKICAgICAgICAgIH0sCiAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAoc2VsZWN0b3IpIHsKICAgICAgICAgICAgcmV0dXJuICQodGhpcy5wbHVjaygibmV4dEVsZW1lbnRTaWJsaW5nIikpLmZpbHRlcihzZWxlY3RvciB8fCAiKiIpOwogICAgICAgICAgfSwKICAgICAgICAgIGh0bWw6IGZ1bmN0aW9uIChodG1sKSB7CiAgICAgICAgICAgIHJldHVybiAwIGluIGFyZ3VtZW50cyA/IHRoaXMuZWFjaChmdW5jdGlvbiAoaWR4KSB7CiAgICAgICAgICAgICAgdmFyIG9yaWdpbkh0bWwgPSB0aGlzLmlubmVySFRNTDsKICAgICAgICAgICAgICAkKHRoaXMpLmVtcHR5KCkuYXBwZW5kKGZ1bmNBcmcodGhpcywgaHRtbCwgaWR4LCBvcmlnaW5IdG1sKSk7CiAgICAgICAgICAgIH0pIDogMCBpbiB0aGlzID8gdGhpc1swXS5pbm5lckhUTUwgOiBudWxsOwogICAgICAgICAgfSwKICAgICAgICAgIHRleHQ6IGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgICAgIHJldHVybiAwIGluIGFyZ3VtZW50cyA/IHRoaXMuZWFjaChmdW5jdGlvbiAoaWR4KSB7CiAgICAgICAgICAgICAgdmFyIG5ld1RleHQgPSBmdW5jQXJnKHRoaXMsIHRleHQsIGlkeCwgdGhpcy50ZXh0Q29udGVudCk7CiAgICAgICAgICAgICAgdGhpcy50ZXh0Q29udGVudCA9IG5ld1RleHQgPT0gbnVsbCA/ICIiIDogIiIgKyBuZXdUZXh0OwogICAgICAgICAgICB9KSA6IDAgaW4gdGhpcyA/IHRoaXMucGx1Y2soInRleHRDb250ZW50Iikuam9pbigiIikgOiBudWxsOwogICAgICAgICAgfSwKICAgICAgICAgIGF0dHI6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkgewogICAgICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgICAgICByZXR1cm4gdHlwZW9mIG5hbWUgPT0gInN0cmluZyIgJiYgISgxIGluIGFyZ3VtZW50cykgPyAwIGluIHRoaXMgJiYgdGhpc1swXS5ub2RlVHlwZSA9PSAxICYmIChyZXN1bHQgPSB0aGlzWzBdLmdldEF0dHJpYnV0ZShuYW1lKSkgIT0gbnVsbCA/IHJlc3VsdCA6IHVuZGVmaW5lZCA6IHRoaXMuZWFjaChmdW5jdGlvbiAoaWR4KSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMubm9kZVR5cGUgIT09IDEpIHJldHVybjsKICAgICAgICAgICAgICBpZiAoaXNPYmplY3QobmFtZSkpIGZvciAoa2V5IGluIG5hbWUpIHNldEF0dHJpYnV0ZSh0aGlzLCBrZXksIG5hbWVba2V5XSk7ZWxzZSBzZXRBdHRyaWJ1dGUodGhpcywgbmFtZSwgZnVuY0FyZyh0aGlzLCB2YWx1ZSwgaWR4LCB0aGlzLmdldEF0dHJpYnV0ZShuYW1lKSkpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sCiAgICAgICAgICByZW1vdmVBdHRyOiBmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB0aGlzLm5vZGVUeXBlID09PSAxICYmIG5hbWUuc3BsaXQoIiAiKS5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyaWJ1dGUpIHsKICAgICAgICAgICAgICAgIHNldEF0dHJpYnV0ZSh0aGlzLCBhdHRyaWJ1dGUpOwogICAgICAgICAgICAgIH0sIHRoaXMpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sCiAgICAgICAgICBwcm9wOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHsKICAgICAgICAgICAgbmFtZSA9IHByb3BNYXBbbmFtZV0gfHwgbmFtZTsKICAgICAgICAgICAgcmV0dXJuIDEgaW4gYXJndW1lbnRzID8gdGhpcy5lYWNoKGZ1bmN0aW9uIChpZHgpIHsKICAgICAgICAgICAgICB0aGlzW25hbWVdID0gZnVuY0FyZyh0aGlzLCB2YWx1ZSwgaWR4LCB0aGlzW25hbWVdKTsKICAgICAgICAgICAgfSkgOiB0aGlzWzBdICYmIHRoaXNbMF1bbmFtZV07CiAgICAgICAgICB9LAogICAgICAgICAgcmVtb3ZlUHJvcDogZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICAgbmFtZSA9IHByb3BNYXBbbmFtZV0gfHwgbmFtZTsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgZGVsZXRlIHRoaXNbbmFtZV07CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwKICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkgewogICAgICAgICAgICB2YXIgYXR0ck5hbWUgPSAiZGF0YS0iICsgbmFtZS5yZXBsYWNlKGNhcGl0YWxSRSwgIi0kMSIpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgIHZhciBkYXRhID0gMSBpbiBhcmd1bWVudHMgPyB0aGlzLmF0dHIoYXR0ck5hbWUsIHZhbHVlKSA6IHRoaXMuYXR0cihhdHRyTmFtZSk7CiAgICAgICAgICAgIHJldHVybiBkYXRhICE9PSBudWxsID8gZGVzZXJpYWxpemVWYWx1ZShkYXRhKSA6IHVuZGVmaW5lZDsKICAgICAgICAgIH0sCiAgICAgICAgICB2YWw6IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICBpZiAoMCBpbiBhcmd1bWVudHMpIHsKICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkgdmFsdWUgPSAiIjsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChpZHgpIHsKICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBmdW5jQXJnKHRoaXMsIHZhbHVlLCBpZHgsIHRoaXMudmFsdWUpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJldHVybiB0aGlzWzBdICYmICh0aGlzWzBdLm11bHRpcGxlID8gJCh0aGlzWzBdKS5maW5kKCJvcHRpb24iKS5maWx0ZXIoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWQ7CiAgICAgICAgICAgICAgfSkucGx1Y2soInZhbHVlIikgOiB0aGlzWzBdLnZhbHVlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIG9mZnNldDogZnVuY3Rpb24gKGNvb3JkaW5hdGVzKSB7CiAgICAgICAgICAgIGlmIChjb29yZGluYXRlcykgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoaW5kZXgpIHsKICAgICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLAogICAgICAgICAgICAgICAgY29vcmRzID0gZnVuY0FyZyh0aGlzLCBjb29yZGluYXRlcywgaW5kZXgsICR0aGlzLm9mZnNldCgpKSwKICAgICAgICAgICAgICAgIHBhcmVudE9mZnNldCA9ICR0aGlzLm9mZnNldFBhcmVudCgpLm9mZnNldCgpLAogICAgICAgICAgICAgICAgcHJvcHMgPSB7CiAgICAgICAgICAgICAgICAgIHRvcDogY29vcmRzLnRvcCAtIHBhcmVudE9mZnNldC50b3AsCiAgICAgICAgICAgICAgICAgIGxlZnQ6IGNvb3Jkcy5sZWZ0IC0gcGFyZW50T2Zmc2V0LmxlZnQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgaWYgKCR0aGlzLmNzcygicG9zaXRpb24iKSA9PSAic3RhdGljIikgcHJvcHNbInBvc2l0aW9uIl0gPSAicmVsYXRpdmUiOwogICAgICAgICAgICAgICR0aGlzLmNzcyhwcm9wcyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAoIXRoaXMubGVuZ3RoKSByZXR1cm4gbnVsbDsKICAgICAgICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAhPT0gdGhpc1swXSAmJiAhJC5jb250YWlucyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHRoaXNbMF0pKSByZXR1cm4gewogICAgICAgICAgICAgIHRvcDogMCwKICAgICAgICAgICAgICBsZWZ0OiAwCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHZhciBvYmogPSB0aGlzWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIGxlZnQ6IG9iai5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0LAogICAgICAgICAgICAgIHRvcDogb2JqLnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCwKICAgICAgICAgICAgICB3aWR0aDogTWF0aC5yb3VuZChvYmoud2lkdGgpLAogICAgICAgICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChvYmouaGVpZ2h0KQogICAgICAgICAgICB9OwogICAgICAgICAgfSwKICAgICAgICAgIGNzczogZnVuY3Rpb24gKHByb3BlcnR5LCB2YWx1ZSkgewogICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHsKICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXNbMF07CiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSA9PSAic3RyaW5nIikgewogICAgICAgICAgICAgICAgaWYgKCFlbGVtZW50KSByZXR1cm47CiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5zdHlsZVtjYW1lbGl6ZShwcm9wZXJ0eSldIHx8IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgIiIpLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShwcm9wZXJ0eSkpIHsKICAgICAgICAgICAgICAgIGlmICghZWxlbWVudCkgcmV0dXJuOwogICAgICAgICAgICAgICAgdmFyIHByb3BzID0ge307CiAgICAgICAgICAgICAgICB2YXIgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgIiIpOwogICAgICAgICAgICAgICAgJC5lYWNoKHByb3BlcnR5LCBmdW5jdGlvbiAoXywgcHJvcCkgewogICAgICAgICAgICAgICAgICBwcm9wc1twcm9wXSA9IGVsZW1lbnQuc3R5bGVbY2FtZWxpemUocHJvcCldIHx8IGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShwcm9wKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIHByb3BzOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgY3NzID0gIiI7CiAgICAgICAgICAgIGlmICh0eXBlKHByb3BlcnR5KSA9PSAic3RyaW5nIikgewogICAgICAgICAgICAgIGlmICghdmFsdWUgJiYgdmFsdWUgIT09IDApIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KGRhc2hlcml6ZShwcm9wZXJ0eSkpOwogICAgICAgICAgICAgIH0pO2Vsc2UgY3NzID0gZGFzaGVyaXplKHByb3BlcnR5KSArICI6IiArIG1heWJlQWRkUHgocHJvcGVydHksIHZhbHVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBmb3IgKGtleSBpbiBwcm9wZXJ0eSkgaWYgKCFwcm9wZXJ0eVtrZXldICYmIHByb3BlcnR5W2tleV0gIT09IDApIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KGRhc2hlcml6ZShrZXkpKTsKICAgICAgICAgICAgICB9KTtlbHNlIGNzcyArPSBkYXNoZXJpemUoa2V5KSArICI6IiArIG1heWJlQWRkUHgoa2V5LCBwcm9wZXJ0eVtrZXldKSArICI7IjsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB0aGlzLnN0eWxlLmNzc1RleHQgKz0gIjsiICsgY3NzOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sCiAgICAgICAgICBpbmRleDogZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQgPyB0aGlzLmluZGV4T2YoJChlbGVtZW50KVswXSkgOiB0aGlzLnBhcmVudCgpLmNoaWxkcmVuKCkuaW5kZXhPZih0aGlzWzBdKTsKICAgICAgICAgIH0sCiAgICAgICAgICBoYXNDbGFzczogZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICAgaWYgKCFuYW1lKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIHJldHVybiBlbXB0eUFycmF5LnNvbWUuY2FsbCh0aGlzLCBmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy50ZXN0KGNsYXNzTmFtZShlbCkpOwogICAgICAgICAgICB9LCBjbGFzc1JFKG5hbWUpKTsKICAgICAgICAgIH0sCiAgICAgICAgICBhZGRDbGFzczogZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICAgaWYgKCFuYW1lKSByZXR1cm4gdGhpczsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoaWR4KSB7CiAgICAgICAgICAgICAgaWYgKCEoImNsYXNzTmFtZSIgaW4gdGhpcykpIHJldHVybjsKICAgICAgICAgICAgICBjbGFzc0xpc3QgPSBbXTsKICAgICAgICAgICAgICB2YXIgY2xzID0gY2xhc3NOYW1lKHRoaXMpLAogICAgICAgICAgICAgICAgbmV3TmFtZSA9IGZ1bmNBcmcodGhpcywgbmFtZSwgaWR4LCBjbHMpOwogICAgICAgICAgICAgIG5ld05hbWUuc3BsaXQoL1xzKy9nKS5mb3JFYWNoKGZ1bmN0aW9uIChrbGFzcykgewogICAgICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKGtsYXNzKSkgY2xhc3NMaXN0LnB1c2goa2xhc3MpOwogICAgICAgICAgICAgIH0sIHRoaXMpOwogICAgICAgICAgICAgIGNsYXNzTGlzdC5sZW5ndGggJiYgY2xhc3NOYW1lKHRoaXMsIGNscyArIChjbHMgPyAiICIgOiAiIikgKyBjbGFzc0xpc3Quam9pbigiICIpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LAogICAgICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGlkeCkgewogICAgICAgICAgICAgIGlmICghKCJjbGFzc05hbWUiIGluIHRoaXMpKSByZXR1cm47CiAgICAgICAgICAgICAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGNsYXNzTmFtZSh0aGlzLCAiIik7CiAgICAgICAgICAgICAgY2xhc3NMaXN0ID0gY2xhc3NOYW1lKHRoaXMpOwogICAgICAgICAgICAgIGZ1bmNBcmcodGhpcywgbmFtZSwgaWR4LCBjbGFzc0xpc3QpLnNwbGl0KC9ccysvZykuZm9yRWFjaChmdW5jdGlvbiAoa2xhc3MpIHsKICAgICAgICAgICAgICAgIGNsYXNzTGlzdCA9IGNsYXNzTGlzdC5yZXBsYWNlKGNsYXNzUkUoa2xhc3MpLCAiICIpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNsYXNzTmFtZSh0aGlzLCBjbGFzc0xpc3QudHJpbSgpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LAogICAgICAgICAgdG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uIChuYW1lLCB3aGVuKSB7CiAgICAgICAgICAgIGlmICghbmFtZSkgcmV0dXJuIHRoaXM7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGlkeCkgewogICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksCiAgICAgICAgICAgICAgICBuYW1lcyA9IGZ1bmNBcmcodGhpcywgbmFtZSwgaWR4LCBjbGFzc05hbWUodGhpcykpOwogICAgICAgICAgICAgIG5hbWVzLnNwbGl0KC9ccysvZykuZm9yRWFjaChmdW5jdGlvbiAoa2xhc3MpIHsKICAgICAgICAgICAgICAgICh3aGVuID09PSB1bmRlZmluZWQgPyAhJHRoaXMuaGFzQ2xhc3Moa2xhc3MpIDogd2hlbikgPyAkdGhpcy5hZGRDbGFzcyhrbGFzcykgOiAkdGhpcy5yZW1vdmVDbGFzcyhrbGFzcyk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwKICAgICAgICAgIHNjcm9sbFRvcDogZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5sZW5ndGgpIHJldHVybjsKICAgICAgICAgICAgdmFyIGhhc1Njcm9sbFRvcCA9ICJzY3JvbGxUb3AiIGluIHRoaXNbMF07CiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gaGFzU2Nyb2xsVG9wID8gdGhpc1swXS5zY3JvbGxUb3AgOiB0aGlzWzBdLnBhZ2VZT2Zmc2V0OwogICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGhhc1Njcm9sbFRvcCA/IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB0aGlzLnNjcm9sbFRvcCA9IHZhbHVlOwogICAgICAgICAgICB9IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG8odGhpcy5zY3JvbGxYLCB2YWx1ZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwKICAgICAgICAgIHNjcm9sbExlZnQ6IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICBpZiAoIXRoaXMubGVuZ3RoKSByZXR1cm47CiAgICAgICAgICAgIHZhciBoYXNTY3JvbGxMZWZ0ID0gInNjcm9sbExlZnQiIGluIHRoaXNbMF07CiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gaGFzU2Nyb2xsTGVmdCA/IHRoaXNbMF0uc2Nyb2xsTGVmdCA6IHRoaXNbMF0ucGFnZVhPZmZzZXQ7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goaGFzU2Nyb2xsTGVmdCA/IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB0aGlzLnNjcm9sbExlZnQgPSB2YWx1ZTsKICAgICAgICAgICAgfSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB0aGlzLnNjcm9sbFRvKHZhbHVlLCB0aGlzLnNjcm9sbFkpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sCiAgICAgICAgICBwb3NpdGlvbjogZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoIXRoaXMubGVuZ3RoKSByZXR1cm47CiAgICAgICAgICAgIHZhciBlbGVtID0gdGhpc1swXSwKICAgICAgICAgICAgICBvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudCgpLAogICAgICAgICAgICAgIG9mZnNldCA9IHRoaXMub2Zmc2V0KCksCiAgICAgICAgICAgICAgcGFyZW50T2Zmc2V0ID0gcm9vdE5vZGVSRS50ZXN0KG9mZnNldFBhcmVudFswXS5ub2RlTmFtZSkgPyB7CiAgICAgICAgICAgICAgICB0b3A6IDAsCiAgICAgICAgICAgICAgICBsZWZ0OiAwCiAgICAgICAgICAgICAgfSA6IG9mZnNldFBhcmVudC5vZmZzZXQoKTsKICAgICAgICAgICAgb2Zmc2V0LnRvcCAtPSBwYXJzZUZsb2F0KCQoZWxlbSkuY3NzKCJtYXJnaW4tdG9wIikpIHx8IDA7CiAgICAgICAgICAgIG9mZnNldC5sZWZ0IC09IHBhcnNlRmxvYXQoJChlbGVtKS5jc3MoIm1hcmdpbi1sZWZ0IikpIHx8IDA7CiAgICAgICAgICAgIHBhcmVudE9mZnNldC50b3AgKz0gcGFyc2VGbG9hdCgkKG9mZnNldFBhcmVudFswXSkuY3NzKCJib3JkZXItdG9wLXdpZHRoIikpIHx8IDA7CiAgICAgICAgICAgIHBhcmVudE9mZnNldC5sZWZ0ICs9IHBhcnNlRmxvYXQoJChvZmZzZXRQYXJlbnRbMF0pLmNzcygiYm9yZGVyLWxlZnQtd2lkdGgiKSkgfHwgMDsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICB0b3A6IG9mZnNldC50b3AgLSBwYXJlbnRPZmZzZXQudG9wLAogICAgICAgICAgICAgIGxlZnQ6IG9mZnNldC5sZWZ0IC0gcGFyZW50T2Zmc2V0LmxlZnQKICAgICAgICAgICAgfTsKICAgICAgICAgIH0sCiAgICAgICAgICBvZmZzZXRQYXJlbnQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5vZmZzZXRQYXJlbnQgfHwgZG9jdW1lbnQuYm9keTsKICAgICAgICAgICAgICB3aGlsZSAocGFyZW50ICYmICFyb290Tm9kZVJFLnRlc3QocGFyZW50Lm5vZGVOYW1lKSAmJiAkKHBhcmVudCkuY3NzKCJwb3NpdGlvbiIpID09ICJzdGF0aWMiKSBwYXJlbnQgPSBwYXJlbnQub2Zmc2V0UGFyZW50OwogICAgICAgICAgICAgIHJldHVybiBwYXJlbnQ7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgJC5mbi5kZXRhY2ggPSAkLmZuLnJlbW92ZTsKICAgICAgICBbIndpZHRoIiwgImhlaWdodCJdLmZvckVhY2goZnVuY3Rpb24gKGRpbWVuc2lvbikgewogICAgICAgICAgdmFyIGRpbWVuc2lvblByb3BlcnR5ID0gZGltZW5zaW9uLnJlcGxhY2UoLy4vLCBmdW5jdGlvbiAobSkgewogICAgICAgICAgICByZXR1cm4gbVswXS50b1VwcGVyQ2FzZSgpOwogICAgICAgICAgfSk7CiAgICAgICAgICAkLmZuW2RpbWVuc2lvbl0gPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgdmFyIG9mZnNldCwKICAgICAgICAgICAgICBlbCA9IHRoaXNbMF07CiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gaXNXaW5kb3coZWwpID8gZWxbImlubmVyIiArIGRpbWVuc2lvblByb3BlcnR5XSA6IGlzRG9jdW1lbnQoZWwpID8gZWwuZG9jdW1lbnRFbGVtZW50WyJzY3JvbGwiICsgZGltZW5zaW9uUHJvcGVydHldIDogKG9mZnNldCA9IHRoaXMub2Zmc2V0KCkpICYmIG9mZnNldFtkaW1lbnNpb25dO2Vsc2UgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoaWR4KSB7CiAgICAgICAgICAgICAgZWwgPSAkKHRoaXMpOwogICAgICAgICAgICAgIGVsLmNzcyhkaW1lbnNpb24sIGZ1bmNBcmcodGhpcywgdmFsdWUsIGlkeCwgZWxbZGltZW5zaW9uXSgpKSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfTsKICAgICAgICB9KTsKICAgICAgICBmdW5jdGlvbiB0cmF2ZXJzZU5vZGUobm9kZSwgZnVuKSB7CiAgICAgICAgICBmdW4obm9kZSk7CiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB0cmF2ZXJzZU5vZGUobm9kZS5jaGlsZE5vZGVzW2ldLCBmdW4pOwogICAgICAgIH0KICAgICAgICBhZGphY2VuY3lPcGVyYXRvcnMuZm9yRWFjaChmdW5jdGlvbiAob3BlcmF0b3IsIG9wZXJhdG9ySW5kZXgpIHsKICAgICAgICAgIHZhciBpbnNpZGUgPSBvcGVyYXRvckluZGV4ICUgMjsKICAgICAgICAgICQuZm5bb3BlcmF0b3JdID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgYXJnVHlwZSwKICAgICAgICAgICAgICBub2RlcyA9ICQubWFwKGFyZ3VtZW50cywgZnVuY3Rpb24gKGFyZykgewogICAgICAgICAgICAgICAgdmFyIGFyciA9IFtdOwogICAgICAgICAgICAgICAgYXJnVHlwZSA9IHR5cGUoYXJnKTsKICAgICAgICAgICAgICAgIGlmIChhcmdUeXBlID09ICJhcnJheSIpIHsKICAgICAgICAgICAgICAgICAgYXJnLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVsLm5vZGVUeXBlICE9PSB1bmRlZmluZWQpIHJldHVybiBhcnIucHVzaChlbCk7ZWxzZSBpZiAoJC56ZXB0by5pc1ooZWwpKSByZXR1cm4gYXJyID0gYXJyLmNvbmNhdChlbC5nZXQoKSk7CiAgICAgICAgICAgICAgICAgICAgYXJyID0gYXJyLmNvbmNhdCh6ZXB0by5mcmFnbWVudChlbCkpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBhcmdUeXBlID09ICJvYmplY3QiIHx8IGFyZyA9PSBudWxsID8gYXJnIDogemVwdG8uZnJhZ21lbnQoYXJnKTsKICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICBwYXJlbnQsCiAgICAgICAgICAgICAgY29weUJ5Q2xvbmUgPSB0aGlzLmxlbmd0aCA+IDE7CiAgICAgICAgICAgIGlmIChub2Rlcy5sZW5ndGggPCAxKSByZXR1cm4gdGhpczsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoXywgdGFyZ2V0KSB7CiAgICAgICAgICAgICAgcGFyZW50ID0gaW5zaWRlID8gdGFyZ2V0IDogdGFyZ2V0LnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgdGFyZ2V0ID0gb3BlcmF0b3JJbmRleCA9PSAwID8gdGFyZ2V0Lm5leHRTaWJsaW5nIDogb3BlcmF0b3JJbmRleCA9PSAxID8gdGFyZ2V0LmZpcnN0Q2hpbGQgOiBvcGVyYXRvckluZGV4ID09IDIgPyB0YXJnZXQgOiBudWxsOwogICAgICAgICAgICAgIHZhciBwYXJlbnRJbkRvY3VtZW50ID0gJC5jb250YWlucyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHBhcmVudCk7CiAgICAgICAgICAgICAgbm9kZXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkgewogICAgICAgICAgICAgICAgaWYgKGNvcHlCeUNsb25lKSBub2RlID0gbm9kZS5jbG9uZU5vZGUodHJ1ZSk7ZWxzZSBpZiAoIXBhcmVudCkgcmV0dXJuICQobm9kZSkucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIHRhcmdldCk7CiAgICAgICAgICAgICAgICBpZiAocGFyZW50SW5Eb2N1bWVudCkgdHJhdmVyc2VOb2RlKG5vZGUsIGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgICAgICAgICBpZiAoZWwubm9kZU5hbWUgIT0gbnVsbCAmJiBlbC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09PSAiU0NSSVBUIiAmJiAoIWVsLnR5cGUgfHwgZWwudHlwZSA9PT0gInRleHQvamF2YXNjcmlwdCIpICYmICFlbC5zcmMpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZWwub3duZXJEb2N1bWVudCA/IGVsLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgOiB3aW5kb3c7CiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WyJldmFsIl0uY2FsbCh0YXJnZXQsIGVsLmlubmVySFRNTCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH07CiAgICAgICAgICAkLmZuW2luc2lkZSA/IG9wZXJhdG9yICsgIlRvIiA6ICJpbnNlcnQiICsgKG9wZXJhdG9ySW5kZXggPyAiQmVmb3JlIiA6ICJBZnRlciIpXSA9IGZ1bmN0aW9uIChodG1sKSB7CiAgICAgICAgICAgICQoaHRtbClbb3BlcmF0b3JdKHRoaXMpOwogICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgICAgemVwdG8uWi5wcm90b3R5cGUgPSBaLnByb3RvdHlwZSA9ICQuZm47CiAgICAgICAgemVwdG8udW5pcSA9IHVuaXE7CiAgICAgICAgemVwdG8uZGVzZXJpYWxpemVWYWx1ZSA9IGRlc2VyaWFsaXplVmFsdWU7CiAgICAgICAgJC56ZXB0byA9IHplcHRvOwogICAgICAgIHJldHVybiAkOwogICAgICB9KCk7CiAgICAgIChmdW5jdGlvbiAoJCkgewogICAgICAgIHZhciBfemlkID0gMSwKICAgICAgICAgIHVuZGVmaW5lZCwKICAgICAgICAgIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLAogICAgICAgICAgaXNGdW5jdGlvbiA9ICQuaXNGdW5jdGlvbiwKICAgICAgICAgIGlzU3RyaW5nID0gZnVuY3Rpb24gKG9iaikgewogICAgICAgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PSAic3RyaW5nIjsKICAgICAgICAgIH0sCiAgICAgICAgICBoYW5kbGVycyA9IHt9LAogICAgICAgICAgc3BlY2lhbEV2ZW50cyA9IHt9LAogICAgICAgICAgZm9jdXNpblN1cHBvcnRlZCA9ICJvbmZvY3VzaW4iIGluIHdpbmRvdywKICAgICAgICAgIGZvY3VzID0gewogICAgICAgICAgICBmb2N1czogImZvY3VzaW4iLAogICAgICAgICAgICBibHVyOiAiZm9jdXNvdXQiCiAgICAgICAgICB9LAogICAgICAgICAgaG92ZXIgPSB7CiAgICAgICAgICAgIG1vdXNlZW50ZXI6ICJtb3VzZW92ZXIiLAogICAgICAgICAgICBtb3VzZWxlYXZlOiAibW91c2VvdXQiCiAgICAgICAgICB9OwogICAgICAgIHNwZWNpYWxFdmVudHMuY2xpY2sgPSBzcGVjaWFsRXZlbnRzLm1vdXNlZG93biA9IHNwZWNpYWxFdmVudHMubW91c2V1cCA9IHNwZWNpYWxFdmVudHMubW91c2Vtb3ZlID0gIk1vdXNlRXZlbnRzIjsKICAgICAgICBmdW5jdGlvbiB6aWQoZWxlbWVudCkgewogICAgICAgICAgcmV0dXJuIGVsZW1lbnQuX3ppZCB8fCAoZWxlbWVudC5femlkID0gX3ppZCsrKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZmluZEhhbmRsZXJzKGVsZW1lbnQsIGV2ZW50LCBmbiwgc2VsZWN0b3IpIHsKICAgICAgICAgIGV2ZW50ID0gcGFyc2UoZXZlbnQpOwogICAgICAgICAgaWYgKGV2ZW50Lm5zKSB2YXIgbWF0Y2hlciA9IG1hdGNoZXJGb3IoZXZlbnQubnMpOwogICAgICAgICAgcmV0dXJuIChoYW5kbGVyc1t6aWQoZWxlbWVudCldIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGhhbmRsZXIpIHsKICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXIgJiYgKCFldmVudC5lIHx8IGhhbmRsZXIuZSA9PSBldmVudC5lKSAmJiAoIWV2ZW50Lm5zIHx8IG1hdGNoZXIudGVzdChoYW5kbGVyLm5zKSkgJiYgKCFmbiB8fCB6aWQoaGFuZGxlci5mbikgPT09IHppZChmbikpICYmICghc2VsZWN0b3IgfHwgaGFuZGxlci5zZWwgPT0gc2VsZWN0b3IpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHBhcnNlKGV2ZW50KSB7CiAgICAgICAgICB2YXIgcGFydHMgPSAoIiIgKyBldmVudCkuc3BsaXQoIi4iKTsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGU6IHBhcnRzWzBdLAogICAgICAgICAgICBuczogcGFydHMuc2xpY2UoMSkuc29ydCgpLmpvaW4oIiAiKQogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gbWF0Y2hlckZvcihucykgewogICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoIig/Ol58ICkiICsgbnMucmVwbGFjZSgiICIsICIgLiogPyIpICsgIig/OiB8JCkiKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZXZlbnRDYXB0dXJlKGhhbmRsZXIsIGNhcHR1cmVTZXR0aW5nKSB7CiAgICAgICAgICByZXR1cm4gaGFuZGxlci5kZWwgJiYgIWZvY3VzaW5TdXBwb3J0ZWQgJiYgaGFuZGxlci5lIGluIGZvY3VzIHx8ICEhY2FwdHVyZVNldHRpbmc7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHJlYWxFdmVudCh0eXBlKSB7CiAgICAgICAgICByZXR1cm4gaG92ZXJbdHlwZV0gfHwgZm9jdXNpblN1cHBvcnRlZCAmJiBmb2N1c1t0eXBlXSB8fCB0eXBlOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBhZGQoZWxlbWVudCwgZXZlbnRzLCBmbiwgZGF0YSwgc2VsZWN0b3IsIGRlbGVnYXRvciwgY2FwdHVyZSkgewogICAgICAgICAgdmFyIGlkID0gemlkKGVsZW1lbnQpLAogICAgICAgICAgICBzZXQgPSBoYW5kbGVyc1tpZF0gfHwgKGhhbmRsZXJzW2lkXSA9IFtdKTsKICAgICAgICAgIGV2ZW50cy5zcGxpdCgvXHMvKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICBpZiAoZXZlbnQgPT0gInJlYWR5IikgcmV0dXJuICQoZG9jdW1lbnQpLnJlYWR5KGZuKTsKICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBwYXJzZShldmVudCk7CiAgICAgICAgICAgIGhhbmRsZXIuZm4gPSBmbjsKICAgICAgICAgICAgaGFuZGxlci5zZWwgPSBzZWxlY3RvcjsKICAgICAgICAgICAgaWYgKGhhbmRsZXIuZSBpbiBob3ZlcikgZm4gPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIHZhciByZWxhdGVkID0gZS5yZWxhdGVkVGFyZ2V0OwogICAgICAgICAgICAgIGlmICghcmVsYXRlZCB8fCByZWxhdGVkICE9PSB0aGlzICYmICEkLmNvbnRhaW5zKHRoaXMsIHJlbGF0ZWQpKSByZXR1cm4gaGFuZGxlci5mbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICB9OwogICAgICAgICAgICBoYW5kbGVyLmRlbCA9IGRlbGVnYXRvcjsKICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gZGVsZWdhdG9yIHx8IGZuOwogICAgICAgICAgICBoYW5kbGVyLnByb3h5ID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICBlID0gY29tcGF0aWJsZShlKTsKICAgICAgICAgICAgICBpZiAoZS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKSByZXR1cm47CiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHZhciBkYXRhUHJvcERlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsICJkYXRhIik7CiAgICAgICAgICAgICAgICBpZiAoIWRhdGFQcm9wRGVzY3JpcHRvciB8fCBkYXRhUHJvcERlc2NyaXB0b3Iud3JpdGFibGUpIGUuZGF0YSA9IGRhdGE7CiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2suYXBwbHkoZWxlbWVudCwgZS5fYXJncyA9PSB1bmRlZmluZWQgPyBbZV0gOiBbZV0uY29uY2F0KGUuX2FyZ3MpKTsKICAgICAgICAgICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkgZS5wcmV2ZW50RGVmYXVsdCgpLCBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGhhbmRsZXIuaSA9IHNldC5sZW5ndGg7CiAgICAgICAgICAgIHNldC5wdXNoKGhhbmRsZXIpOwogICAgICAgICAgICBpZiAoImFkZEV2ZW50TGlzdGVuZXIiIGluIGVsZW1lbnQpIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihyZWFsRXZlbnQoaGFuZGxlci5lKSwgaGFuZGxlci5wcm94eSwgZXZlbnRDYXB0dXJlKGhhbmRsZXIsIGNhcHR1cmUpKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiByZW1vdmUoZWxlbWVudCwgZXZlbnRzLCBmbiwgc2VsZWN0b3IsIGNhcHR1cmUpIHsKICAgICAgICAgIHZhciBpZCA9IHppZChlbGVtZW50KTsKICAgICAgICAgIChldmVudHMgfHwgIiIpLnNwbGl0KC9ccy8pLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgIGZpbmRIYW5kbGVycyhlbGVtZW50LCBldmVudCwgZm4sIHNlbGVjdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVyKSB7CiAgICAgICAgICAgICAgZGVsZXRlIGhhbmRsZXJzW2lkXVtoYW5kbGVyLmldOwogICAgICAgICAgICAgIGlmICgicmVtb3ZlRXZlbnRMaXN0ZW5lciIgaW4gZWxlbWVudCkgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHJlYWxFdmVudChoYW5kbGVyLmUpLCBoYW5kbGVyLnByb3h5LCBldmVudENhcHR1cmUoaGFuZGxlciwgY2FwdHVyZSkpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICAkLmV2ZW50ID0gewogICAgICAgICAgYWRkOiBhZGQsCiAgICAgICAgICByZW1vdmU6IHJlbW92ZQogICAgICAgIH07CiAgICAgICAgJC5wcm94eSA9IGZ1bmN0aW9uIChmbiwgY29udGV4dCkgewogICAgICAgICAgdmFyIGFyZ3MgPSAyIGluIGFyZ3VtZW50cyAmJiBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7CiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihmbikpIHsKICAgICAgICAgICAgdmFyIHByb3h5Rm4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MgPyBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpIDogYXJndW1lbnRzKTsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcHJveHlGbi5femlkID0gemlkKGZuKTsKICAgICAgICAgICAgcmV0dXJuIHByb3h5Rm47CiAgICAgICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKGNvbnRleHQpKSB7CiAgICAgICAgICAgIGlmIChhcmdzKSB7CiAgICAgICAgICAgICAgYXJncy51bnNoaWZ0KGZuW2NvbnRleHRdLCBmbik7CiAgICAgICAgICAgICAgcmV0dXJuICQucHJveHkuYXBwbHkobnVsbCwgYXJncyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuICQucHJveHkoZm5bY29udGV4dF0sIGZuKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiZXhwZWN0ZWQgZnVuY3Rpb24iKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgICQuZm4uYmluZCA9IGZ1bmN0aW9uIChldmVudCwgZGF0YSwgY2FsbGJhY2spIHsKICAgICAgICAgIHJldHVybiB0aGlzLm9uKGV2ZW50LCBkYXRhLCBjYWxsYmFjayk7CiAgICAgICAgfTsKICAgICAgICAkLmZuLnVuYmluZCA9IGZ1bmN0aW9uIChldmVudCwgY2FsbGJhY2spIHsKICAgICAgICAgIHJldHVybiB0aGlzLm9mZihldmVudCwgY2FsbGJhY2spOwogICAgICAgIH07CiAgICAgICAgJC5mbi5vbmUgPSBmdW5jdGlvbiAoZXZlbnQsIHNlbGVjdG9yLCBkYXRhLCBjYWxsYmFjaykgewogICAgICAgICAgcmV0dXJuIHRoaXMub24oZXZlbnQsIHNlbGVjdG9yLCBkYXRhLCBjYWxsYmFjaywgMSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgcmV0dXJuVHJ1ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9LAogICAgICAgICAgcmV0dXJuRmFsc2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0sCiAgICAgICAgICBpZ25vcmVQcm9wZXJ0aWVzID0gL14oW0EtWl18cmV0dXJuVmFsdWUkfGxheWVyW1hZXSR8d2Via2l0TW92ZW1lbnRbWFldJCkvLAogICAgICAgICAgZXZlbnRNZXRob2RzID0gewogICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogImlzRGVmYXVsdFByZXZlbnRlZCIsCiAgICAgICAgICAgIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogImlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkIiwKICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiAiaXNQcm9wYWdhdGlvblN0b3BwZWQiCiAgICAgICAgICB9OwogICAgICAgIGZ1bmN0aW9uIGNvbXBhdGlibGUoZXZlbnQsIHNvdXJjZSkgewogICAgICAgICAgaWYgKHNvdXJjZSB8fCAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKSB7CiAgICAgICAgICAgIHNvdXJjZSB8fCAoc291cmNlID0gZXZlbnQpOwogICAgICAgICAgICAkLmVhY2goZXZlbnRNZXRob2RzLCBmdW5jdGlvbiAobmFtZSwgcHJlZGljYXRlKSB7CiAgICAgICAgICAgICAgdmFyIHNvdXJjZU1ldGhvZCA9IHNvdXJjZVtuYW1lXTsKICAgICAgICAgICAgICBldmVudFtuYW1lXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHRoaXNbcHJlZGljYXRlXSA9IHJldHVyblRydWU7CiAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlTWV0aG9kICYmIHNvdXJjZU1ldGhvZC5hcHBseShzb3VyY2UsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBldmVudFtwcmVkaWNhdGVdID0gcmV0dXJuRmFsc2U7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBldmVudC50aW1lU3RhbXAgfHwgKGV2ZW50LnRpbWVTdGFtcCA9IERhdGUubm93KCkpOwogICAgICAgICAgICBpZiAoc291cmNlLmRlZmF1bHRQcmV2ZW50ZWQgIT09IHVuZGVmaW5lZCA/IHNvdXJjZS5kZWZhdWx0UHJldmVudGVkIDogInJldHVyblZhbHVlIiBpbiBzb3VyY2UgPyBzb3VyY2UucmV0dXJuVmFsdWUgPT09IGZhbHNlIDogc291cmNlLmdldFByZXZlbnREZWZhdWx0ICYmIHNvdXJjZS5nZXRQcmV2ZW50RGVmYXVsdCgpKSBldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQgPSByZXR1cm5UcnVlOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGV2ZW50OwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBjcmVhdGVQcm94eShldmVudCkgewogICAgICAgICAgdmFyIGtleSwKICAgICAgICAgICAgcHJveHkgPSB7CiAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQKICAgICAgICAgICAgfTsKICAgICAgICAgIGZvciAoa2V5IGluIGV2ZW50KSBpZiAoIWlnbm9yZVByb3BlcnRpZXMudGVzdChrZXkpICYmIGV2ZW50W2tleV0gIT09IHVuZGVmaW5lZCkgcHJveHlba2V5XSA9IGV2ZW50W2tleV07CiAgICAgICAgICByZXR1cm4gY29tcGF0aWJsZShwcm94eSwgZXZlbnQpOwogICAgICAgIH0KICAgICAgICAkLmZuLmRlbGVnYXRlID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBldmVudCwgY2FsbGJhY2spIHsKICAgICAgICAgIHJldHVybiB0aGlzLm9uKGV2ZW50LCBzZWxlY3RvciwgY2FsbGJhY2spOwogICAgICAgIH07CiAgICAgICAgJC5mbi51bmRlbGVnYXRlID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBldmVudCwgY2FsbGJhY2spIHsKICAgICAgICAgIHJldHVybiB0aGlzLm9mZihldmVudCwgc2VsZWN0b3IsIGNhbGxiYWNrKTsKICAgICAgICB9OwogICAgICAgICQuZm4ubGl2ZSA9IGZ1bmN0aW9uIChldmVudCwgY2FsbGJhY2spIHsKICAgICAgICAgICQoZG9jdW1lbnQuYm9keSkuZGVsZWdhdGUodGhpcy5zZWxlY3RvciwgZXZlbnQsIGNhbGxiYWNrKTsKICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH07CiAgICAgICAgJC5mbi5kaWUgPSBmdW5jdGlvbiAoZXZlbnQsIGNhbGxiYWNrKSB7CiAgICAgICAgICAkKGRvY3VtZW50LmJvZHkpLnVuZGVsZWdhdGUodGhpcy5zZWxlY3RvciwgZXZlbnQsIGNhbGxiYWNrKTsKICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH07CiAgICAgICAgJC5mbi5vbiA9IGZ1bmN0aW9uIChldmVudCwgc2VsZWN0b3IsIGRhdGEsIGNhbGxiYWNrLCBvbmUpIHsKICAgICAgICAgIHZhciBhdXRvUmVtb3ZlLAogICAgICAgICAgICBkZWxlZ2F0b3IsCiAgICAgICAgICAgICR0aGlzID0gdGhpczsKICAgICAgICAgIGlmIChldmVudCAmJiAhaXNTdHJpbmcoZXZlbnQpKSB7CiAgICAgICAgICAgICQuZWFjaChldmVudCwgZnVuY3Rpb24gKHR5cGUsIGZuKSB7CiAgICAgICAgICAgICAgJHRoaXMub24odHlwZSwgc2VsZWN0b3IsIGRhdGEsIGZuLCBvbmUpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuICR0aGlzOwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFpc1N0cmluZyhzZWxlY3RvcikgJiYgIWlzRnVuY3Rpb24oY2FsbGJhY2spICYmIGNhbGxiYWNrICE9PSBmYWxzZSkgY2FsbGJhY2sgPSBkYXRhLCBkYXRhID0gc2VsZWN0b3IsIHNlbGVjdG9yID0gdW5kZWZpbmVkOwogICAgICAgICAgaWYgKGNhbGxiYWNrID09PSB1bmRlZmluZWQgfHwgZGF0YSA9PT0gZmFsc2UpIGNhbGxiYWNrID0gZGF0YSwgZGF0YSA9IHVuZGVmaW5lZDsKICAgICAgICAgIGlmIChjYWxsYmFjayA9PT0gZmFsc2UpIGNhbGxiYWNrID0gcmV0dXJuRmFsc2U7CiAgICAgICAgICByZXR1cm4gJHRoaXMuZWFjaChmdW5jdGlvbiAoXywgZWxlbWVudCkgewogICAgICAgICAgICBpZiAob25lKSBhdXRvUmVtb3ZlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICByZW1vdmUoZWxlbWVudCwgZS50eXBlLCBjYWxsYmFjayk7CiAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGlmIChzZWxlY3RvcikgZGVsZWdhdG9yID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICB2YXIgZXZ0LAogICAgICAgICAgICAgICAgbWF0Y2ggPSAkKGUudGFyZ2V0KS5jbG9zZXN0KHNlbGVjdG9yLCBlbGVtZW50KS5nZXQoMCk7CiAgICAgICAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoICE9PSBlbGVtZW50KSB7CiAgICAgICAgICAgICAgICBldnQgPSAkLmV4dGVuZChjcmVhdGVQcm94eShlKSwgewogICAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0OiBtYXRjaCwKICAgICAgICAgICAgICAgICAgbGl2ZUZpcmVkOiBlbGVtZW50CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiAoYXV0b1JlbW92ZSB8fCBjYWxsYmFjaykuYXBwbHkobWF0Y2gsIFtldnRdLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGFkZChlbGVtZW50LCBldmVudCwgY2FsbGJhY2ssIGRhdGEsIHNlbGVjdG9yLCBkZWxlZ2F0b3IgfHwgYXV0b1JlbW92ZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgICQuZm4ub2ZmID0gZnVuY3Rpb24gKGV2ZW50LCBzZWxlY3RvciwgY2FsbGJhY2spIHsKICAgICAgICAgIHZhciAkdGhpcyA9IHRoaXM7CiAgICAgICAgICBpZiAoZXZlbnQgJiYgIWlzU3RyaW5nKGV2ZW50KSkgewogICAgICAgICAgICAkLmVhY2goZXZlbnQsIGZ1bmN0aW9uICh0eXBlLCBmbikgewogICAgICAgICAgICAgICR0aGlzLm9mZih0eXBlLCBzZWxlY3RvciwgZm4pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuICR0aGlzOwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFpc1N0cmluZyhzZWxlY3RvcikgJiYgIWlzRnVuY3Rpb24oY2FsbGJhY2spICYmIGNhbGxiYWNrICE9PSBmYWxzZSkgY2FsbGJhY2sgPSBzZWxlY3Rvciwgc2VsZWN0b3IgPSB1bmRlZmluZWQ7CiAgICAgICAgICBpZiAoY2FsbGJhY2sgPT09IGZhbHNlKSBjYWxsYmFjayA9IHJldHVybkZhbHNlOwogICAgICAgICAgcmV0dXJuICR0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZW1vdmUodGhpcywgZXZlbnQsIGNhbGxiYWNrLCBzZWxlY3Rvcik7CiAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgICQuZm4udHJpZ2dlciA9IGZ1bmN0aW9uIChldmVudCwgYXJncykgewogICAgICAgICAgZXZlbnQgPSBpc1N0cmluZyhldmVudCkgfHwgJC5pc1BsYWluT2JqZWN0KGV2ZW50KSA/ICQuRXZlbnQoZXZlbnQpIDogY29tcGF0aWJsZShldmVudCk7CiAgICAgICAgICBldmVudC5fYXJncyA9IGFyZ3M7CiAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgaW4gZm9jdXMgJiYgdHlwZW9mIHRoaXNbZXZlbnQudHlwZV0gPT0gImZ1bmN0aW9uIikgdGhpc1tldmVudC50eXBlXSgpO2Vsc2UgaWYgKCJkaXNwYXRjaEV2ZW50IiBpbiB0aGlzKSB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO2Vsc2UgJCh0aGlzKS50cmlnZ2VySGFuZGxlcihldmVudCwgYXJncyk7CiAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgICQuZm4udHJpZ2dlckhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQsIGFyZ3MpIHsKICAgICAgICAgIHZhciBlLCByZXN1bHQ7CiAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKGksIGVsZW1lbnQpIHsKICAgICAgICAgICAgZSA9IGNyZWF0ZVByb3h5KGlzU3RyaW5nKGV2ZW50KSA/ICQuRXZlbnQoZXZlbnQpIDogZXZlbnQpOwogICAgICAgICAgICBlLl9hcmdzID0gYXJnczsKICAgICAgICAgICAgZS50YXJnZXQgPSBlbGVtZW50OwogICAgICAgICAgICAkLmVhY2goZmluZEhhbmRsZXJzKGVsZW1lbnQsIGV2ZW50LnR5cGUgfHwgZXZlbnQpLCBmdW5jdGlvbiAoaSwgaGFuZGxlcikgewogICAgICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZXIucHJveHkoZSk7CiAgICAgICAgICAgICAgaWYgKGUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9OwogICAgICAgICgiZm9jdXNpbiBmb2N1c291dCBmb2N1cyBibHVyIGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgIiArICJtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSAiICsgImNoYW5nZSBzZWxlY3Qga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvciIpLnNwbGl0KCIgIikuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICQuZm5bZXZlbnRdID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHJldHVybiAwIGluIGFyZ3VtZW50cyA/IHRoaXMuYmluZChldmVudCwgY2FsbGJhY2spIDogdGhpcy50cmlnZ2VyKGV2ZW50KTsKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgICAgJC5FdmVudCA9IGZ1bmN0aW9uICh0eXBlLCBwcm9wcykgewogICAgICAgICAgaWYgKCFpc1N0cmluZyh0eXBlKSkgcHJvcHMgPSB0eXBlLCB0eXBlID0gcHJvcHMudHlwZTsKICAgICAgICAgIHZhciBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KHNwZWNpYWxFdmVudHNbdHlwZV0gfHwgIkV2ZW50cyIpLAogICAgICAgICAgICBidWJibGVzID0gdHJ1ZTsKICAgICAgICAgIGlmIChwcm9wcykgZm9yICh2YXIgbmFtZSBpbiBwcm9wcykgbmFtZSA9PSAiYnViYmxlcyIgPyBidWJibGVzID0gISFwcm9wc1tuYW1lXSA6IGV2ZW50W25hbWVdID0gcHJvcHNbbmFtZV07CiAgICAgICAgICBldmVudC5pbml0RXZlbnQodHlwZSwgYnViYmxlcywgdHJ1ZSk7CiAgICAgICAgICByZXR1cm4gY29tcGF0aWJsZShldmVudCk7CiAgICAgICAgfTsKICAgICAgfSkoWmVwdG8pOwogICAgICAoZnVuY3Rpb24gKCQpIHsKICAgICAgICB2YXIgY2FjaGUgPSBbXSwKICAgICAgICAgIHRpbWVvdXQ7CiAgICAgICAgJC5mbi5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgIGlmICh0aGlzLnRhZ05hbWUgPT09ICJJTUciKSB7CiAgICAgICAgICAgICAgICBjYWNoZS5wdXNoKHRoaXMpOwogICAgICAgICAgICAgICAgdGhpcy5zcmMgPSAiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFBRC9BQ3dBQUFBQUFRQUJBQUFDQURzPSI7CiAgICAgICAgICAgICAgICBpZiAodGltZW91dCkgY2xlYXJUaW1lb3V0KHRpbWVvdXQpOwogICAgICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBjYWNoZSA9IFtdOwogICAgICAgICAgICAgICAgfSwgNmU0KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICB9KShaZXB0byk7CiAgICAgIChmdW5jdGlvbiAoJCkgewogICAgICAgIHZhciBkYXRhID0ge30sCiAgICAgICAgICBkYXRhQXR0ciA9ICQuZm4uZGF0YSwKICAgICAgICAgIGNhbWVsaXplID0gJC5jYW1lbENhc2UsCiAgICAgICAgICBleHAgPSAkLmV4cGFuZG8gPSAiWmVwdG8iICsgK25ldyBEYXRlKCksCiAgICAgICAgICBlbXB0eUFycmF5ID0gW107CiAgICAgICAgZnVuY3Rpb24gZ2V0RGF0YShub2RlLCBuYW1lKSB7CiAgICAgICAgICB2YXIgaWQgPSBub2RlW2V4cF0sCiAgICAgICAgICAgIHN0b3JlID0gaWQgJiYgZGF0YVtpZF07CiAgICAgICAgICBpZiAobmFtZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gc3RvcmUgfHwgc2V0RGF0YShub2RlKTtlbHNlIHsKICAgICAgICAgICAgaWYgKHN0b3JlKSB7CiAgICAgICAgICAgICAgaWYgKG5hbWUgaW4gc3RvcmUpIHJldHVybiBzdG9yZVtuYW1lXTsKICAgICAgICAgICAgICB2YXIgY2FtZWxOYW1lID0gY2FtZWxpemUobmFtZSk7CiAgICAgICAgICAgICAgaWYgKGNhbWVsTmFtZSBpbiBzdG9yZSkgcmV0dXJuIHN0b3JlW2NhbWVsTmFtZV07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGRhdGFBdHRyLmNhbGwoJChub2RlKSwgbmFtZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHNldERhdGEobm9kZSwgbmFtZSwgdmFsdWUpIHsKICAgICAgICAgIHZhciBpZCA9IG5vZGVbZXhwXSB8fCAobm9kZVtleHBdID0gKyskLnV1aWQpLAogICAgICAgICAgICBzdG9yZSA9IGRhdGFbaWRdIHx8IChkYXRhW2lkXSA9IGF0dHJpYnV0ZURhdGEobm9kZSkpOwogICAgICAgICAgaWYgKG5hbWUgIT09IHVuZGVmaW5lZCkgc3RvcmVbY2FtZWxpemUobmFtZSldID0gdmFsdWU7CiAgICAgICAgICByZXR1cm4gc3RvcmU7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGF0dHJpYnV0ZURhdGEobm9kZSkgewogICAgICAgICAgdmFyIHN0b3JlID0ge307CiAgICAgICAgICAkLmVhY2gobm9kZS5hdHRyaWJ1dGVzIHx8IGVtcHR5QXJyYXksIGZ1bmN0aW9uIChpLCBhdHRyKSB7CiAgICAgICAgICAgIGlmIChhdHRyLm5hbWUuaW5kZXhPZigiZGF0YS0iKSA9PSAwKSBzdG9yZVtjYW1lbGl6ZShhdHRyLm5hbWUucmVwbGFjZSgiZGF0YS0iLCAiIikpXSA9ICQuemVwdG8uZGVzZXJpYWxpemVWYWx1ZShhdHRyLnZhbHVlKTsKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIHN0b3JlOwogICAgICAgIH0KICAgICAgICAkLmZuLmRhdGEgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHsKICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gJC5pc1BsYWluT2JqZWN0KG5hbWUpID8gdGhpcy5lYWNoKGZ1bmN0aW9uIChpLCBub2RlKSB7CiAgICAgICAgICAgICQuZWFjaChuYW1lLCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkgewogICAgICAgICAgICAgIHNldERhdGEobm9kZSwga2V5LCB2YWx1ZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSkgOiAwIGluIHRoaXMgPyBnZXREYXRhKHRoaXNbMF0sIG5hbWUpIDogdW5kZWZpbmVkIDogdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgc2V0RGF0YSh0aGlzLCBuYW1lLCB2YWx1ZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgICQuZGF0YSA9IGZ1bmN0aW9uIChlbGVtLCBuYW1lLCB2YWx1ZSkgewogICAgICAgICAgcmV0dXJuICQoZWxlbSkuZGF0YShuYW1lLCB2YWx1ZSk7CiAgICAgICAgfTsKICAgICAgICAkLmhhc0RhdGEgPSBmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgdmFyIGlkID0gZWxlbVtleHBdLAogICAgICAgICAgICBzdG9yZSA9IGlkICYmIGRhdGFbaWRdOwogICAgICAgICAgcmV0dXJuIHN0b3JlID8gISQuaXNFbXB0eU9iamVjdChzdG9yZSkgOiBmYWxzZTsKICAgICAgICB9OwogICAgICAgICQuZm4ucmVtb3ZlRGF0YSA9IGZ1bmN0aW9uIChuYW1lcykgewogICAgICAgICAgaWYgKHR5cGVvZiBuYW1lcyA9PSAic3RyaW5nIikgbmFtZXMgPSBuYW1lcy5zcGxpdCgvXHMrLyk7CiAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGlkID0gdGhpc1tleHBdLAogICAgICAgICAgICAgIHN0b3JlID0gaWQgJiYgZGF0YVtpZF07CiAgICAgICAgICAgIGlmIChzdG9yZSkgJC5lYWNoKG5hbWVzIHx8IHN0b3JlLCBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgZGVsZXRlIHN0b3JlW25hbWVzID8gY2FtZWxpemUodGhpcykgOiBrZXldOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgWyJyZW1vdmUiLCAiZW1wdHkiXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2ROYW1lKSB7CiAgICAgICAgICB2YXIgb3JpZ0ZuID0gJC5mblttZXRob2ROYW1lXTsKICAgICAgICAgICQuZm5bbWV0aG9kTmFtZV0gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IHRoaXMuZmluZCgiKiIpOwogICAgICAgICAgICBpZiAobWV0aG9kTmFtZSA9PT0gInJlbW92ZSIpIGVsZW1lbnRzID0gZWxlbWVudHMuYWRkKHRoaXMpOwogICAgICAgICAgICBlbGVtZW50cy5yZW1vdmVEYXRhKCk7CiAgICAgICAgICAgIHJldHVybiBvcmlnRm4uY2FsbCh0aGlzKTsKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgIH0pKFplcHRvKTsKICAgICAgcmV0dXJuIFplcHRvOwogICAgfSk7CiAgfSwgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgInVzZSBzdHJpY3QiOwoKICAgIHZhciBuYW1lc3BhY2UgPSAiYXV0b2NvbXBsZXRlOiI7CiAgICB2YXIgXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7CiAgICB2YXIgRE9NID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKICAgIGZ1bmN0aW9uIEV2ZW50QnVzKG8pIHsKICAgICAgaWYgKCFvIHx8ICFvLmVsKSB7CiAgICAgICAgXy5lcnJvcigiRXZlbnRCdXMgaW5pdGlhbGl6ZWQgd2l0aG91dCBlbCIpOwogICAgICB9CiAgICAgIHRoaXMuJGVsID0gRE9NLmVsZW1lbnQoby5lbCk7CiAgICB9CiAgICBfLm1peGluKEV2ZW50QnVzLnByb3RvdHlwZSwgewogICAgICB0cmlnZ2VyOiBmdW5jdGlvbiAodHlwZSwgc3VnZ2VzdGlvbiwgZGF0YXNldCwgY29udGV4dCkgewogICAgICAgIHZhciBldmVudCA9IF8uRXZlbnQobmFtZXNwYWNlICsgdHlwZSk7CiAgICAgICAgdGhpcy4kZWwudHJpZ2dlcihldmVudCwgW3N1Z2dlc3Rpb24sIGRhdGFzZXQsIGNvbnRleHRdKTsKICAgICAgICByZXR1cm4gZXZlbnQ7CiAgICAgIH0KICAgIH0pOwogICAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudEJ1czsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgbW9kdWxlLmV4cG9ydHMgPSB7CiAgICAgIHdyYXBwZXI6ICc8c3BhbiBjbGFzcz0iJVJPT1QlIj48L3NwYW4+JywKICAgICAgZHJvcGRvd246ICc8c3BhbiBjbGFzcz0iJVBSRUZJWCUlRFJPUERPV05fTUVOVSUiPjwvc3Bhbj4nLAogICAgICBkYXRhc2V0OiAnPGRpdiBjbGFzcz0iJVBSRUZJWCUlREFUQVNFVCUtJUNMQVNTJSI+PC9kaXY+JywKICAgICAgc3VnZ2VzdGlvbnM6ICc8c3BhbiBjbGFzcz0iJVBSRUZJWCUlU1VHR0VTVElPTlMlIj48L3NwYW4+JywKICAgICAgc3VnZ2VzdGlvbjogJzxkaXYgY2xhc3M9IiVQUkVGSVglJVNVR0dFU1RJT04lIj48L2Rpdj4nCiAgICB9OwogIH0sIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHsKICAgIG1vZHVsZS5leHBvcnRzID0gIjAuMzYuMCI7CiAgfSwgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgInVzZSBzdHJpY3QiOwoKICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VBbGdvbGlhQ2xpZW50VmVyc2lvbihhZ2VudCkgewogICAgICB2YXIgcGFyc2VkID0gYWdlbnQubWF0Y2goL0FsZ29saWEgZm9yIHZhbmlsbGEgSmF2YVNjcmlwdCAoXGQrXC4pKFxkK1wuKShcZCspLyk7CiAgICAgIGlmIChwYXJzZWQpIHJldHVybiBbcGFyc2VkWzFdLCBwYXJzZWRbMl0sIHBhcnNlZFszXV07CiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9OwogIH0sIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICJ1c2Ugc3RyaWN0IjsKCiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICAgIHZhbHVlOiB0cnVlCiAgICB9KTsKICAgIHZhciBfemVwdG8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTsKICAgIHZhciBfemVwdG8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfemVwdG8pOwogICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsKICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgICAgICBkZWZhdWx0OiBvYmoKICAgICAgfTsKICAgIH0KICAgIGV4cG9ydHMuZGVmYXVsdCA9IF96ZXB0bzIuZGVmYXVsdDsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogICAgICB2YWx1ZTogdHJ1ZQogICAgfSk7CiAgICBleHBvcnRzLmRlZmF1bHQgPSAiMi42LjMiOwogIH0sIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICJ1c2Ugc3RyaWN0IjsKCiAgICB2YXIgX21haW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTsKICAgIHZhciBfbWFpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYWluKTsKICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICAgICAgZGVmYXVsdDogb2JqCiAgICAgIH07CiAgICB9CiAgICBtb2R1bGUuZXhwb3J0cyA9IF9tYWluMi5kZWZhdWx0OwogIH0sIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICJ1c2Ugc3RyaWN0IjsKCiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICAgIHZhbHVlOiB0cnVlCiAgICB9KTsKICAgIHZhciBfdG9GYWN0b3J5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7CiAgICB2YXIgX3RvRmFjdG9yeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b0ZhY3RvcnkpOwogICAgdmFyIF9Eb2NTZWFyY2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTsKICAgIHZhciBfRG9jU2VhcmNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RvY1NlYXJjaCk7CiAgICB2YXIgX3ZlcnNpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTsKICAgIHZhciBfdmVyc2lvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92ZXJzaW9uKTsKICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICAgICAgZGVmYXVsdDogb2JqCiAgICAgIH07CiAgICB9CiAgICB2YXIgZG9jc2VhcmNoID0gKDAsIF90b0ZhY3RvcnkyLmRlZmF1bHQpKF9Eb2NTZWFyY2gyLmRlZmF1bHQpOwogICAgZG9jc2VhcmNoLnZlcnNpb24gPSBfdmVyc2lvbjIuZGVmYXVsdDsKICAgIGV4cG9ydHMuZGVmYXVsdCA9IGRvY3NlYXJjaDsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgdmFyIF9iaW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ7CiAgICBmdW5jdGlvbiB0b0ZhY3RvcnkoQ2xhc3MpIHsKICAgICAgdmFyIEZhY3RvcnkgPSBmdW5jdGlvbiBGYWN0b3J5KCkgewogICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbmV3IChfYmluZC5hcHBseShDbGFzcywgW251bGxdLmNvbmNhdChhcmdzKSkpKCk7CiAgICAgIH07CiAgICAgIEZhY3RvcnkuX19wcm90b19fID0gQ2xhc3M7CiAgICAgIEZhY3RvcnkucHJvdG90eXBlID0gQ2xhc3MucHJvdG90eXBlOwogICAgICByZXR1cm4gRmFjdG9yeTsKICAgIH0KICAgIG1vZHVsZS5leHBvcnRzID0gdG9GYWN0b3J5OwogIH0sIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICJ1c2Ugc3RyaWN0IjsKCiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICAgIHZhbHVlOiB0cnVlCiAgICB9KTsKICAgIHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgewogICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07CiAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgewogICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsKICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH07CiAgICB2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgewogICAgICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOwogICAgICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOwogICAgICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOwogICAgICAgICAgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7CiAgICAgICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsKICAgICAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsKICAgICAgICByZXR1cm4gQ29uc3RydWN0b3I7CiAgICAgIH07CiAgICB9KCk7CiAgICB2YXIgX2hvZ2FuID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7CiAgICB2YXIgX2hvZ2FuMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hvZ2FuKTsKICAgIHZhciBfbGl0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpOwogICAgdmFyIF9saXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xpdGUpOwogICAgdmFyIF9hdXRvY29tcGxldGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTsKICAgIHZhciBfYXV0b2NvbXBsZXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F1dG9jb21wbGV0ZSk7CiAgICB2YXIgX3RlbXBsYXRlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNjQpOwogICAgdmFyIF90ZW1wbGF0ZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGVtcGxhdGVzKTsKICAgIHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KTsKICAgIHZhciBfdXRpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbHMpOwogICAgdmFyIF92ZXJzaW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7CiAgICB2YXIgX3ZlcnNpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmVyc2lvbik7CiAgICB2YXIgX3plcHRvID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7CiAgICB2YXIgX3plcHRvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3plcHRvKTsKICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICAgICAgZGVmYXVsdDogb2JqCiAgICAgIH07CiAgICB9CiAgICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7CiAgICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7CiAgICAgIH0KICAgIH0KICAgIHZhciB1c2FnZSA9ICJVc2FnZTpcbiAgZG9jdW1lbnRhdGlvblNlYXJjaCh7XG4gIGFwaUtleSxcbiAgaW5kZXhOYW1lLFxuICBpbnB1dFNlbGVjdG9yLFxuICBbIGFwcElkIF0sXG4gIFsgYWxnb2xpYU9wdGlvbnMue2hpdHNQZXJQYWdlfSBdXG4gIFsgYXV0b2NvbXBsZXRlT3B0aW9ucy57aGludCxkZWJ1Z30gXVxufSkiOwogICAgdmFyIERvY1NlYXJjaCA9IGZ1bmN0aW9uICgpIHsKICAgICAgZnVuY3Rpb24gRG9jU2VhcmNoKF9yZWYpIHsKICAgICAgICB2YXIgYXBpS2V5ID0gX3JlZi5hcGlLZXksCiAgICAgICAgICBpbmRleE5hbWUgPSBfcmVmLmluZGV4TmFtZSwKICAgICAgICAgIGlucHV0U2VsZWN0b3IgPSBfcmVmLmlucHV0U2VsZWN0b3IsCiAgICAgICAgICBfcmVmJGFwcElkID0gX3JlZi5hcHBJZCwKICAgICAgICAgIGFwcElkID0gX3JlZiRhcHBJZCA9PT0gdW5kZWZpbmVkID8gIkJINEQ5T0QxNkEiIDogX3JlZiRhcHBJZCwKICAgICAgICAgIF9yZWYkZGVidWcgPSBfcmVmLmRlYnVnLAogICAgICAgICAgZGVidWcgPSBfcmVmJGRlYnVnID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYkZGVidWcsCiAgICAgICAgICBfcmVmJGFsZ29saWFPcHRpb25zID0gX3JlZi5hbGdvbGlhT3B0aW9ucywKICAgICAgICAgIGFsZ29saWFPcHRpb25zID0gX3JlZiRhbGdvbGlhT3B0aW9ucyA9PT0gdW5kZWZpbmVkID8ge30gOiBfcmVmJGFsZ29saWFPcHRpb25zLAogICAgICAgICAgX3JlZiRxdWVyeURhdGFDYWxsYmFjID0gX3JlZi5xdWVyeURhdGFDYWxsYmFjaywKICAgICAgICAgIHF1ZXJ5RGF0YUNhbGxiYWNrID0gX3JlZiRxdWVyeURhdGFDYWxsYmFjID09PSB1bmRlZmluZWQgPyBudWxsIDogX3JlZiRxdWVyeURhdGFDYWxsYmFjLAogICAgICAgICAgX3JlZiRhdXRvY29tcGxldGVPcHRpID0gX3JlZi5hdXRvY29tcGxldGVPcHRpb25zLAogICAgICAgICAgYXV0b2NvbXBsZXRlT3B0aW9ucyA9IF9yZWYkYXV0b2NvbXBsZXRlT3B0aSA9PT0gdW5kZWZpbmVkID8gewogICAgICAgICAgICBkZWJ1ZzogZmFsc2UsCiAgICAgICAgICAgIGhpbnQ6IGZhbHNlLAogICAgICAgICAgICBhdXRvc2VsZWN0OiB0cnVlCiAgICAgICAgICB9IDogX3JlZiRhdXRvY29tcGxldGVPcHRpLAogICAgICAgICAgX3JlZiR0cmFuc2Zvcm1EYXRhID0gX3JlZi50cmFuc2Zvcm1EYXRhLAogICAgICAgICAgdHJhbnNmb3JtRGF0YSA9IF9yZWYkdHJhbnNmb3JtRGF0YSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmJHRyYW5zZm9ybURhdGEsCiAgICAgICAgICBfcmVmJHF1ZXJ5SG9vayA9IF9yZWYucXVlcnlIb29rLAogICAgICAgICAgcXVlcnlIb29rID0gX3JlZiRxdWVyeUhvb2sgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3JlZiRxdWVyeUhvb2ssCiAgICAgICAgICBfcmVmJGhhbmRsZVNlbGVjdGVkID0gX3JlZi5oYW5kbGVTZWxlY3RlZCwKICAgICAgICAgIGhhbmRsZVNlbGVjdGVkID0gX3JlZiRoYW5kbGVTZWxlY3RlZCA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmJGhhbmRsZVNlbGVjdGVkLAogICAgICAgICAgX3JlZiRlbmhhbmNlZFNlYXJjaEluID0gX3JlZi5lbmhhbmNlZFNlYXJjaElucHV0LAogICAgICAgICAgZW5oYW5jZWRTZWFyY2hJbnB1dCA9IF9yZWYkZW5oYW5jZWRTZWFyY2hJbiA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmJGVuaGFuY2VkU2VhcmNoSW4sCiAgICAgICAgICBfcmVmJGxheW91dCA9IF9yZWYubGF5b3V0LAogICAgICAgICAgbGF5b3V0ID0gX3JlZiRsYXlvdXQgPT09IHVuZGVmaW5lZCA/ICJjb2xsdW1ucyIgOiBfcmVmJGxheW91dDsKICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRG9jU2VhcmNoKTsKICAgICAgICBEb2NTZWFyY2guY2hlY2tBcmd1bWVudHMoewogICAgICAgICAgYXBpS2V5OiBhcGlLZXksCiAgICAgICAgICBpbmRleE5hbWU6IGluZGV4TmFtZSwKICAgICAgICAgIGlucHV0U2VsZWN0b3I6IGlucHV0U2VsZWN0b3IsCiAgICAgICAgICBkZWJ1ZzogZGVidWcsCiAgICAgICAgICBhbGdvbGlhT3B0aW9uczogYWxnb2xpYU9wdGlvbnMsCiAgICAgICAgICBxdWVyeURhdGFDYWxsYmFjazogcXVlcnlEYXRhQ2FsbGJhY2ssCiAgICAgICAgICBhdXRvY29tcGxldGVPcHRpb25zOiBhdXRvY29tcGxldGVPcHRpb25zLAogICAgICAgICAgdHJhbnNmb3JtRGF0YTogdHJhbnNmb3JtRGF0YSwKICAgICAgICAgIHF1ZXJ5SG9vazogcXVlcnlIb29rLAogICAgICAgICAgaGFuZGxlU2VsZWN0ZWQ6IGhhbmRsZVNlbGVjdGVkLAogICAgICAgICAgZW5oYW5jZWRTZWFyY2hJbnB1dDogZW5oYW5jZWRTZWFyY2hJbnB1dCwKICAgICAgICAgIGxheW91dDogbGF5b3V0CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7CiAgICAgICAgdGhpcy5hcHBJZCA9IGFwcElkOwogICAgICAgIHRoaXMuaW5kZXhOYW1lID0gaW5kZXhOYW1lOwogICAgICAgIHRoaXMuaW5wdXQgPSBEb2NTZWFyY2guZ2V0SW5wdXRGcm9tU2VsZWN0b3IoaW5wdXRTZWxlY3Rvcik7CiAgICAgICAgdGhpcy5hbGdvbGlhT3B0aW9ucyA9IF9leHRlbmRzKHsKICAgICAgICAgIGhpdHNQZXJQYWdlOiA1CiAgICAgICAgfSwgYWxnb2xpYU9wdGlvbnMpOwogICAgICAgIHRoaXMucXVlcnlEYXRhQ2FsbGJhY2sgPSBxdWVyeURhdGFDYWxsYmFjayB8fCBudWxsOwogICAgICAgIHZhciBhdXRvY29tcGxldGVPcHRpb25zRGVidWcgPSBhdXRvY29tcGxldGVPcHRpb25zICYmIGF1dG9jb21wbGV0ZU9wdGlvbnMuZGVidWcgPyBhdXRvY29tcGxldGVPcHRpb25zLmRlYnVnIDogZmFsc2U7CiAgICAgICAgYXV0b2NvbXBsZXRlT3B0aW9ucy5kZWJ1ZyA9IGRlYnVnIHx8IGF1dG9jb21wbGV0ZU9wdGlvbnNEZWJ1ZzsKICAgICAgICB0aGlzLmF1dG9jb21wbGV0ZU9wdGlvbnMgPSBhdXRvY29tcGxldGVPcHRpb25zOwogICAgICAgIHRoaXMuYXV0b2NvbXBsZXRlT3B0aW9ucy5jc3NDbGFzc2VzID0gdGhpcy5hdXRvY29tcGxldGVPcHRpb25zLmNzc0NsYXNzZXMgfHwge307CiAgICAgICAgdGhpcy5hdXRvY29tcGxldGVPcHRpb25zLmNzc0NsYXNzZXMucHJlZml4ID0gdGhpcy5hdXRvY29tcGxldGVPcHRpb25zLmNzc0NsYXNzZXMucHJlZml4IHx8ICJkcyI7CiAgICAgICAgdmFyIGlucHV0QXJpYUxhYmVsID0gdGhpcy5pbnB1dCAmJiB0eXBlb2YgdGhpcy5pbnB1dC5hdHRyID09PSAiZnVuY3Rpb24iICYmIHRoaXMuaW5wdXQuYXR0cigiYXJpYS1sYWJlbCIpOwogICAgICAgIHRoaXMuYXV0b2NvbXBsZXRlT3B0aW9ucy5hcmlhTGFiZWwgPSB0aGlzLmF1dG9jb21wbGV0ZU9wdGlvbnMuYXJpYUxhYmVsIHx8IGlucHV0QXJpYUxhYmVsIHx8ICJzZWFyY2ggaW5wdXQiOwogICAgICAgIHRoaXMuaXNTaW1wbGVMYXlvdXQgPSBsYXlvdXQgPT09ICJzaW1wbGUiOwogICAgICAgIHRoaXMuY2xpZW50ID0gKDAsIF9saXRlMi5kZWZhdWx0KSh0aGlzLmFwcElkLCB0aGlzLmFwaUtleSk7CiAgICAgICAgdGhpcy5jbGllbnQuYWRkQWxnb2xpYUFnZW50KCJkb2NzZWFyY2guanMgIiArIF92ZXJzaW9uMi5kZWZhdWx0KTsKICAgICAgICBpZiAoZW5oYW5jZWRTZWFyY2hJbnB1dCkgewogICAgICAgICAgdGhpcy5pbnB1dCA9IERvY1NlYXJjaC5pbmplY3RTZWFyY2hCb3godGhpcy5pbnB1dCk7CiAgICAgICAgfQogICAgICAgIHRoaXMuYXV0b2NvbXBsZXRlID0gKDAsIF9hdXRvY29tcGxldGUyLmRlZmF1bHQpKHRoaXMuaW5wdXQsIGF1dG9jb21wbGV0ZU9wdGlvbnMsIFt7CiAgICAgICAgICBzb3VyY2U6IHRoaXMuZ2V0QXV0b2NvbXBsZXRlU291cmNlKHRyYW5zZm9ybURhdGEsIHF1ZXJ5SG9vayksCiAgICAgICAgICB0ZW1wbGF0ZXM6IHsKICAgICAgICAgICAgc3VnZ2VzdGlvbjogRG9jU2VhcmNoLmdldFN1Z2dlc3Rpb25UZW1wbGF0ZSh0aGlzLmlzU2ltcGxlTGF5b3V0KSwKICAgICAgICAgICAgZm9vdGVyOiBfdGVtcGxhdGVzMi5kZWZhdWx0LmZvb3RlciwKICAgICAgICAgICAgZW1wdHk6IERvY1NlYXJjaC5nZXRFbXB0eVRlbXBsYXRlKCkKICAgICAgICAgIH0KICAgICAgICB9XSk7CiAgICAgICAgdmFyIGN1c3RvbUhhbmRsZVNlbGVjdGVkID0gaGFuZGxlU2VsZWN0ZWQ7CiAgICAgICAgdGhpcy5oYW5kbGVTZWxlY3RlZCA9IGN1c3RvbUhhbmRsZVNlbGVjdGVkIHx8IHRoaXMuaGFuZGxlU2VsZWN0ZWQ7CiAgICAgICAgaWYgKGN1c3RvbUhhbmRsZVNlbGVjdGVkKSB7CiAgICAgICAgICAoMCwgX3plcHRvMi5kZWZhdWx0KSgiLmFsZ29saWEtYXV0b2NvbXBsZXRlIikub24oImNsaWNrIiwgIi5kcy1zdWdnZXN0aW9ucyBhIiwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5hdXRvY29tcGxldGUub24oImF1dG9jb21wbGV0ZTpzZWxlY3RlZCIsIHRoaXMuaGFuZGxlU2VsZWN0ZWQuYmluZChudWxsLCB0aGlzLmF1dG9jb21wbGV0ZS5hdXRvY29tcGxldGUpKTsKICAgICAgICB0aGlzLmF1dG9jb21wbGV0ZS5vbigiYXV0b2NvbXBsZXRlOnNob3duIiwgdGhpcy5oYW5kbGVTaG93bi5iaW5kKG51bGwsIHRoaXMuaW5wdXQpKTsKICAgICAgICBpZiAoZW5oYW5jZWRTZWFyY2hJbnB1dCkgewogICAgICAgICAgRG9jU2VhcmNoLmJpbmRTZWFyY2hCb3hFdmVudCgpOwogICAgICAgIH0KICAgICAgfQogICAgICBfY3JlYXRlQ2xhc3MoRG9jU2VhcmNoLCBbewogICAgICAgIGtleTogImdldEF1dG9jb21wbGV0ZVNvdXJjZSIsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEF1dG9jb21wbGV0ZVNvdXJjZSh0cmFuc2Zvcm1EYXRhLCBxdWVyeUhvb2spIHsKICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHF1ZXJ5LCBjYWxsYmFjaykgewogICAgICAgICAgICBpZiAocXVlcnlIb29rKSB7CiAgICAgICAgICAgICAgcXVlcnkgPSBxdWVyeUhvb2socXVlcnkpIHx8IHF1ZXJ5OwogICAgICAgICAgICB9CiAgICAgICAgICAgIF90aGlzLmNsaWVudC5zZWFyY2goW3sKICAgICAgICAgICAgICBpbmRleE5hbWU6IF90aGlzLmluZGV4TmFtZSwKICAgICAgICAgICAgICBxdWVyeTogcXVlcnksCiAgICAgICAgICAgICAgcGFyYW1zOiBfdGhpcy5hbGdvbGlhT3B0aW9ucwogICAgICAgICAgICB9XSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgIGlmIChfdGhpcy5xdWVyeURhdGFDYWxsYmFjayAmJiB0eXBlb2YgX3RoaXMucXVlcnlEYXRhQ2FsbGJhY2sgPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgICAgICAgX3RoaXMucXVlcnlEYXRhQ2FsbGJhY2soZGF0YSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHZhciBoaXRzID0gZGF0YS5yZXN1bHRzWzBdLmhpdHM7CiAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybURhdGEpIHsKICAgICAgICAgICAgICAgIGhpdHMgPSB0cmFuc2Zvcm1EYXRhKGhpdHMpIHx8IGhpdHM7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGNhbGxiYWNrKERvY1NlYXJjaC5mb3JtYXRIaXRzKGhpdHMpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGtleTogImhhbmRsZVNlbGVjdGVkIiwKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0ZWQoaW5wdXQsIGV2ZW50LCBzdWdnZXN0aW9uLCBkYXRhc2V0TnVtYmVyKSB7CiAgICAgICAgICB2YXIgY29udGV4dCA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDoge307CiAgICAgICAgICBpZiAoY29udGV4dC5zZWxlY3Rpb25NZXRob2QgPT09ICJjbGljayIpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgaW5wdXQuc2V0VmFsKCIiKTsKICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oc3VnZ2VzdGlvbi51cmwpOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGtleTogImhhbmRsZVNob3duIiwKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlU2hvd24oaW5wdXQpIHsKICAgICAgICAgIHZhciBtaWRkbGVPZklucHV0ID0gaW5wdXQub2Zmc2V0KCkubGVmdCArIGlucHV0LndpZHRoKCkgLyAyOwogICAgICAgICAgdmFyIG1pZGRsZU9mV2luZG93ID0gKDAsIF96ZXB0bzIuZGVmYXVsdCkoZG9jdW1lbnQpLndpZHRoKCkgLyAyOwogICAgICAgICAgaWYgKGlzTmFOKG1pZGRsZU9mV2luZG93KSkgewogICAgICAgICAgICBtaWRkbGVPZldpbmRvdyA9IDkwMDsKICAgICAgICAgIH0KICAgICAgICAgIHZhciBhbGlnbkNsYXNzID0gbWlkZGxlT2ZJbnB1dCAtIG1pZGRsZU9mV2luZG93ID49IDAgPyAiYWxnb2xpYS1hdXRvY29tcGxldGUtcmlnaHQiIDogImFsZ29saWEtYXV0b2NvbXBsZXRlLWxlZnQiOwogICAgICAgICAgdmFyIG90aGVyQWxpZ25DbGFzcyA9IG1pZGRsZU9mSW5wdXQgLSBtaWRkbGVPZldpbmRvdyA8IDAgPyAiYWxnb2xpYS1hdXRvY29tcGxldGUtcmlnaHQiIDogImFsZ29saWEtYXV0b2NvbXBsZXRlLWxlZnQiOwogICAgICAgICAgdmFyIGF1dG9jb21wbGV0ZVdyYXBwZXIgPSAoMCwgX3plcHRvMi5kZWZhdWx0KSgiLmFsZ29saWEtYXV0b2NvbXBsZXRlIik7CiAgICAgICAgICBpZiAoIWF1dG9jb21wbGV0ZVdyYXBwZXIuaGFzQ2xhc3MoYWxpZ25DbGFzcykpIHsKICAgICAgICAgICAgYXV0b2NvbXBsZXRlV3JhcHBlci5hZGRDbGFzcyhhbGlnbkNsYXNzKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChhdXRvY29tcGxldGVXcmFwcGVyLmhhc0NsYXNzKG90aGVyQWxpZ25DbGFzcykpIHsKICAgICAgICAgICAgYXV0b2NvbXBsZXRlV3JhcHBlci5yZW1vdmVDbGFzcyhvdGhlckFsaWduQ2xhc3MpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfV0sIFt7CiAgICAgICAga2V5OiAiY2hlY2tBcmd1bWVudHMiLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja0FyZ3VtZW50cyhhcmdzKSB7CiAgICAgICAgICBpZiAoIWFyZ3MuYXBpS2V5IHx8ICFhcmdzLmluZGV4TmFtZSkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodXNhZ2UpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHR5cGVvZiBhcmdzLmlucHV0U2VsZWN0b3IgIT09ICJzdHJpbmciKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiRXJyb3I6IGlucHV0U2VsZWN0b3I6IiArIGFyZ3MuaW5wdXRTZWxlY3RvciArICIgIG11c3QgYmUgYSBzdHJpbmcuIEVhY2ggc2VsZWN0b3IgbXVzdCBtYXRjaCBvbmx5IG9uZSBlbGVtZW50IGFuZCBzZXBhcmF0ZWQgYnkgJywnIik7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoIURvY1NlYXJjaC5nZXRJbnB1dEZyb21TZWxlY3RvcihhcmdzLmlucHV0U2VsZWN0b3IpKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiRXJyb3I6IE5vIGlucHV0IGVsZW1lbnQgaW4gdGhlIHBhZ2UgbWF0Y2hlcyAiICsgYXJncy5pbnB1dFNlbGVjdG9yKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJpbmplY3RTZWFyY2hCb3giLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbmplY3RTZWFyY2hCb3goaW5wdXQpIHsKICAgICAgICAgIGlucHV0LmJlZm9yZShfdGVtcGxhdGVzMi5kZWZhdWx0LnNlYXJjaEJveCk7CiAgICAgICAgICB2YXIgbmV3SW5wdXQgPSBpbnB1dC5wcmV2KCkucHJldigpLmZpbmQoImlucHV0Iik7CiAgICAgICAgICBpbnB1dC5yZW1vdmUoKTsKICAgICAgICAgIHJldHVybiBuZXdJbnB1dDsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJiaW5kU2VhcmNoQm94RXZlbnQiLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBiaW5kU2VhcmNoQm94RXZlbnQoKSB7CiAgICAgICAgICAoMCwgX3plcHRvMi5kZWZhdWx0KSgnLnNlYXJjaGJveCBbdHlwZT0icmVzZXQiXScpLm9uKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgKDAsIF96ZXB0bzIuZGVmYXVsdCkoImlucHV0I2RvY3NlYXJjaCIpLmZvY3VzKCk7CiAgICAgICAgICAgICgwLCBfemVwdG8yLmRlZmF1bHQpKHRoaXMpLmFkZENsYXNzKCJoaWRlIik7CiAgICAgICAgICAgIF9hdXRvY29tcGxldGUyLmRlZmF1bHQuYXV0b2NvbXBsZXRlLnNldFZhbCgiIik7CiAgICAgICAgICB9KTsKICAgICAgICAgICgwLCBfemVwdG8yLmRlZmF1bHQpKCJpbnB1dCNkb2NzZWFyY2giKS5vbigia2V5dXAiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBzZWFyY2hib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dCNkb2NzZWFyY2giKTsKICAgICAgICAgICAgdmFyIHJlc2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlYXJjaGJveCBbdHlwZT0icmVzZXQiXScpOwogICAgICAgICAgICByZXNldC5jbGFzc05hbWUgPSAic2VhcmNoYm94X19yZXNldCI7CiAgICAgICAgICAgIGlmIChzZWFyY2hib3gudmFsdWUubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgcmVzZXQuY2xhc3NOYW1lICs9ICIgaGlkZSI7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGtleTogImdldElucHV0RnJvbVNlbGVjdG9yIiwKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5wdXRGcm9tU2VsZWN0b3Ioc2VsZWN0b3IpIHsKICAgICAgICAgIHZhciBpbnB1dCA9ICgwLCBfemVwdG8yLmRlZmF1bHQpKHNlbGVjdG9yKS5maWx0ZXIoImlucHV0Iik7CiAgICAgICAgICByZXR1cm4gaW5wdXQubGVuZ3RoID8gKDAsIF96ZXB0bzIuZGVmYXVsdCkoaW5wdXRbMF0pIDogbnVsbDsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJmb3JtYXRIaXRzIiwKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0SGl0cyhyZWNlaXZlZEhpdHMpIHsKICAgICAgICAgIHZhciBjbG9uZWRIaXRzID0gX3V0aWxzMi5kZWZhdWx0LmRlZXBDbG9uZShyZWNlaXZlZEhpdHMpOwogICAgICAgICAgdmFyIGhpdHMgPSBjbG9uZWRIaXRzLm1hcChmdW5jdGlvbiAoaGl0KSB7CiAgICAgICAgICAgIGlmIChoaXQuX2hpZ2hsaWdodFJlc3VsdCkgewogICAgICAgICAgICAgIGhpdC5faGlnaGxpZ2h0UmVzdWx0ID0gX3V0aWxzMi5kZWZhdWx0Lm1lcmdlS2V5V2l0aFBhcmVudChoaXQuX2hpZ2hsaWdodFJlc3VsdCwgImhpZXJhcmNoeSIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBfdXRpbHMyLmRlZmF1bHQubWVyZ2VLZXlXaXRoUGFyZW50KGhpdCwgImhpZXJhcmNoeSIpOwogICAgICAgICAgfSk7CiAgICAgICAgICB2YXIgZ3JvdXBlZEhpdHMgPSBfdXRpbHMyLmRlZmF1bHQuZ3JvdXBCeShoaXRzLCAibHZsMCIpOwogICAgICAgICAgX3plcHRvMi5kZWZhdWx0LmVhY2goZ3JvdXBlZEhpdHMsIGZ1bmN0aW9uIChsZXZlbCwgY29sbGVjdGlvbikgewogICAgICAgICAgICB2YXIgZ3JvdXBlZEhpdHNCeUx2bDEgPSBfdXRpbHMyLmRlZmF1bHQuZ3JvdXBCeShjb2xsZWN0aW9uLCAibHZsMSIpOwogICAgICAgICAgICB2YXIgZmxhdHRlbmVkSGl0cyA9IF91dGlsczIuZGVmYXVsdC5mbGF0dGVuQW5kRmxhZ0ZpcnN0KGdyb3VwZWRIaXRzQnlMdmwxLCAiaXNTdWJDYXRlZ29yeUhlYWRlciIpOwogICAgICAgICAgICBncm91cGVkSGl0c1tsZXZlbF0gPSBmbGF0dGVuZWRIaXRzOwogICAgICAgICAgfSk7CiAgICAgICAgICBncm91cGVkSGl0cyA9IF91dGlsczIuZGVmYXVsdC5mbGF0dGVuQW5kRmxhZ0ZpcnN0KGdyb3VwZWRIaXRzLCAiaXNDYXRlZ29yeUhlYWRlciIpOwogICAgICAgICAgcmV0dXJuIGdyb3VwZWRIaXRzLm1hcChmdW5jdGlvbiAoaGl0KSB7CiAgICAgICAgICAgIHZhciB1cmwgPSBEb2NTZWFyY2guZm9ybWF0VVJMKGhpdCk7CiAgICAgICAgICAgIHZhciBjYXRlZ29yeSA9IF91dGlsczIuZGVmYXVsdC5nZXRIaWdobGlnaHRlZFZhbHVlKGhpdCwgImx2bDAiKTsKICAgICAgICAgICAgdmFyIHN1YmNhdGVnb3J5ID0gX3V0aWxzMi5kZWZhdWx0LmdldEhpZ2hsaWdodGVkVmFsdWUoaGl0LCAibHZsMSIpIHx8IGNhdGVnb3J5OwogICAgICAgICAgICB2YXIgZGlzcGxheVRpdGxlID0gX3V0aWxzMi5kZWZhdWx0LmNvbXBhY3QoW191dGlsczIuZGVmYXVsdC5nZXRIaWdobGlnaHRlZFZhbHVlKGhpdCwgImx2bDIiKSB8fCBzdWJjYXRlZ29yeSwgX3V0aWxzMi5kZWZhdWx0LmdldEhpZ2hsaWdodGVkVmFsdWUoaGl0LCAibHZsMyIpLCBfdXRpbHMyLmRlZmF1bHQuZ2V0SGlnaGxpZ2h0ZWRWYWx1ZShoaXQsICJsdmw0IiksIF91dGlsczIuZGVmYXVsdC5nZXRIaWdobGlnaHRlZFZhbHVlKGhpdCwgImx2bDUiKSwgX3V0aWxzMi5kZWZhdWx0LmdldEhpZ2hsaWdodGVkVmFsdWUoaGl0LCAibHZsNiIpXSkuam9pbignPHNwYW4gY2xhc3M9ImFhLXN1Z2dlc3Rpb24tdGl0bGUtc2VwYXJhdG9yIiBhcmlhLWhpZGRlbj0idHJ1ZSI+IOKAuiA8L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciB0ZXh0ID0gX3V0aWxzMi5kZWZhdWx0LmdldFNuaXBwZXRlZFZhbHVlKGhpdCwgImNvbnRlbnQiKTsKICAgICAgICAgICAgdmFyIGlzVGV4dE9yU3ViY2F0ZWdvcnlOb25FbXB0eSA9IHN1YmNhdGVnb3J5ICYmIHN1YmNhdGVnb3J5ICE9PSAiIiB8fCBkaXNwbGF5VGl0bGUgJiYgZGlzcGxheVRpdGxlICE9PSAiIjsKICAgICAgICAgICAgdmFyIGlzTHZsMUVtcHR5T3JEdXBsaWNhdGUgPSAhc3ViY2F0ZWdvcnkgfHwgc3ViY2F0ZWdvcnkgPT09ICIiIHx8IHN1YmNhdGVnb3J5ID09PSBjYXRlZ29yeTsKICAgICAgICAgICAgdmFyIGlzTHZsMiA9IGRpc3BsYXlUaXRsZSAmJiBkaXNwbGF5VGl0bGUgIT09ICIiICYmIGRpc3BsYXlUaXRsZSAhPT0gc3ViY2F0ZWdvcnk7CiAgICAgICAgICAgIHZhciBpc0x2bDEgPSAhaXNMdmwyICYmIHN1YmNhdGVnb3J5ICYmIHN1YmNhdGVnb3J5ICE9PSAiIiAmJiBzdWJjYXRlZ29yeSAhPT0gY2F0ZWdvcnk7CiAgICAgICAgICAgIHZhciBpc0x2bDAgPSAhaXNMdmwxICYmICFpc0x2bDI7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgaXNMdmwwOiBpc0x2bDAsCiAgICAgICAgICAgICAgaXNMdmwxOiBpc0x2bDEsCiAgICAgICAgICAgICAgaXNMdmwyOiBpc0x2bDIsCiAgICAgICAgICAgICAgaXNMdmwxRW1wdHlPckR1cGxpY2F0ZTogaXNMdmwxRW1wdHlPckR1cGxpY2F0ZSwKICAgICAgICAgICAgICBpc0NhdGVnb3J5SGVhZGVyOiBoaXQuaXNDYXRlZ29yeUhlYWRlciwKICAgICAgICAgICAgICBpc1N1YkNhdGVnb3J5SGVhZGVyOiBoaXQuaXNTdWJDYXRlZ29yeUhlYWRlciwKICAgICAgICAgICAgICBpc1RleHRPclN1YmNhdGVnb3J5Tm9uRW1wdHk6IGlzVGV4dE9yU3ViY2F0ZWdvcnlOb25FbXB0eSwKICAgICAgICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksCiAgICAgICAgICAgICAgc3ViY2F0ZWdvcnk6IHN1YmNhdGVnb3J5LAogICAgICAgICAgICAgIHRpdGxlOiBkaXNwbGF5VGl0bGUsCiAgICAgICAgICAgICAgdGV4dDogdGV4dCwKICAgICAgICAgICAgICB1cmw6IHVybAogICAgICAgICAgICB9OwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAga2V5OiAiZm9ybWF0VVJMIiwKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0VVJMKGhpdCkgewogICAgICAgICAgdmFyIHVybCA9IGhpdC51cmwsCiAgICAgICAgICAgIGFuY2hvciA9IGhpdC5hbmNob3I7CiAgICAgICAgICBpZiAodXJsKSB7CiAgICAgICAgICAgIHZhciBjb250YWluc0FuY2hvciA9IHVybC5pbmRleE9mKCIjIikgIT09IC0xOwogICAgICAgICAgICBpZiAoY29udGFpbnNBbmNob3IpIHJldHVybiB1cmw7ZWxzZSBpZiAoYW5jaG9yKSByZXR1cm4gaGl0LnVybCArICIjIiArIGhpdC5hbmNob3I7CiAgICAgICAgICAgIHJldHVybiB1cmw7CiAgICAgICAgICB9IGVsc2UgaWYgKGFuY2hvcikgcmV0dXJuICIjIiArIGhpdC5hbmNob3I7CiAgICAgICAgICBjb25zb2xlLndhcm4oIm5vIGFuY2hvciBub3IgdXJsIGZvciA6ICIsIEpTT04uc3RyaW5naWZ5KGhpdCkpOwogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAga2V5OiAiZ2V0RW1wdHlUZW1wbGF0ZSIsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEVtcHR5VGVtcGxhdGUoKSB7CiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGFyZ3MpIHsKICAgICAgICAgICAgcmV0dXJuIF9ob2dhbjIuZGVmYXVsdC5jb21waWxlKF90ZW1wbGF0ZXMyLmRlZmF1bHQuZW1wdHkpLnJlbmRlcihhcmdzKTsKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAga2V5OiAiZ2V0U3VnZ2VzdGlvblRlbXBsYXRlIiwKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3VnZ2VzdGlvblRlbXBsYXRlKGlzU2ltcGxlTGF5b3V0KSB7CiAgICAgICAgICB2YXIgc3RyaW5nVGVtcGxhdGUgPSBpc1NpbXBsZUxheW91dCA/IF90ZW1wbGF0ZXMyLmRlZmF1bHQuc3VnZ2VzdGlvblNpbXBsZSA6IF90ZW1wbGF0ZXMyLmRlZmF1bHQuc3VnZ2VzdGlvbjsKICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IF9ob2dhbjIuZGVmYXVsdC5jb21waWxlKHN0cmluZ1RlbXBsYXRlKTsKICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoc3VnZ2VzdGlvbikgewogICAgICAgICAgICByZXR1cm4gdGVtcGxhdGUucmVuZGVyKHN1Z2dlc3Rpb24pOwogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH1dKTsKICAgICAgcmV0dXJuIERvY1NlYXJjaDsKICAgIH0oKTsKICAgIGV4cG9ydHMuZGVmYXVsdCA9IERvY1NlYXJjaDsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICB2YXIgSG9nYW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTsKICAgIEhvZ2FuLlRlbXBsYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCkuVGVtcGxhdGU7CiAgICBIb2dhbi50ZW1wbGF0ZSA9IEhvZ2FuLlRlbXBsYXRlOwogICAgbW9kdWxlLmV4cG9ydHMgPSBIb2dhbjsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAoZnVuY3Rpb24gKEhvZ2FuKSB7CiAgICAgIHZhciBySXNXaGl0ZXNwYWNlID0gL1xTLywKICAgICAgICByUXVvdCA9IC9cIi9nLAogICAgICAgIHJOZXdsaW5lID0gL1xuL2csCiAgICAgICAgckNyID0gL1xyL2csCiAgICAgICAgclNsYXNoID0gL1xcL2csCiAgICAgICAgckxpbmVTZXAgPSAvXHUyMDI4LywKICAgICAgICByUGFyYWdyYXBoU2VwID0gL1x1MjAyOS87CiAgICAgIEhvZ2FuLnRhZ3MgPSB7CiAgICAgICAgIiMiOiAxLAogICAgICAgICJeIjogMiwKICAgICAgICAiPCI6IDMsCiAgICAgICAgJDogNCwKICAgICAgICAiLyI6IDUsCiAgICAgICAgIiEiOiA2LAogICAgICAgICI+IjogNywKICAgICAgICAiPSI6IDgsCiAgICAgICAgX3Y6IDksCiAgICAgICAgInsiOiAxMCwKICAgICAgICAiJiI6IDExLAogICAgICAgIF90OiAxMgogICAgICB9OwogICAgICBIb2dhbi5zY2FuID0gZnVuY3Rpb24gc2Nhbih0ZXh0LCBkZWxpbWl0ZXJzKSB7CiAgICAgICAgdmFyIGxlbiA9IHRleHQubGVuZ3RoLAogICAgICAgICAgSU5fVEVYVCA9IDAsCiAgICAgICAgICBJTl9UQUdfVFlQRSA9IDEsCiAgICAgICAgICBJTl9UQUcgPSAyLAogICAgICAgICAgc3RhdGUgPSBJTl9URVhULAogICAgICAgICAgdGFnVHlwZSA9IG51bGwsCiAgICAgICAgICB0YWcgPSBudWxsLAogICAgICAgICAgYnVmID0gIiIsCiAgICAgICAgICB0b2tlbnMgPSBbXSwKICAgICAgICAgIHNlZW5UYWcgPSBmYWxzZSwKICAgICAgICAgIGkgPSAwLAogICAgICAgICAgbGluZVN0YXJ0ID0gMCwKICAgICAgICAgIG90YWcgPSAie3siLAogICAgICAgICAgY3RhZyA9ICJ9fSI7CiAgICAgICAgZnVuY3Rpb24gYWRkQnVmKCkgewogICAgICAgICAgaWYgKGJ1Zi5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHRva2Vucy5wdXNoKHsKICAgICAgICAgICAgICB0YWc6ICJfdCIsCiAgICAgICAgICAgICAgdGV4dDogbmV3IFN0cmluZyhidWYpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBidWYgPSAiIjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gbGluZUlzV2hpdGVzcGFjZSgpIHsKICAgICAgICAgIHZhciBpc0FsbFdoaXRlc3BhY2UgPSB0cnVlOwogICAgICAgICAgZm9yICh2YXIgaiA9IGxpbmVTdGFydDsgaiA8IHRva2Vucy5sZW5ndGg7IGorKykgewogICAgICAgICAgICBpc0FsbFdoaXRlc3BhY2UgPSBIb2dhbi50YWdzW3Rva2Vuc1tqXS50YWddIDwgSG9nYW4udGFnc1siX3YiXSB8fCB0b2tlbnNbal0udGFnID09ICJfdCIgJiYgdG9rZW5zW2pdLnRleHQubWF0Y2gocklzV2hpdGVzcGFjZSkgPT09IG51bGw7CiAgICAgICAgICAgIGlmICghaXNBbGxXaGl0ZXNwYWNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gaXNBbGxXaGl0ZXNwYWNlOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBmaWx0ZXJMaW5lKGhhdmVTZWVuVGFnLCBub05ld0xpbmUpIHsKICAgICAgICAgIGFkZEJ1ZigpOwogICAgICAgICAgaWYgKGhhdmVTZWVuVGFnICYmIGxpbmVJc1doaXRlc3BhY2UoKSkgewogICAgICAgICAgICBmb3IgKHZhciBqID0gbGluZVN0YXJ0LCBuZXh0OyBqIDwgdG9rZW5zLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgaWYgKHRva2Vuc1tqXS50ZXh0KSB7CiAgICAgICAgICAgICAgICBpZiAoKG5leHQgPSB0b2tlbnNbaiArIDFdKSAmJiBuZXh0LnRhZyA9PSAiPiIpIHsKICAgICAgICAgICAgICAgICAgbmV4dC5pbmRlbnQgPSB0b2tlbnNbal0udGV4dC50b1N0cmluZygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdG9rZW5zLnNwbGljZShqLCAxKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoIW5vTmV3TGluZSkgewogICAgICAgICAgICB0b2tlbnMucHVzaCh7CiAgICAgICAgICAgICAgdGFnOiAiXG4iCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgICAgc2VlblRhZyA9IGZhbHNlOwogICAgICAgICAgbGluZVN0YXJ0ID0gdG9rZW5zLmxlbmd0aDsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gY2hhbmdlRGVsaW1pdGVycyh0ZXh0LCBpbmRleCkgewogICAgICAgICAgdmFyIGNsb3NlID0gIj0iICsgY3RhZywKICAgICAgICAgICAgY2xvc2VJbmRleCA9IHRleHQuaW5kZXhPZihjbG9zZSwgaW5kZXgpLAogICAgICAgICAgICBkZWxpbWl0ZXJzID0gdHJpbSh0ZXh0LnN1YnN0cmluZyh0ZXh0LmluZGV4T2YoIj0iLCBpbmRleCkgKyAxLCBjbG9zZUluZGV4KSkuc3BsaXQoIiAiKTsKICAgICAgICAgIG90YWcgPSBkZWxpbWl0ZXJzWzBdOwogICAgICAgICAgY3RhZyA9IGRlbGltaXRlcnNbZGVsaW1pdGVycy5sZW5ndGggLSAxXTsKICAgICAgICAgIHJldHVybiBjbG9zZUluZGV4ICsgY2xvc2UubGVuZ3RoIC0gMTsKICAgICAgICB9CiAgICAgICAgaWYgKGRlbGltaXRlcnMpIHsKICAgICAgICAgIGRlbGltaXRlcnMgPSBkZWxpbWl0ZXJzLnNwbGl0KCIgIik7CiAgICAgICAgICBvdGFnID0gZGVsaW1pdGVyc1swXTsKICAgICAgICAgIGN0YWcgPSBkZWxpbWl0ZXJzWzFdOwogICAgICAgIH0KICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICAgIGlmIChzdGF0ZSA9PSBJTl9URVhUKSB7CiAgICAgICAgICAgIGlmICh0YWdDaGFuZ2Uob3RhZywgdGV4dCwgaSkpIHsKICAgICAgICAgICAgICAtLWk7CiAgICAgICAgICAgICAgYWRkQnVmKCk7CiAgICAgICAgICAgICAgc3RhdGUgPSBJTl9UQUdfVFlQRTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpZiAodGV4dC5jaGFyQXQoaSkgPT0gIlxuIikgewogICAgICAgICAgICAgICAgZmlsdGVyTGluZShzZWVuVGFnKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYnVmICs9IHRleHQuY2hhckF0KGkpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PSBJTl9UQUdfVFlQRSkgewogICAgICAgICAgICBpICs9IG90YWcubGVuZ3RoIC0gMTsKICAgICAgICAgICAgdGFnID0gSG9nYW4udGFnc1t0ZXh0LmNoYXJBdChpICsgMSldOwogICAgICAgICAgICB0YWdUeXBlID0gdGFnID8gdGV4dC5jaGFyQXQoaSArIDEpIDogIl92IjsKICAgICAgICAgICAgaWYgKHRhZ1R5cGUgPT0gIj0iKSB7CiAgICAgICAgICAgICAgaSA9IGNoYW5nZURlbGltaXRlcnModGV4dCwgaSk7CiAgICAgICAgICAgICAgc3RhdGUgPSBJTl9URVhUOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGlmICh0YWcpIHsKICAgICAgICAgICAgICAgIGkrKzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgc3RhdGUgPSBJTl9UQUc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2VlblRhZyA9IGk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAodGFnQ2hhbmdlKGN0YWcsIHRleHQsIGkpKSB7CiAgICAgICAgICAgICAgdG9rZW5zLnB1c2goewogICAgICAgICAgICAgICAgdGFnOiB0YWdUeXBlLAogICAgICAgICAgICAgICAgbjogdHJpbShidWYpLAogICAgICAgICAgICAgICAgb3RhZzogb3RhZywKICAgICAgICAgICAgICAgIGN0YWc6IGN0YWcsCiAgICAgICAgICAgICAgICBpOiB0YWdUeXBlID09ICIvIiA/IHNlZW5UYWcgLSBvdGFnLmxlbmd0aCA6IGkgKyBjdGFnLmxlbmd0aAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGJ1ZiA9ICIiOwogICAgICAgICAgICAgIGkgKz0gY3RhZy5sZW5ndGggLSAxOwogICAgICAgICAgICAgIHN0YXRlID0gSU5fVEVYVDsKICAgICAgICAgICAgICBpZiAodGFnVHlwZSA9PSAieyIpIHsKICAgICAgICAgICAgICAgIGlmIChjdGFnID09ICJ9fSIpIHsKICAgICAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgY2xlYW5UcmlwbGVTdGFjaGUodG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGJ1ZiArPSB0ZXh0LmNoYXJBdChpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmaWx0ZXJMaW5lKHNlZW5UYWcsIHRydWUpOwogICAgICAgIHJldHVybiB0b2tlbnM7CiAgICAgIH07CiAgICAgIGZ1bmN0aW9uIGNsZWFuVHJpcGxlU3RhY2hlKHRva2VuKSB7CiAgICAgICAgaWYgKHRva2VuLm4uc3Vic3RyKHRva2VuLm4ubGVuZ3RoIC0gMSkgPT09ICJ9IikgewogICAgICAgICAgdG9rZW4ubiA9IHRva2VuLm4uc3Vic3RyaW5nKDAsIHRva2VuLm4ubGVuZ3RoIC0gMSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIHRyaW0ocykgewogICAgICAgIGlmIChzLnRyaW0pIHsKICAgICAgICAgIHJldHVybiBzLnRyaW0oKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHMucmVwbGFjZSgvXlxzKnxccyokL2csICIiKTsKICAgICAgfQogICAgICBmdW5jdGlvbiB0YWdDaGFuZ2UodGFnLCB0ZXh0LCBpbmRleCkgewogICAgICAgIGlmICh0ZXh0LmNoYXJBdChpbmRleCkgIT0gdGFnLmNoYXJBdCgwKSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBpID0gMSwgbCA9IHRhZy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIGlmICh0ZXh0LmNoYXJBdChpbmRleCArIGkpICE9IHRhZy5jaGFyQXQoaSkpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICB2YXIgYWxsb3dlZEluU3VwZXIgPSB7CiAgICAgICAgX3Q6IHRydWUsCiAgICAgICAgIlxuIjogdHJ1ZSwKICAgICAgICAkOiB0cnVlLAogICAgICAgICIvIjogdHJ1ZQogICAgICB9OwogICAgICBmdW5jdGlvbiBidWlsZFRyZWUodG9rZW5zLCBraW5kLCBzdGFjaywgY3VzdG9tVGFncykgewogICAgICAgIHZhciBpbnN0cnVjdGlvbnMgPSBbXSwKICAgICAgICAgIG9wZW5lciA9IG51bGwsCiAgICAgICAgICB0YWlsID0gbnVsbCwKICAgICAgICAgIHRva2VuID0gbnVsbDsKICAgICAgICB0YWlsID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07CiAgICAgICAgd2hpbGUgKHRva2Vucy5sZW5ndGggPiAwKSB7CiAgICAgICAgICB0b2tlbiA9IHRva2Vucy5zaGlmdCgpOwogICAgICAgICAgaWYgKHRhaWwgJiYgdGFpbC50YWcgPT0gIjwiICYmICEodG9rZW4udGFnIGluIGFsbG93ZWRJblN1cGVyKSkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIklsbGVnYWwgY29udGVudCBpbiA8IHN1cGVyIHRhZy4iKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChIb2dhbi50YWdzW3Rva2VuLnRhZ10gPD0gSG9nYW4udGFnc1siJCJdIHx8IGlzT3BlbmVyKHRva2VuLCBjdXN0b21UYWdzKSkgewogICAgICAgICAgICBzdGFjay5wdXNoKHRva2VuKTsKICAgICAgICAgICAgdG9rZW4ubm9kZXMgPSBidWlsZFRyZWUodG9rZW5zLCB0b2tlbi50YWcsIHN0YWNrLCBjdXN0b21UYWdzKTsKICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4udGFnID09ICIvIikgewogICAgICAgICAgICBpZiAoc3RhY2subGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJDbG9zaW5nIHRhZyB3aXRob3V0IG9wZW5lcjogLyIgKyB0b2tlbi5uKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBvcGVuZXIgPSBzdGFjay5wb3AoKTsKICAgICAgICAgICAgaWYgKHRva2VuLm4gIT0gb3BlbmVyLm4gJiYgIWlzQ2xvc2VyKHRva2VuLm4sIG9wZW5lci5uLCBjdXN0b21UYWdzKSkgewogICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiTmVzdGluZyBlcnJvcjogIiArIG9wZW5lci5uICsgIiB2cy4gIiArIHRva2VuLm4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIG9wZW5lci5lbmQgPSB0b2tlbi5pOwogICAgICAgICAgICByZXR1cm4gaW5zdHJ1Y3Rpb25zOwogICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi50YWcgPT0gIlxuIikgewogICAgICAgICAgICB0b2tlbi5sYXN0ID0gdG9rZW5zLmxlbmd0aCA9PSAwIHx8IHRva2Vuc1swXS50YWcgPT0gIlxuIjsKICAgICAgICAgIH0KICAgICAgICAgIGluc3RydWN0aW9ucy5wdXNoKHRva2VuKTsKICAgICAgICB9CiAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcigibWlzc2luZyBjbG9zaW5nIHRhZzogIiArIHN0YWNrLnBvcCgpLm4pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaW5zdHJ1Y3Rpb25zOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIGlzT3BlbmVyKHRva2VuLCB0YWdzKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0YWdzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgaWYgKHRhZ3NbaV0ubyA9PSB0b2tlbi5uKSB7CiAgICAgICAgICAgIHRva2VuLnRhZyA9ICIjIjsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIGlzQ2xvc2VyKGNsb3NlLCBvcGVuLCB0YWdzKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0YWdzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgaWYgKHRhZ3NbaV0uYyA9PSBjbG9zZSAmJiB0YWdzW2ldLm8gPT0gb3BlbikgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgZnVuY3Rpb24gc3RyaW5naWZ5U3Vic3RpdHV0aW9ucyhvYmopIHsKICAgICAgICB2YXIgaXRlbXMgPSBbXTsKICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgICBpdGVtcy5wdXNoKCciJyArIGVzYyhrZXkpICsgJyI6IGZ1bmN0aW9uKGMscCx0LGkpIHsnICsgb2JqW2tleV0gKyAifSIpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gInsgIiArIGl0ZW1zLmpvaW4oIiwiKSArICIgfSI7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gc3RyaW5naWZ5UGFydGlhbHMoY29kZU9iaikgewogICAgICAgIHZhciBwYXJ0aWFscyA9IFtdOwogICAgICAgIGZvciAodmFyIGtleSBpbiBjb2RlT2JqLnBhcnRpYWxzKSB7CiAgICAgICAgICBwYXJ0aWFscy5wdXNoKCciJyArIGVzYyhrZXkpICsgJyI6e25hbWU6IicgKyBlc2MoY29kZU9iai5wYXJ0aWFsc1trZXldLm5hbWUpICsgJyIsICcgKyBzdHJpbmdpZnlQYXJ0aWFscyhjb2RlT2JqLnBhcnRpYWxzW2tleV0pICsgIn0iKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICJwYXJ0aWFsczogeyIgKyBwYXJ0aWFscy5qb2luKCIsIikgKyAifSwgc3ViczogIiArIHN0cmluZ2lmeVN1YnN0aXR1dGlvbnMoY29kZU9iai5zdWJzKTsKICAgICAgfQogICAgICBIb2dhbi5zdHJpbmdpZnkgPSBmdW5jdGlvbiAoY29kZU9iaiwgdGV4dCwgb3B0aW9ucykgewogICAgICAgIHJldHVybiAie2NvZGU6IGZ1bmN0aW9uIChjLHAsaSkgeyAiICsgSG9nYW4ud3JhcE1haW4oY29kZU9iai5jb2RlKSArICIgfSwiICsgc3RyaW5naWZ5UGFydGlhbHMoY29kZU9iaikgKyAifSI7CiAgICAgIH07CiAgICAgIHZhciBzZXJpYWxObyA9IDA7CiAgICAgIEhvZ2FuLmdlbmVyYXRlID0gZnVuY3Rpb24gKHRyZWUsIHRleHQsIG9wdGlvbnMpIHsKICAgICAgICBzZXJpYWxObyA9IDA7CiAgICAgICAgdmFyIGNvbnRleHQgPSB7CiAgICAgICAgICBjb2RlOiAiIiwKICAgICAgICAgIHN1YnM6IHt9LAogICAgICAgICAgcGFydGlhbHM6IHt9CiAgICAgICAgfTsKICAgICAgICBIb2dhbi53YWxrKHRyZWUsIGNvbnRleHQpOwogICAgICAgIGlmIChvcHRpb25zLmFzU3RyaW5nKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdpZnkoY29udGV4dCwgdGV4dCwgb3B0aW9ucyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLm1ha2VUZW1wbGF0ZShjb250ZXh0LCB0ZXh0LCBvcHRpb25zKTsKICAgICAgfTsKICAgICAgSG9nYW4ud3JhcE1haW4gPSBmdW5jdGlvbiAoY29kZSkgewogICAgICAgIHJldHVybiAndmFyIHQ9dGhpczt0LmIoaT1pfHwiIik7JyArIGNvZGUgKyAicmV0dXJuIHQuZmwoKTsiOwogICAgICB9OwogICAgICBIb2dhbi50ZW1wbGF0ZSA9IEhvZ2FuLlRlbXBsYXRlOwogICAgICBIb2dhbi5tYWtlVGVtcGxhdGUgPSBmdW5jdGlvbiAoY29kZU9iaiwgdGV4dCwgb3B0aW9ucykgewogICAgICAgIHZhciB0ZW1wbGF0ZSA9IHRoaXMubWFrZVBhcnRpYWxzKGNvZGVPYmopOwogICAgICAgIHRlbXBsYXRlLmNvZGUgPSBuZXcgRnVuY3Rpb24oImMiLCAicCIsICJpIiwgdGhpcy53cmFwTWFpbihjb2RlT2JqLmNvZGUpKTsKICAgICAgICByZXR1cm4gbmV3IHRoaXMudGVtcGxhdGUodGVtcGxhdGUsIHRleHQsIHRoaXMsIG9wdGlvbnMpOwogICAgICB9OwogICAgICBIb2dhbi5tYWtlUGFydGlhbHMgPSBmdW5jdGlvbiAoY29kZU9iaikgewogICAgICAgIHZhciBrZXksCiAgICAgICAgICB0ZW1wbGF0ZSA9IHsKICAgICAgICAgICAgc3Viczoge30sCiAgICAgICAgICAgIHBhcnRpYWxzOiBjb2RlT2JqLnBhcnRpYWxzLAogICAgICAgICAgICBuYW1lOiBjb2RlT2JqLm5hbWUKICAgICAgICAgIH07CiAgICAgICAgZm9yIChrZXkgaW4gdGVtcGxhdGUucGFydGlhbHMpIHsKICAgICAgICAgIHRlbXBsYXRlLnBhcnRpYWxzW2tleV0gPSB0aGlzLm1ha2VQYXJ0aWFscyh0ZW1wbGF0ZS5wYXJ0aWFsc1trZXldKTsKICAgICAgICB9CiAgICAgICAgZm9yIChrZXkgaW4gY29kZU9iai5zdWJzKSB7CiAgICAgICAgICB0ZW1wbGF0ZS5zdWJzW2tleV0gPSBuZXcgRnVuY3Rpb24oImMiLCAicCIsICJ0IiwgImkiLCBjb2RlT2JqLnN1YnNba2V5XSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0ZW1wbGF0ZTsKICAgICAgfTsKICAgICAgZnVuY3Rpb24gZXNjKHMpIHsKICAgICAgICByZXR1cm4gcy5yZXBsYWNlKHJTbGFzaCwgIlxcXFwiKS5yZXBsYWNlKHJRdW90LCAnXFwiJykucmVwbGFjZShyTmV3bGluZSwgIlxcbiIpLnJlcGxhY2UockNyLCAiXFxyIikucmVwbGFjZShyTGluZVNlcCwgIlxcdTIwMjgiKS5yZXBsYWNlKHJQYXJhZ3JhcGhTZXAsICJcXHUyMDI5Iik7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gY2hvb3NlTWV0aG9kKHMpIHsKICAgICAgICByZXR1cm4gfnMuaW5kZXhPZigiLiIpID8gImQiIDogImYiOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIGNyZWF0ZVBhcnRpYWwobm9kZSwgY29udGV4dCkgewogICAgICAgIHZhciBwcmVmaXggPSAiPCIgKyAoY29udGV4dC5wcmVmaXggfHwgIiIpOwogICAgICAgIHZhciBzeW0gPSBwcmVmaXggKyBub2RlLm4gKyBzZXJpYWxObysrOwogICAgICAgIGNvbnRleHQucGFydGlhbHNbc3ltXSA9IHsKICAgICAgICAgIG5hbWU6IG5vZGUubiwKICAgICAgICAgIHBhcnRpYWxzOiB7fQogICAgICAgIH07CiAgICAgICAgY29udGV4dC5jb2RlICs9ICd0LmIodC5ycCgiJyArIGVzYyhzeW0pICsgJyIsYyxwLCInICsgKG5vZGUuaW5kZW50IHx8ICIiKSArICciKSk7JzsKICAgICAgICByZXR1cm4gc3ltOwogICAgICB9CiAgICAgIEhvZ2FuLmNvZGVnZW4gPSB7CiAgICAgICAgIiMiOiBmdW5jdGlvbiAobm9kZSwgY29udGV4dCkgewogICAgICAgICAgY29udGV4dC5jb2RlICs9ICJpZih0LnModC4iICsgY2hvb3NlTWV0aG9kKG5vZGUubikgKyAnKCInICsgZXNjKG5vZGUubikgKyAnIixjLHAsMSksJyArICJjLHAsMCwiICsgbm9kZS5pICsgIiwiICsgbm9kZS5lbmQgKyAnLCInICsgbm9kZS5vdGFnICsgIiAiICsgbm9kZS5jdGFnICsgJyIpKXsnICsgInQucnMoYyxwLCIgKyAiZnVuY3Rpb24oYyxwLHQpeyI7CiAgICAgICAgICBIb2dhbi53YWxrKG5vZGUubm9kZXMsIGNvbnRleHQpOwogICAgICAgICAgY29udGV4dC5jb2RlICs9ICJ9KTtjLnBvcCgpO30iOwogICAgICAgIH0sCiAgICAgICAgIl4iOiBmdW5jdGlvbiAobm9kZSwgY29udGV4dCkgewogICAgICAgICAgY29udGV4dC5jb2RlICs9ICJpZighdC5zKHQuIiArIGNob29zZU1ldGhvZChub2RlLm4pICsgJygiJyArIGVzYyhub2RlLm4pICsgJyIsYyxwLDEpLGMscCwxLDAsMCwiIikpeyc7CiAgICAgICAgICBIb2dhbi53YWxrKG5vZGUubm9kZXMsIGNvbnRleHQpOwogICAgICAgICAgY29udGV4dC5jb2RlICs9ICJ9OyI7CiAgICAgICAgfSwKICAgICAgICAiPiI6IGNyZWF0ZVBhcnRpYWwsCiAgICAgICAgIjwiOiBmdW5jdGlvbiAobm9kZSwgY29udGV4dCkgewogICAgICAgICAgdmFyIGN0eCA9IHsKICAgICAgICAgICAgcGFydGlhbHM6IHt9LAogICAgICAgICAgICBjb2RlOiAiIiwKICAgICAgICAgICAgc3Viczoge30sCiAgICAgICAgICAgIGluUGFydGlhbDogdHJ1ZQogICAgICAgICAgfTsKICAgICAgICAgIEhvZ2FuLndhbGsobm9kZS5ub2RlcywgY3R4KTsKICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IGNvbnRleHQucGFydGlhbHNbY3JlYXRlUGFydGlhbChub2RlLCBjb250ZXh0KV07CiAgICAgICAgICB0ZW1wbGF0ZS5zdWJzID0gY3R4LnN1YnM7CiAgICAgICAgICB0ZW1wbGF0ZS5wYXJ0aWFscyA9IGN0eC5wYXJ0aWFsczsKICAgICAgICB9LAogICAgICAgICQ6IGZ1bmN0aW9uIChub2RlLCBjb250ZXh0KSB7CiAgICAgICAgICB2YXIgY3R4ID0gewogICAgICAgICAgICBzdWJzOiB7fSwKICAgICAgICAgICAgY29kZTogIiIsCiAgICAgICAgICAgIHBhcnRpYWxzOiBjb250ZXh0LnBhcnRpYWxzLAogICAgICAgICAgICBwcmVmaXg6IG5vZGUubgogICAgICAgICAgfTsKICAgICAgICAgIEhvZ2FuLndhbGsobm9kZS5ub2RlcywgY3R4KTsKICAgICAgICAgIGNvbnRleHQuc3Vic1tub2RlLm5dID0gY3R4LmNvZGU7CiAgICAgICAgICBpZiAoIWNvbnRleHQuaW5QYXJ0aWFsKSB7CiAgICAgICAgICAgIGNvbnRleHQuY29kZSArPSAndC5zdWIoIicgKyBlc2Mobm9kZS5uKSArICciLGMscCxpKTsnOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgIlxuIjogZnVuY3Rpb24gKG5vZGUsIGNvbnRleHQpIHsKICAgICAgICAgIGNvbnRleHQuY29kZSArPSB3cml0ZSgnIlxcbiInICsgKG5vZGUubGFzdCA/ICIiIDogIiArIGkiKSk7CiAgICAgICAgfSwKICAgICAgICBfdjogZnVuY3Rpb24gKG5vZGUsIGNvbnRleHQpIHsKICAgICAgICAgIGNvbnRleHQuY29kZSArPSAidC5iKHQudih0LiIgKyBjaG9vc2VNZXRob2Qobm9kZS5uKSArICcoIicgKyBlc2Mobm9kZS5uKSArICciLGMscCwwKSkpOyc7CiAgICAgICAgfSwKICAgICAgICBfdDogZnVuY3Rpb24gKG5vZGUsIGNvbnRleHQpIHsKICAgICAgICAgIGNvbnRleHQuY29kZSArPSB3cml0ZSgnIicgKyBlc2Mobm9kZS50ZXh0KSArICciJyk7CiAgICAgICAgfSwKICAgICAgICAieyI6IHRyaXBsZVN0YWNoZSwKICAgICAgICAiJiI6IHRyaXBsZVN0YWNoZQogICAgICB9OwogICAgICBmdW5jdGlvbiB0cmlwbGVTdGFjaGUobm9kZSwgY29udGV4dCkgewogICAgICAgIGNvbnRleHQuY29kZSArPSAidC5iKHQudCh0LiIgKyBjaG9vc2VNZXRob2Qobm9kZS5uKSArICcoIicgKyBlc2Mobm9kZS5uKSArICciLGMscCwwKSkpOyc7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gd3JpdGUocykgewogICAgICAgIHJldHVybiAidC5iKCIgKyBzICsgIik7IjsKICAgICAgfQogICAgICBIb2dhbi53YWxrID0gZnVuY3Rpb24gKG5vZGVsaXN0LCBjb250ZXh0KSB7CiAgICAgICAgdmFyIGZ1bmM7CiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBub2RlbGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIGZ1bmMgPSBIb2dhbi5jb2RlZ2VuW25vZGVsaXN0W2ldLnRhZ107CiAgICAgICAgICBmdW5jICYmIGZ1bmMobm9kZWxpc3RbaV0sIGNvbnRleHQpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gY29udGV4dDsKICAgICAgfTsKICAgICAgSG9nYW4ucGFyc2UgPSBmdW5jdGlvbiAodG9rZW5zLCB0ZXh0LCBvcHRpb25zKSB7CiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgICAgcmV0dXJuIGJ1aWxkVHJlZSh0b2tlbnMsICIiLCBbXSwgb3B0aW9ucy5zZWN0aW9uVGFncyB8fCBbXSk7CiAgICAgIH07CiAgICAgIEhvZ2FuLmNhY2hlID0ge307CiAgICAgIEhvZ2FuLmNhY2hlS2V5ID0gZnVuY3Rpb24gKHRleHQsIG9wdGlvbnMpIHsKICAgICAgICByZXR1cm4gW3RleHQsICEhb3B0aW9ucy5hc1N0cmluZywgISFvcHRpb25zLmRpc2FibGVMYW1iZGEsIG9wdGlvbnMuZGVsaW1pdGVycywgISFvcHRpb25zLm1vZGVsR2V0XS5qb2luKCJ8fCIpOwogICAgICB9OwogICAgICBIb2dhbi5jb21waWxlID0gZnVuY3Rpb24gKHRleHQsIG9wdGlvbnMpIHsKICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICAgICAgICB2YXIga2V5ID0gSG9nYW4uY2FjaGVLZXkodGV4dCwgb3B0aW9ucyk7CiAgICAgICAgdmFyIHRlbXBsYXRlID0gdGhpcy5jYWNoZVtrZXldOwogICAgICAgIGlmICh0ZW1wbGF0ZSkgewogICAgICAgICAgdmFyIHBhcnRpYWxzID0gdGVtcGxhdGUucGFydGlhbHM7CiAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIHBhcnRpYWxzKSB7CiAgICAgICAgICAgIGRlbGV0ZSBwYXJ0aWFsc1tuYW1lXS5pbnN0YW5jZTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZTsKICAgICAgICB9CiAgICAgICAgdGVtcGxhdGUgPSB0aGlzLmdlbmVyYXRlKHRoaXMucGFyc2UodGhpcy5zY2FuKHRleHQsIG9wdGlvbnMuZGVsaW1pdGVycyksIHRleHQsIG9wdGlvbnMpLCB0ZXh0LCBvcHRpb25zKTsKICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVtrZXldID0gdGVtcGxhdGU7CiAgICAgIH07CiAgICB9KSh0cnVlID8gZXhwb3J0cyA6IEhvZ2FuKTsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICB2YXIgSG9nYW4gPSB7fTsKICAgIChmdW5jdGlvbiAoSG9nYW4pIHsKICAgICAgSG9nYW4uVGVtcGxhdGUgPSBmdW5jdGlvbiAoY29kZU9iaiwgdGV4dCwgY29tcGlsZXIsIG9wdGlvbnMpIHsKICAgICAgICBjb2RlT2JqID0gY29kZU9iaiB8fCB7fTsKICAgICAgICB0aGlzLnIgPSBjb2RlT2JqLmNvZGUgfHwgdGhpcy5yOwogICAgICAgIHRoaXMuYyA9IGNvbXBpbGVyOwogICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dCB8fCAiIjsKICAgICAgICB0aGlzLnBhcnRpYWxzID0gY29kZU9iai5wYXJ0aWFscyB8fCB7fTsKICAgICAgICB0aGlzLnN1YnMgPSBjb2RlT2JqLnN1YnMgfHwge307CiAgICAgICAgdGhpcy5idWYgPSAiIjsKICAgICAgfTsKICAgICAgSG9nYW4uVGVtcGxhdGUucHJvdG90eXBlID0gewogICAgICAgIHI6IGZ1bmN0aW9uIChjb250ZXh0LCBwYXJ0aWFscywgaW5kZW50KSB7CiAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgfSwKICAgICAgICB2OiBob2dhbkVzY2FwZSwKICAgICAgICB0OiBjb2VyY2VUb1N0cmluZywKICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihjb250ZXh0LCBwYXJ0aWFscywgaW5kZW50KSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5yaShbY29udGV4dF0sIHBhcnRpYWxzIHx8IHt9LCBpbmRlbnQpOwogICAgICAgIH0sCiAgICAgICAgcmk6IGZ1bmN0aW9uIChjb250ZXh0LCBwYXJ0aWFscywgaW5kZW50KSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5yKGNvbnRleHQsIHBhcnRpYWxzLCBpbmRlbnQpOwogICAgICAgIH0sCiAgICAgICAgZXA6IGZ1bmN0aW9uIChzeW1ib2wsIHBhcnRpYWxzKSB7CiAgICAgICAgICB2YXIgcGFydGlhbCA9IHRoaXMucGFydGlhbHNbc3ltYm9sXTsKICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IHBhcnRpYWxzW3BhcnRpYWwubmFtZV07CiAgICAgICAgICBpZiAocGFydGlhbC5pbnN0YW5jZSAmJiBwYXJ0aWFsLmJhc2UgPT0gdGVtcGxhdGUpIHsKICAgICAgICAgICAgcmV0dXJuIHBhcnRpYWwuaW5zdGFuY2U7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodHlwZW9mIHRlbXBsYXRlID09ICJzdHJpbmciKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5jKSB7CiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJObyBjb21waWxlciBhdmFpbGFibGUuIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGVtcGxhdGUgPSB0aGlzLmMuY29tcGlsZSh0ZW1wbGF0ZSwgdGhpcy5vcHRpb25zKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICghdGVtcGxhdGUpIHsKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnBhcnRpYWxzW3N5bWJvbF0uYmFzZSA9IHRlbXBsYXRlOwogICAgICAgICAgaWYgKHBhcnRpYWwuc3VicykgewogICAgICAgICAgICBpZiAoIXBhcnRpYWxzLnN0YWNrVGV4dCkgcGFydGlhbHMuc3RhY2tUZXh0ID0ge307CiAgICAgICAgICAgIGZvciAoa2V5IGluIHBhcnRpYWwuc3VicykgewogICAgICAgICAgICAgIGlmICghcGFydGlhbHMuc3RhY2tUZXh0W2tleV0pIHsKICAgICAgICAgICAgICAgIHBhcnRpYWxzLnN0YWNrVGV4dFtrZXldID0gdGhpcy5hY3RpdmVTdWIgIT09IHVuZGVmaW5lZCAmJiBwYXJ0aWFscy5zdGFja1RleHRbdGhpcy5hY3RpdmVTdWJdID8gcGFydGlhbHMuc3RhY2tUZXh0W3RoaXMuYWN0aXZlU3ViXSA6IHRoaXMudGV4dDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGVtcGxhdGUgPSBjcmVhdGVTcGVjaWFsaXplZFBhcnRpYWwodGVtcGxhdGUsIHBhcnRpYWwuc3VicywgcGFydGlhbC5wYXJ0aWFscywgdGhpcy5zdGFja1N1YnMsIHRoaXMuc3RhY2tQYXJ0aWFscywgcGFydGlhbHMuc3RhY2tUZXh0KTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMucGFydGlhbHNbc3ltYm9sXS5pbnN0YW5jZSA9IHRlbXBsYXRlOwogICAgICAgICAgcmV0dXJuIHRlbXBsYXRlOwogICAgICAgIH0sCiAgICAgICAgcnA6IGZ1bmN0aW9uIChzeW1ib2wsIGNvbnRleHQsIHBhcnRpYWxzLCBpbmRlbnQpIHsKICAgICAgICAgIHZhciBwYXJ0aWFsID0gdGhpcy5lcChzeW1ib2wsIHBhcnRpYWxzKTsKICAgICAgICAgIGlmICghcGFydGlhbCkgewogICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gcGFydGlhbC5yaShjb250ZXh0LCBwYXJ0aWFscywgaW5kZW50KTsKICAgICAgICB9LAogICAgICAgIHJzOiBmdW5jdGlvbiAoY29udGV4dCwgcGFydGlhbHMsIHNlY3Rpb24pIHsKICAgICAgICAgIHZhciB0YWlsID0gY29udGV4dFtjb250ZXh0Lmxlbmd0aCAtIDFdOwogICAgICAgICAgaWYgKCFpc0FycmF5KHRhaWwpKSB7CiAgICAgICAgICAgIHNlY3Rpb24oY29udGV4dCwgcGFydGlhbHMsIHRoaXMpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhaWwubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY29udGV4dC5wdXNoKHRhaWxbaV0pOwogICAgICAgICAgICBzZWN0aW9uKGNvbnRleHQsIHBhcnRpYWxzLCB0aGlzKTsKICAgICAgICAgICAgY29udGV4dC5wb3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHM6IGZ1bmN0aW9uICh2YWwsIGN0eCwgcGFydGlhbHMsIGludmVydGVkLCBzdGFydCwgZW5kLCB0YWdzKSB7CiAgICAgICAgICB2YXIgcGFzczsKICAgICAgICAgIGlmIChpc0FycmF5KHZhbCkgJiYgdmFsLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICAgIHZhbCA9IHRoaXMubXModmFsLCBjdHgsIHBhcnRpYWxzLCBpbnZlcnRlZCwgc3RhcnQsIGVuZCwgdGFncyk7CiAgICAgICAgICB9CiAgICAgICAgICBwYXNzID0gISF2YWw7CiAgICAgICAgICBpZiAoIWludmVydGVkICYmIHBhc3MgJiYgY3R4KSB7CiAgICAgICAgICAgIGN0eC5wdXNoKHR5cGVvZiB2YWwgPT0gIm9iamVjdCIgPyB2YWwgOiBjdHhbY3R4Lmxlbmd0aCAtIDFdKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBwYXNzOwogICAgICAgIH0sCiAgICAgICAgZDogZnVuY3Rpb24gKGtleSwgY3R4LCBwYXJ0aWFscywgcmV0dXJuRm91bmQpIHsKICAgICAgICAgIHZhciBmb3VuZCwKICAgICAgICAgICAgbmFtZXMgPSBrZXkuc3BsaXQoIi4iKSwKICAgICAgICAgICAgdmFsID0gdGhpcy5mKG5hbWVzWzBdLCBjdHgsIHBhcnRpYWxzLCByZXR1cm5Gb3VuZCksCiAgICAgICAgICAgIGRvTW9kZWxHZXQgPSB0aGlzLm9wdGlvbnMubW9kZWxHZXQsCiAgICAgICAgICAgIGN4ID0gbnVsbDsKICAgICAgICAgIGlmIChrZXkgPT09ICIuIiAmJiBpc0FycmF5KGN0eFtjdHgubGVuZ3RoIC0gMl0pKSB7CiAgICAgICAgICAgIHZhbCA9IGN0eFtjdHgubGVuZ3RoIC0gMV07CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgZm91bmQgPSBmaW5kSW5TY29wZShuYW1lc1tpXSwgdmFsLCBkb01vZGVsR2V0KTsKICAgICAgICAgICAgICBpZiAoZm91bmQgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgY3ggPSB2YWw7CiAgICAgICAgICAgICAgICB2YWwgPSBmb3VuZDsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdmFsID0gIiI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBpZiAocmV0dXJuRm91bmQgJiYgIXZhbCkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoIXJldHVybkZvdW5kICYmIHR5cGVvZiB2YWwgPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgICBjdHgucHVzaChjeCk7CiAgICAgICAgICAgIHZhbCA9IHRoaXMubXYodmFsLCBjdHgsIHBhcnRpYWxzKTsKICAgICAgICAgICAgY3R4LnBvcCgpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHZhbDsKICAgICAgICB9LAogICAgICAgIGY6IGZ1bmN0aW9uIChrZXksIGN0eCwgcGFydGlhbHMsIHJldHVybkZvdW5kKSB7CiAgICAgICAgICB2YXIgdmFsID0gZmFsc2UsCiAgICAgICAgICAgIHYgPSBudWxsLAogICAgICAgICAgICBmb3VuZCA9IGZhbHNlLAogICAgICAgICAgICBkb01vZGVsR2V0ID0gdGhpcy5vcHRpb25zLm1vZGVsR2V0OwogICAgICAgICAgZm9yICh2YXIgaSA9IGN0eC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICAgICAgICB2ID0gY3R4W2ldOwogICAgICAgICAgICB2YWwgPSBmaW5kSW5TY29wZShrZXksIHYsIGRvTW9kZWxHZXQpOwogICAgICAgICAgICBpZiAodmFsICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmICghZm91bmQpIHsKICAgICAgICAgICAgcmV0dXJuIHJldHVybkZvdW5kID8gZmFsc2UgOiAiIjsKICAgICAgICAgIH0KICAgICAgICAgIGlmICghcmV0dXJuRm91bmQgJiYgdHlwZW9mIHZhbCA9PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICAgIHZhbCA9IHRoaXMubXYodmFsLCBjdHgsIHBhcnRpYWxzKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB2YWw7CiAgICAgICAgfSwKICAgICAgICBsczogZnVuY3Rpb24gKGZ1bmMsIGN4LCBwYXJ0aWFscywgdGV4dCwgdGFncykgewogICAgICAgICAgdmFyIG9sZFRhZ3MgPSB0aGlzLm9wdGlvbnMuZGVsaW1pdGVyczsKICAgICAgICAgIHRoaXMub3B0aW9ucy5kZWxpbWl0ZXJzID0gdGFnczsKICAgICAgICAgIHRoaXMuYih0aGlzLmN0KGNvZXJjZVRvU3RyaW5nKGZ1bmMuY2FsbChjeCwgdGV4dCkpLCBjeCwgcGFydGlhbHMpKTsKICAgICAgICAgIHRoaXMub3B0aW9ucy5kZWxpbWl0ZXJzID0gb2xkVGFnczsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9LAogICAgICAgIGN0OiBmdW5jdGlvbiAodGV4dCwgY3gsIHBhcnRpYWxzKSB7CiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRpc2FibGVMYW1iZGEpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJMYW1iZGEgZmVhdHVyZXMgZGlzYWJsZWQuIik7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gdGhpcy5jLmNvbXBpbGUodGV4dCwgdGhpcy5vcHRpb25zKS5yZW5kZXIoY3gsIHBhcnRpYWxzKTsKICAgICAgICB9LAogICAgICAgIGI6IGZ1bmN0aW9uIChzKSB7CiAgICAgICAgICB0aGlzLmJ1ZiArPSBzOwogICAgICAgIH0sCiAgICAgICAgZmw6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciByID0gdGhpcy5idWY7CiAgICAgICAgICB0aGlzLmJ1ZiA9ICIiOwogICAgICAgICAgcmV0dXJuIHI7CiAgICAgICAgfSwKICAgICAgICBtczogZnVuY3Rpb24gKGZ1bmMsIGN0eCwgcGFydGlhbHMsIGludmVydGVkLCBzdGFydCwgZW5kLCB0YWdzKSB7CiAgICAgICAgICB2YXIgdGV4dFNvdXJjZSwKICAgICAgICAgICAgY3ggPSBjdHhbY3R4Lmxlbmd0aCAtIDFdLAogICAgICAgICAgICByZXN1bHQgPSBmdW5jLmNhbGwoY3gpOwogICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgICBpZiAoaW52ZXJ0ZWQpIHsKICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0ZXh0U291cmNlID0gdGhpcy5hY3RpdmVTdWIgJiYgdGhpcy5zdWJzVGV4dCAmJiB0aGlzLnN1YnNUZXh0W3RoaXMuYWN0aXZlU3ViXSA/IHRoaXMuc3Vic1RleHRbdGhpcy5hY3RpdmVTdWJdIDogdGhpcy50ZXh0OwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmxzKHJlc3VsdCwgY3gsIHBhcnRpYWxzLCB0ZXh0U291cmNlLnN1YnN0cmluZyhzdGFydCwgZW5kKSwgdGFncyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfSwKICAgICAgICBtdjogZnVuY3Rpb24gKGZ1bmMsIGN0eCwgcGFydGlhbHMpIHsKICAgICAgICAgIHZhciBjeCA9IGN0eFtjdHgubGVuZ3RoIC0gMV07CiAgICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5jYWxsKGN4KTsKICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3QoY29lcmNlVG9TdHJpbmcocmVzdWx0LmNhbGwoY3gpKSwgY3gsIHBhcnRpYWxzKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfSwKICAgICAgICBzdWI6IGZ1bmN0aW9uIChuYW1lLCBjb250ZXh0LCBwYXJ0aWFscywgaW5kZW50KSB7CiAgICAgICAgICB2YXIgZiA9IHRoaXMuc3Vic1tuYW1lXTsKICAgICAgICAgIGlmIChmKSB7CiAgICAgICAgICAgIHRoaXMuYWN0aXZlU3ViID0gbmFtZTsKICAgICAgICAgICAgZihjb250ZXh0LCBwYXJ0aWFscywgdGhpcywgaW5kZW50KTsKICAgICAgICAgICAgdGhpcy5hY3RpdmVTdWIgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CiAgICAgIGZ1bmN0aW9uIGZpbmRJblNjb3BlKGtleSwgc2NvcGUsIGRvTW9kZWxHZXQpIHsKICAgICAgICB2YXIgdmFsOwogICAgICAgIGlmIChzY29wZSAmJiB0eXBlb2Ygc2NvcGUgPT0gIm9iamVjdCIpIHsKICAgICAgICAgIGlmIChzY29wZVtrZXldICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgdmFsID0gc2NvcGVba2V5XTsKICAgICAgICAgIH0gZWxzZSBpZiAoZG9Nb2RlbEdldCAmJiBzY29wZS5nZXQgJiYgdHlwZW9mIHNjb3BlLmdldCA9PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICAgIHZhbCA9IHNjb3BlLmdldChrZXkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gdmFsOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIGNyZWF0ZVNwZWNpYWxpemVkUGFydGlhbChpbnN0YW5jZSwgc3VicywgcGFydGlhbHMsIHN0YWNrU3Vicywgc3RhY2tQYXJ0aWFscywgc3RhY2tUZXh0KSB7CiAgICAgICAgZnVuY3Rpb24gUGFydGlhbFRlbXBsYXRlKCkge30KICAgICAgICBQYXJ0aWFsVGVtcGxhdGUucHJvdG90eXBlID0gaW5zdGFuY2U7CiAgICAgICAgZnVuY3Rpb24gU3Vic3RpdHV0aW9ucygpIHt9CiAgICAgICAgU3Vic3RpdHV0aW9ucy5wcm90b3R5cGUgPSBpbnN0YW5jZS5zdWJzOwogICAgICAgIHZhciBrZXk7CiAgICAgICAgdmFyIHBhcnRpYWwgPSBuZXcgUGFydGlhbFRlbXBsYXRlKCk7CiAgICAgICAgcGFydGlhbC5zdWJzID0gbmV3IFN1YnN0aXR1dGlvbnMoKTsKICAgICAgICBwYXJ0aWFsLnN1YnNUZXh0ID0ge307CiAgICAgICAgcGFydGlhbC5idWYgPSAiIjsKICAgICAgICBzdGFja1N1YnMgPSBzdGFja1N1YnMgfHwge307CiAgICAgICAgcGFydGlhbC5zdGFja1N1YnMgPSBzdGFja1N1YnM7CiAgICAgICAgcGFydGlhbC5zdWJzVGV4dCA9IHN0YWNrVGV4dDsKICAgICAgICBmb3IgKGtleSBpbiBzdWJzKSB7CiAgICAgICAgICBpZiAoIXN0YWNrU3Vic1trZXldKSBzdGFja1N1YnNba2V5XSA9IHN1YnNba2V5XTsKICAgICAgICB9CiAgICAgICAgZm9yIChrZXkgaW4gc3RhY2tTdWJzKSB7CiAgICAgICAgICBwYXJ0aWFsLnN1YnNba2V5XSA9IHN0YWNrU3Vic1trZXldOwogICAgICAgIH0KICAgICAgICBzdGFja1BhcnRpYWxzID0gc3RhY2tQYXJ0aWFscyB8fCB7fTsKICAgICAgICBwYXJ0aWFsLnN0YWNrUGFydGlhbHMgPSBzdGFja1BhcnRpYWxzOwogICAgICAgIGZvciAoa2V5IGluIHBhcnRpYWxzKSB7CiAgICAgICAgICBpZiAoIXN0YWNrUGFydGlhbHNba2V5XSkgc3RhY2tQYXJ0aWFsc1trZXldID0gcGFydGlhbHNba2V5XTsKICAgICAgICB9CiAgICAgICAgZm9yIChrZXkgaW4gc3RhY2tQYXJ0aWFscykgewogICAgICAgICAgcGFydGlhbC5wYXJ0aWFsc1trZXldID0gc3RhY2tQYXJ0aWFsc1trZXldOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcGFydGlhbDsKICAgICAgfQogICAgICB2YXIgckFtcCA9IC8mL2csCiAgICAgICAgckx0ID0gLzwvZywKICAgICAgICByR3QgPSAvPi9nLAogICAgICAgIHJBcG9zID0gL1wnL2csCiAgICAgICAgclF1b3QgPSAvXCIvZywKICAgICAgICBoQ2hhcnMgPSAvWyY8PlwiXCddLzsKICAgICAgZnVuY3Rpb24gY29lcmNlVG9TdHJpbmcodmFsKSB7CiAgICAgICAgcmV0dXJuIFN0cmluZyh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQgPyAiIiA6IHZhbCk7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gaG9nYW5Fc2NhcGUoc3RyKSB7CiAgICAgICAgc3RyID0gY29lcmNlVG9TdHJpbmcoc3RyKTsKICAgICAgICByZXR1cm4gaENoYXJzLnRlc3Qoc3RyKSA/IHN0ci5yZXBsYWNlKHJBbXAsICImYW1wOyIpLnJlcGxhY2Uockx0LCAiJmx0OyIpLnJlcGxhY2Uockd0LCAiJmd0OyIpLnJlcGxhY2UockFwb3MsICImIzM5OyIpLnJlcGxhY2UoclF1b3QsICImcXVvdDsiKSA6IHN0cjsKICAgICAgfQogICAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGEpIHsKICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpID09PSAiW29iamVjdCBBcnJheV0iOwogICAgICB9OwogICAgfSkodHJ1ZSA/IGV4cG9ydHMgOiBIb2dhbik7CiAgfSwgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgInVzZSBzdHJpY3QiOwoKICAgIHZhciBBbGdvbGlhU2VhcmNoQ29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzApOwogICAgdmFyIGNyZWF0ZUFsZ29saWFzZWFyY2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTsKICAgIG1vZHVsZS5leHBvcnRzID0gY3JlYXRlQWxnb2xpYXNlYXJjaChBbGdvbGlhU2VhcmNoQ29yZSwgIihsaXRlKSAiKTsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IEFsZ29saWFTZWFyY2hDb3JlOwogICAgdmFyIGVycm9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7CiAgICB2YXIgZXhpdFByb21pc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTsKICAgIHZhciBJbmRleENvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTsKICAgIHZhciBzdG9yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpOwogICAgdmFyIE1BWF9BUElfS0VZX0xFTkdUSCA9IDUwMDsKICAgIHZhciBSRVNFVF9BUFBfREFUQV9USU1FUiA9IE9iamVjdCh7CiAgICAgIE5PREVfRU5WOiAicHJvZHVjdGlvbiIKICAgIH0pLlJFU0VUX0FQUF9EQVRBX1RJTUVSICYmIHBhcnNlSW50KE9iamVjdCh7CiAgICAgIE5PREVfRU5WOiAicHJvZHVjdGlvbiIKICAgIH0pLlJFU0VUX0FQUF9EQVRBX1RJTUVSLCAxMCkgfHwgNjAgKiAyICogMWUzOwogICAgZnVuY3Rpb24gQWxnb2xpYVNlYXJjaENvcmUoYXBwbGljYXRpb25JRCwgYXBpS2V5LCBvcHRzKSB7CiAgICAgIHZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oOCkoImFsZ29saWFzZWFyY2giKTsKICAgICAgdmFyIGNsb25lID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTsKICAgICAgdmFyIGlzQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpOwogICAgICB2YXIgbWFwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTsKICAgICAgdmFyIHVzYWdlID0gIlVzYWdlOiBhbGdvbGlhc2VhcmNoKGFwcGxpY2F0aW9uSUQsIGFwaUtleSwgb3B0cykiOwogICAgICBpZiAob3B0cy5fYWxsb3dFbXB0eUNyZWRlbnRpYWxzICE9PSB0cnVlICYmICFhcHBsaWNhdGlvbklEKSB7CiAgICAgICAgdGhyb3cgbmV3IGVycm9ycy5BbGdvbGlhU2VhcmNoRXJyb3IoIlBsZWFzZSBwcm92aWRlIGFuIGFwcGxpY2F0aW9uIElELiAiICsgdXNhZ2UpOwogICAgICB9CiAgICAgIGlmIChvcHRzLl9hbGxvd0VtcHR5Q3JlZGVudGlhbHMgIT09IHRydWUgJiYgIWFwaUtleSkgewogICAgICAgIHRocm93IG5ldyBlcnJvcnMuQWxnb2xpYVNlYXJjaEVycm9yKCJQbGVhc2UgcHJvdmlkZSBhbiBBUEkga2V5LiAiICsgdXNhZ2UpOwogICAgICB9CiAgICAgIHRoaXMuYXBwbGljYXRpb25JRCA9IGFwcGxpY2F0aW9uSUQ7CiAgICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5OwogICAgICB0aGlzLmhvc3RzID0gewogICAgICAgIHJlYWQ6IFtdLAogICAgICAgIHdyaXRlOiBbXQogICAgICB9OwogICAgICBvcHRzID0gb3B0cyB8fCB7fTsKICAgICAgdGhpcy5fdGltZW91dHMgPSBvcHRzLnRpbWVvdXRzIHx8IHsKICAgICAgICBjb25uZWN0OiAxICogMWUzLAogICAgICAgIHJlYWQ6IDIgKiAxZTMsCiAgICAgICAgd3JpdGU6IDMwICogMWUzCiAgICAgIH07CiAgICAgIGlmIChvcHRzLnRpbWVvdXQpIHsKICAgICAgICB0aGlzLl90aW1lb3V0cy5jb25uZWN0ID0gdGhpcy5fdGltZW91dHMucmVhZCA9IHRoaXMuX3RpbWVvdXRzLndyaXRlID0gb3B0cy50aW1lb3V0OwogICAgICB9CiAgICAgIHZhciBwcm90b2NvbCA9IG9wdHMucHJvdG9jb2wgfHwgImh0dHBzOiI7CiAgICAgIGlmICghLzokLy50ZXN0KHByb3RvY29sKSkgewogICAgICAgIHByb3RvY29sID0gcHJvdG9jb2wgKyAiOiI7CiAgICAgIH0KICAgICAgaWYgKHByb3RvY29sICE9PSAiaHR0cDoiICYmIHByb3RvY29sICE9PSAiaHR0cHM6IikgewogICAgICAgIHRocm93IG5ldyBlcnJvcnMuQWxnb2xpYVNlYXJjaEVycm9yKCJwcm90b2NvbCBtdXN0IGJlIGBodHRwOmAgb3IgYGh0dHBzOmAgKHdhcyBgIiArIG9wdHMucHJvdG9jb2wgKyAiYCkiKTsKICAgICAgfQogICAgICB0aGlzLl9jaGVja0FwcElkRGF0YSgpOwogICAgICBpZiAoIW9wdHMuaG9zdHMpIHsKICAgICAgICB2YXIgZGVmYXVsdEhvc3RzID0gbWFwKHRoaXMuX3NodWZmbGVSZXN1bHQsIGZ1bmN0aW9uIChob3N0TnVtYmVyKSB7CiAgICAgICAgICByZXR1cm4gYXBwbGljYXRpb25JRCArICItIiArIGhvc3ROdW1iZXIgKyAiLmFsZ29saWFuZXQuY29tIjsKICAgICAgICB9KTsKICAgICAgICB2YXIgbWFpblN1ZmZpeCA9IChvcHRzLmRzbiA9PT0gZmFsc2UgPyAiIiA6ICItZHNuIikgKyAiLmFsZ29saWEubmV0IjsKICAgICAgICB0aGlzLmhvc3RzLnJlYWQgPSBbdGhpcy5hcHBsaWNhdGlvbklEICsgbWFpblN1ZmZpeF0uY29uY2F0KGRlZmF1bHRIb3N0cyk7CiAgICAgICAgdGhpcy5ob3N0cy53cml0ZSA9IFt0aGlzLmFwcGxpY2F0aW9uSUQgKyAiLmFsZ29saWEubmV0Il0uY29uY2F0KGRlZmF1bHRIb3N0cyk7CiAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShvcHRzLmhvc3RzKSkgewogICAgICAgIHRoaXMuaG9zdHMucmVhZCA9IGNsb25lKG9wdHMuaG9zdHMpOwogICAgICAgIHRoaXMuaG9zdHMud3JpdGUgPSBjbG9uZShvcHRzLmhvc3RzKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmhvc3RzLnJlYWQgPSBjbG9uZShvcHRzLmhvc3RzLnJlYWQpOwogICAgICAgIHRoaXMuaG9zdHMud3JpdGUgPSBjbG9uZShvcHRzLmhvc3RzLndyaXRlKTsKICAgICAgfQogICAgICB0aGlzLmhvc3RzLnJlYWQgPSBtYXAodGhpcy5ob3N0cy5yZWFkLCBwcmVwYXJlSG9zdChwcm90b2NvbCkpOwogICAgICB0aGlzLmhvc3RzLndyaXRlID0gbWFwKHRoaXMuaG9zdHMud3JpdGUsIHByZXBhcmVIb3N0KHByb3RvY29sKSk7CiAgICAgIHRoaXMuZXh0cmFIZWFkZXJzID0ge307CiAgICAgIHRoaXMuY2FjaGUgPSBvcHRzLl9jYWNoZSB8fCB7fTsKICAgICAgdGhpcy5fdWEgPSBvcHRzLl91YTsKICAgICAgdGhpcy5fdXNlQ2FjaGUgPSBvcHRzLl91c2VDYWNoZSA9PT0gdW5kZWZpbmVkIHx8IG9wdHMuX2NhY2hlID8gdHJ1ZSA6IG9wdHMuX3VzZUNhY2hlOwogICAgICB0aGlzLl91c2VSZXF1ZXN0Q2FjaGUgPSB0aGlzLl91c2VDYWNoZSAmJiBvcHRzLl91c2VSZXF1ZXN0Q2FjaGU7CiAgICAgIHRoaXMuX3VzZUZhbGxiYWNrID0gb3B0cy51c2VGYWxsYmFjayA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IG9wdHMudXNlRmFsbGJhY2s7CiAgICAgIHRoaXMuX3NldFRpbWVvdXQgPSBvcHRzLl9zZXRUaW1lb3V0OwogICAgICBkZWJ1ZygiaW5pdCBkb25lLCAlaiIsIHRoaXMpOwogICAgfQogICAgQWxnb2xpYVNlYXJjaENvcmUucHJvdG90eXBlLmluaXRJbmRleCA9IGZ1bmN0aW9uIChpbmRleE5hbWUpIHsKICAgICAgcmV0dXJuIG5ldyBJbmRleENvcmUodGhpcywgaW5kZXhOYW1lKTsKICAgIH07CiAgICBBbGdvbGlhU2VhcmNoQ29yZS5wcm90b3R5cGUuc2V0RXh0cmFIZWFkZXIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHsKICAgICAgdGhpcy5leHRyYUhlYWRlcnNbbmFtZS50b0xvd2VyQ2FzZSgpXSA9IHZhbHVlOwogICAgfTsKICAgIEFsZ29saWFTZWFyY2hDb3JlLnByb3RvdHlwZS5nZXRFeHRyYUhlYWRlciA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgIHJldHVybiB0aGlzLmV4dHJhSGVhZGVyc1tuYW1lLnRvTG93ZXJDYXNlKCldOwogICAgfTsKICAgIEFsZ29saWFTZWFyY2hDb3JlLnByb3RvdHlwZS51bnNldEV4dHJhSGVhZGVyID0gZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgZGVsZXRlIHRoaXMuZXh0cmFIZWFkZXJzW25hbWUudG9Mb3dlckNhc2UoKV07CiAgICB9OwogICAgQWxnb2xpYVNlYXJjaENvcmUucHJvdG90eXBlLmFkZEFsZ29saWFBZ2VudCA9IGZ1bmN0aW9uIChhbGdvbGlhQWdlbnQpIHsKICAgICAgaWYgKHRoaXMuX3VhLmluZGV4T2YoIjsiICsgYWxnb2xpYUFnZW50KSA9PT0gLTEpIHsKICAgICAgICB0aGlzLl91YSArPSAiOyIgKyBhbGdvbGlhQWdlbnQ7CiAgICAgIH0KICAgIH07CiAgICBBbGdvbGlhU2VhcmNoQ29yZS5wcm90b3R5cGUuX2pzb25SZXF1ZXN0ID0gZnVuY3Rpb24gKGluaXRpYWxPcHRzKSB7CiAgICAgIHRoaXMuX2NoZWNrQXBwSWREYXRhKCk7CiAgICAgIHZhciByZXF1ZXN0RGVidWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpKCJhbGdvbGlhc2VhcmNoOiIgKyBpbml0aWFsT3B0cy51cmwpOwogICAgICB2YXIgYm9keTsKICAgICAgdmFyIGNhY2hlSUQ7CiAgICAgIHZhciBhZGRpdGlvbmFsVUEgPSBpbml0aWFsT3B0cy5hZGRpdGlvbmFsVUEgfHwgIiI7CiAgICAgIHZhciBjYWNoZSA9IGluaXRpYWxPcHRzLmNhY2hlOwogICAgICB2YXIgY2xpZW50ID0gdGhpczsKICAgICAgdmFyIHRyaWVzID0gMDsKICAgICAgdmFyIHVzaW5nRmFsbGJhY2sgPSBmYWxzZTsKICAgICAgdmFyIGhhc0ZhbGxiYWNrID0gY2xpZW50Ll91c2VGYWxsYmFjayAmJiBjbGllbnQuX3JlcXVlc3QuZmFsbGJhY2sgJiYgaW5pdGlhbE9wdHMuZmFsbGJhY2s7CiAgICAgIHZhciBoZWFkZXJzOwogICAgICBpZiAodGhpcy5hcGlLZXkubGVuZ3RoID4gTUFYX0FQSV9LRVlfTEVOR1RIICYmIGluaXRpYWxPcHRzLmJvZHkgIT09IHVuZGVmaW5lZCAmJiAoaW5pdGlhbE9wdHMuYm9keS5wYXJhbXMgIT09IHVuZGVmaW5lZCB8fCBpbml0aWFsT3B0cy5ib2R5LnJlcXVlc3RzICE9PSB1bmRlZmluZWQpKSB7CiAgICAgICAgaW5pdGlhbE9wdHMuYm9keS5hcGlLZXkgPSB0aGlzLmFwaUtleTsKICAgICAgICBoZWFkZXJzID0gdGhpcy5fY29tcHV0ZVJlcXVlc3RIZWFkZXJzKHsKICAgICAgICAgIGFkZGl0aW9uYWxVQTogYWRkaXRpb25hbFVBLAogICAgICAgICAgd2l0aEFwaUtleTogZmFsc2UsCiAgICAgICAgICBoZWFkZXJzOiBpbml0aWFsT3B0cy5oZWFkZXJzCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaGVhZGVycyA9IHRoaXMuX2NvbXB1dGVSZXF1ZXN0SGVhZGVycyh7CiAgICAgICAgICBhZGRpdGlvbmFsVUE6IGFkZGl0aW9uYWxVQSwKICAgICAgICAgIGhlYWRlcnM6IGluaXRpYWxPcHRzLmhlYWRlcnMKICAgICAgICB9KTsKICAgICAgfQogICAgICBpZiAoaW5pdGlhbE9wdHMuYm9keSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgYm9keSA9IHNhZmVKU09OU3RyaW5naWZ5KGluaXRpYWxPcHRzLmJvZHkpOwogICAgICB9CiAgICAgIHJlcXVlc3REZWJ1ZygicmVxdWVzdCBzdGFydCIpOwogICAgICB2YXIgZGVidWdEYXRhID0gW107CiAgICAgIGZ1bmN0aW9uIGRvUmVxdWVzdChyZXF1ZXN0ZXIsIHJlcU9wdHMpIHsKICAgICAgICBjbGllbnQuX2NoZWNrQXBwSWREYXRhKCk7CiAgICAgICAgdmFyIHN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7CiAgICAgICAgaWYgKGNsaWVudC5fdXNlQ2FjaGUgJiYgIWNsaWVudC5fdXNlUmVxdWVzdENhY2hlKSB7CiAgICAgICAgICBjYWNoZUlEID0gaW5pdGlhbE9wdHMudXJsOwogICAgICAgIH0KICAgICAgICBpZiAoY2xpZW50Ll91c2VDYWNoZSAmJiAhY2xpZW50Ll91c2VSZXF1ZXN0Q2FjaGUgJiYgYm9keSkgewogICAgICAgICAgY2FjaGVJRCArPSAiX2JvZHlfIiArIHJlcU9wdHMuYm9keTsKICAgICAgICB9CiAgICAgICAgaWYgKGlzQ2FjaGVWYWxpZFdpdGhDdXJyZW50SUQoIWNsaWVudC5fdXNlUmVxdWVzdENhY2hlLCBjYWNoZSwgY2FjaGVJRCkpIHsKICAgICAgICAgIHJlcXVlc3REZWJ1Zygic2VydmluZyByZXNwb25zZSBmcm9tIGNhY2hlIik7CiAgICAgICAgICB2YXIgcmVzcG9uc2VUZXh0ID0gY2FjaGVbY2FjaGVJRF07CiAgICAgICAgICByZXR1cm4gY2xpZW50Ll9wcm9taXNlLnJlc29sdmUoewogICAgICAgICAgICBib2R5OiBKU09OLnBhcnNlKHJlc3BvbnNlVGV4dCksCiAgICAgICAgICAgIHJlc3BvbnNlVGV4dDogcmVzcG9uc2VUZXh0CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgaWYgKHRyaWVzID49IGNsaWVudC5ob3N0c1tpbml0aWFsT3B0cy5ob3N0VHlwZV0ubGVuZ3RoKSB7CiAgICAgICAgICBpZiAoIWhhc0ZhbGxiYWNrIHx8IHVzaW5nRmFsbGJhY2spIHsKICAgICAgICAgICAgcmVxdWVzdERlYnVnKCJjb3VsZCBub3QgZ2V0IGFueSByZXNwb25zZSIpOwogICAgICAgICAgICByZXR1cm4gY2xpZW50Ll9wcm9taXNlLnJlamVjdChuZXcgZXJyb3JzLkFsZ29saWFTZWFyY2hFcnJvcigiQ2Fubm90IGNvbm5lY3QgdG8gdGhlIEFsZ29saWFTZWFyY2ggQVBJLiIgKyAiIFNlbmQgYW4gZW1haWwgdG8gc3VwcG9ydEBhbGdvbGlhLmNvbSB0byByZXBvcnQgYW5kIHJlc29sdmUgdGhlIGlzc3VlLiIgKyAiIEFwcGxpY2F0aW9uIGlkIHdhczogIiArIGNsaWVudC5hcHBsaWNhdGlvbklELCB7CiAgICAgICAgICAgICAgZGVidWdEYXRhOiBkZWJ1Z0RhdGEKICAgICAgICAgICAgfSkpOwogICAgICAgICAgfQogICAgICAgICAgcmVxdWVzdERlYnVnKCJzd2l0Y2hpbmcgdG8gZmFsbGJhY2siKTsKICAgICAgICAgIHRyaWVzID0gMDsKICAgICAgICAgIHJlcU9wdHMubWV0aG9kID0gaW5pdGlhbE9wdHMuZmFsbGJhY2subWV0aG9kOwogICAgICAgICAgcmVxT3B0cy51cmwgPSBpbml0aWFsT3B0cy5mYWxsYmFjay51cmw7CiAgICAgICAgICByZXFPcHRzLmpzb25Cb2R5ID0gaW5pdGlhbE9wdHMuZmFsbGJhY2suYm9keTsKICAgICAgICAgIGlmIChyZXFPcHRzLmpzb25Cb2R5KSB7CiAgICAgICAgICAgIHJlcU9wdHMuYm9keSA9IHNhZmVKU09OU3RyaW5naWZ5KHJlcU9wdHMuanNvbkJvZHkpOwogICAgICAgICAgfQogICAgICAgICAgaGVhZGVycyA9IGNsaWVudC5fY29tcHV0ZVJlcXVlc3RIZWFkZXJzKHsKICAgICAgICAgICAgYWRkaXRpb25hbFVBOiBhZGRpdGlvbmFsVUEsCiAgICAgICAgICAgIGhlYWRlcnM6IGluaXRpYWxPcHRzLmhlYWRlcnMKICAgICAgICAgIH0pOwogICAgICAgICAgcmVxT3B0cy50aW1lb3V0cyA9IGNsaWVudC5fZ2V0VGltZW91dHNGb3JSZXF1ZXN0KGluaXRpYWxPcHRzLmhvc3RUeXBlKTsKICAgICAgICAgIGNsaWVudC5fc2V0SG9zdEluZGV4QnlUeXBlKDAsIGluaXRpYWxPcHRzLmhvc3RUeXBlKTsKICAgICAgICAgIHVzaW5nRmFsbGJhY2sgPSB0cnVlOwogICAgICAgICAgcmV0dXJuIGRvUmVxdWVzdChjbGllbnQuX3JlcXVlc3QuZmFsbGJhY2ssIHJlcU9wdHMpOwogICAgICAgIH0KICAgICAgICB2YXIgY3VycmVudEhvc3QgPSBjbGllbnQuX2dldEhvc3RCeVR5cGUoaW5pdGlhbE9wdHMuaG9zdFR5cGUpOwogICAgICAgIHZhciB1cmwgPSBjdXJyZW50SG9zdCArIHJlcU9wdHMudXJsOwogICAgICAgIHZhciBvcHRpb25zID0gewogICAgICAgICAgYm9keTogcmVxT3B0cy5ib2R5LAogICAgICAgICAganNvbkJvZHk6IHJlcU9wdHMuanNvbkJvZHksCiAgICAgICAgICBtZXRob2Q6IHJlcU9wdHMubWV0aG9kLAogICAgICAgICAgaGVhZGVyczogaGVhZGVycywKICAgICAgICAgIHRpbWVvdXRzOiByZXFPcHRzLnRpbWVvdXRzLAogICAgICAgICAgZGVidWc6IHJlcXVlc3REZWJ1ZywKICAgICAgICAgIGZvcmNlQXV0aEhlYWRlcnM6IHJlcU9wdHMuZm9yY2VBdXRoSGVhZGVycwogICAgICAgIH07CiAgICAgICAgcmVxdWVzdERlYnVnKCJtZXRob2Q6ICVzLCB1cmw6ICVzLCBoZWFkZXJzOiAlaiwgdGltZW91dHM6ICVkIiwgb3B0aW9ucy5tZXRob2QsIHVybCwgb3B0aW9ucy5oZWFkZXJzLCBvcHRpb25zLnRpbWVvdXRzKTsKICAgICAgICBpZiAocmVxdWVzdGVyID09PSBjbGllbnQuX3JlcXVlc3QuZmFsbGJhY2spIHsKICAgICAgICAgIHJlcXVlc3REZWJ1ZygidXNpbmcgZmFsbGJhY2siKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlcXVlc3Rlci5jYWxsKGNsaWVudCwgdXJsLCBvcHRpb25zKS50aGVuKHN1Y2Nlc3MsIHRyeUZhbGxiYWNrKTsKICAgICAgICBmdW5jdGlvbiBzdWNjZXNzKGh0dHBSZXNwb25zZSkgewogICAgICAgICAgdmFyIHN0YXR1cyA9IGh0dHBSZXNwb25zZSAmJiBodHRwUmVzcG9uc2UuYm9keSAmJiBodHRwUmVzcG9uc2UuYm9keS5tZXNzYWdlICYmIGh0dHBSZXNwb25zZS5ib2R5LnN0YXR1cyB8fCBodHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSB8fCBodHRwUmVzcG9uc2UgJiYgaHR0cFJlc3BvbnNlLmJvZHkgJiYgMjAwOwogICAgICAgICAgcmVxdWVzdERlYnVnKCJyZWNlaXZlZCByZXNwb25zZTogc3RhdHVzQ29kZTogJXMsIGNvbXB1dGVkIHN0YXR1c0NvZGU6ICVkLCBoZWFkZXJzOiAlaiIsIGh0dHBSZXNwb25zZS5zdGF0dXNDb2RlLCBzdGF0dXMsIGh0dHBSZXNwb25zZS5oZWFkZXJzKTsKICAgICAgICAgIHZhciBodHRwUmVzcG9uc2VPayA9IE1hdGguZmxvb3Ioc3RhdHVzIC8gMTAwKSA9PT0gMjsKICAgICAgICAgIHZhciBlbmRUaW1lID0gbmV3IERhdGUoKTsKICAgICAgICAgIGRlYnVnRGF0YS5wdXNoKHsKICAgICAgICAgICAgY3VycmVudEhvc3Q6IGN1cnJlbnRIb3N0LAogICAgICAgICAgICBoZWFkZXJzOiByZW1vdmVDcmVkZW50aWFscyhoZWFkZXJzKSwKICAgICAgICAgICAgY29udGVudDogYm9keSB8fCBudWxsLAogICAgICAgICAgICBjb250ZW50TGVuZ3RoOiBib2R5ICE9PSB1bmRlZmluZWQgPyBib2R5Lmxlbmd0aCA6IG51bGwsCiAgICAgICAgICAgIG1ldGhvZDogcmVxT3B0cy5tZXRob2QsCiAgICAgICAgICAgIHRpbWVvdXRzOiByZXFPcHRzLnRpbWVvdXRzLAogICAgICAgICAgICB1cmw6IHJlcU9wdHMudXJsLAogICAgICAgICAgICBzdGFydFRpbWU6IHN0YXJ0VGltZSwKICAgICAgICAgICAgZW5kVGltZTogZW5kVGltZSwKICAgICAgICAgICAgZHVyYXRpb246IGVuZFRpbWUgLSBzdGFydFRpbWUsCiAgICAgICAgICAgIHN0YXR1c0NvZGU6IHN0YXR1cwogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAoaHR0cFJlc3BvbnNlT2spIHsKICAgICAgICAgICAgaWYgKGNsaWVudC5fdXNlQ2FjaGUgJiYgIWNsaWVudC5fdXNlUmVxdWVzdENhY2hlICYmIGNhY2hlKSB7CiAgICAgICAgICAgICAgY2FjaGVbY2FjaGVJRF0gPSBodHRwUmVzcG9uc2UucmVzcG9uc2VUZXh0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgcmVzcG9uc2VUZXh0OiBodHRwUmVzcG9uc2UucmVzcG9uc2VUZXh0LAogICAgICAgICAgICAgIGJvZHk6IGh0dHBSZXNwb25zZS5ib2R5CiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgc2hvdWxkUmV0cnkgPSBNYXRoLmZsb29yKHN0YXR1cyAvIDEwMCkgIT09IDQ7CiAgICAgICAgICBpZiAoc2hvdWxkUmV0cnkpIHsKICAgICAgICAgICAgdHJpZXMgKz0gMTsKICAgICAgICAgICAgcmV0dXJuIHJldHJ5UmVxdWVzdCgpOwogICAgICAgICAgfQogICAgICAgICAgcmVxdWVzdERlYnVnKCJ1bnJlY292ZXJhYmxlIGVycm9yIik7CiAgICAgICAgICB2YXIgdW5yZWNvdmVyYWJsZUVycm9yID0gbmV3IGVycm9ycy5BbGdvbGlhU2VhcmNoRXJyb3IoaHR0cFJlc3BvbnNlLmJvZHkgJiYgaHR0cFJlc3BvbnNlLmJvZHkubWVzc2FnZSwgewogICAgICAgICAgICBkZWJ1Z0RhdGE6IGRlYnVnRGF0YSwKICAgICAgICAgICAgc3RhdHVzQ29kZTogc3RhdHVzCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBjbGllbnQuX3Byb21pc2UucmVqZWN0KHVucmVjb3ZlcmFibGVFcnJvcik7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHRyeUZhbGxiYWNrKGVycikgewogICAgICAgICAgcmVxdWVzdERlYnVnKCJlcnJvcjogJXMsIHN0YWNrOiAlcyIsIGVyci5tZXNzYWdlLCBlcnIuc3RhY2spOwogICAgICAgICAgdmFyIGVuZFRpbWUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgZGVidWdEYXRhLnB1c2goewogICAgICAgICAgICBjdXJyZW50SG9zdDogY3VycmVudEhvc3QsCiAgICAgICAgICAgIGhlYWRlcnM6IHJlbW92ZUNyZWRlbnRpYWxzKGhlYWRlcnMpLAogICAgICAgICAgICBjb250ZW50OiBib2R5IHx8IG51bGwsCiAgICAgICAgICAgIGNvbnRlbnRMZW5ndGg6IGJvZHkgIT09IHVuZGVmaW5lZCA/IGJvZHkubGVuZ3RoIDogbnVsbCwKICAgICAgICAgICAgbWV0aG9kOiByZXFPcHRzLm1ldGhvZCwKICAgICAgICAgICAgdGltZW91dHM6IHJlcU9wdHMudGltZW91dHMsCiAgICAgICAgICAgIHVybDogcmVxT3B0cy51cmwsCiAgICAgICAgICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lLAogICAgICAgICAgICBlbmRUaW1lOiBlbmRUaW1lLAogICAgICAgICAgICBkdXJhdGlvbjogZW5kVGltZSAtIHN0YXJ0VGltZQogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAoIShlcnIgaW5zdGFuY2VvZiBlcnJvcnMuQWxnb2xpYVNlYXJjaEVycm9yKSkgewogICAgICAgICAgICBlcnIgPSBuZXcgZXJyb3JzLlVua25vd24oZXJyICYmIGVyci5tZXNzYWdlLCBlcnIpOwogICAgICAgICAgfQogICAgICAgICAgdHJpZXMgKz0gMTsKICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBlcnJvcnMuVW5rbm93biB8fCBlcnIgaW5zdGFuY2VvZiBlcnJvcnMuVW5wYXJzYWJsZUpTT04gfHwgdHJpZXMgPj0gY2xpZW50Lmhvc3RzW2luaXRpYWxPcHRzLmhvc3RUeXBlXS5sZW5ndGggJiYgKHVzaW5nRmFsbGJhY2sgfHwgIWhhc0ZhbGxiYWNrKSkgewogICAgICAgICAgICBlcnIuZGVidWdEYXRhID0gZGVidWdEYXRhOwogICAgICAgICAgICByZXR1cm4gY2xpZW50Ll9wcm9taXNlLnJlamVjdChlcnIpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIGVycm9ycy5SZXF1ZXN0VGltZW91dCkgewogICAgICAgICAgICByZXR1cm4gcmV0cnlSZXF1ZXN0V2l0aEhpZ2hlclRpbWVvdXQoKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiByZXRyeVJlcXVlc3QoKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gcmV0cnlSZXF1ZXN0KCkgewogICAgICAgICAgcmVxdWVzdERlYnVnKCJyZXRyeWluZyByZXF1ZXN0Iik7CiAgICAgICAgICBjbGllbnQuX2luY3JlbWVudEhvc3RJbmRleChpbml0aWFsT3B0cy5ob3N0VHlwZSk7CiAgICAgICAgICByZXR1cm4gZG9SZXF1ZXN0KHJlcXVlc3RlciwgcmVxT3B0cyk7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHJldHJ5UmVxdWVzdFdpdGhIaWdoZXJUaW1lb3V0KCkgewogICAgICAgICAgcmVxdWVzdERlYnVnKCJyZXRyeWluZyByZXF1ZXN0IHdpdGggaGlnaGVyIHRpbWVvdXQiKTsKICAgICAgICAgIGNsaWVudC5faW5jcmVtZW50SG9zdEluZGV4KGluaXRpYWxPcHRzLmhvc3RUeXBlKTsKICAgICAgICAgIGNsaWVudC5faW5jcmVtZW50VGltZW91dE11bHRpcGxlcigpOwogICAgICAgICAgcmVxT3B0cy50aW1lb3V0cyA9IGNsaWVudC5fZ2V0VGltZW91dHNGb3JSZXF1ZXN0KGluaXRpYWxPcHRzLmhvc3RUeXBlKTsKICAgICAgICAgIHJldHVybiBkb1JlcXVlc3QocmVxdWVzdGVyLCByZXFPcHRzKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZnVuY3Rpb24gaXNDYWNoZVZhbGlkV2l0aEN1cnJlbnRJRCh1c2VSZXF1ZXN0Q2FjaGUsIGN1cnJlbnRDYWNoZSwgY3VycmVudENhY2hlSUQpIHsKICAgICAgICByZXR1cm4gY2xpZW50Ll91c2VDYWNoZSAmJiB1c2VSZXF1ZXN0Q2FjaGUgJiYgY3VycmVudENhY2hlICYmIGN1cnJlbnRDYWNoZVtjdXJyZW50Q2FjaGVJRF0gIT09IHVuZGVmaW5lZDsKICAgICAgfQogICAgICBmdW5jdGlvbiBpbnRlcm9wQ2FsbGJhY2tSZXR1cm4ocmVxdWVzdCwgY2FsbGJhY2spIHsKICAgICAgICBpZiAoaXNDYWNoZVZhbGlkV2l0aEN1cnJlbnRJRChjbGllbnQuX3VzZVJlcXVlc3RDYWNoZSwgY2FjaGUsIGNhY2hlSUQpKSB7CiAgICAgICAgICByZXF1ZXN0LmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZGVsZXRlIGNhY2hlW2NhY2hlSURdOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlb2YgaW5pdGlhbE9wdHMuY2FsbGJhY2sgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgIHJlcXVlc3QudGhlbihmdW5jdGlvbiBva0NiKGNvbnRlbnQpIHsKICAgICAgICAgICAgZXhpdFByb21pc2UoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGluaXRpYWxPcHRzLmNhbGxiYWNrKG51bGwsIGNhbGxiYWNrKGNvbnRlbnQpKTsKICAgICAgICAgICAgfSwgY2xpZW50Ll9zZXRUaW1lb3V0IHx8IHNldFRpbWVvdXQpOwogICAgICAgICAgfSwgZnVuY3Rpb24gbm9va0NiKGVycikgewogICAgICAgICAgICBleGl0UHJvbWlzZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgaW5pdGlhbE9wdHMuY2FsbGJhY2soZXJyKTsKICAgICAgICAgICAgfSwgY2xpZW50Ll9zZXRUaW1lb3V0IHx8IHNldFRpbWVvdXQpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiByZXF1ZXN0LnRoZW4oY2FsbGJhY2spOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoY2xpZW50Ll91c2VDYWNoZSAmJiBjbGllbnQuX3VzZVJlcXVlc3RDYWNoZSkgewogICAgICAgIGNhY2hlSUQgPSBpbml0aWFsT3B0cy51cmw7CiAgICAgIH0KICAgICAgaWYgKGNsaWVudC5fdXNlQ2FjaGUgJiYgY2xpZW50Ll91c2VSZXF1ZXN0Q2FjaGUgJiYgYm9keSkgewogICAgICAgIGNhY2hlSUQgKz0gIl9ib2R5XyIgKyBib2R5OwogICAgICB9CiAgICAgIGlmIChpc0NhY2hlVmFsaWRXaXRoQ3VycmVudElEKGNsaWVudC5fdXNlUmVxdWVzdENhY2hlLCBjYWNoZSwgY2FjaGVJRCkpIHsKICAgICAgICByZXF1ZXN0RGVidWcoInNlcnZpbmcgcmVxdWVzdCBmcm9tIGNhY2hlIik7CiAgICAgICAgdmFyIG1heWJlUHJvbWlzZUZvckNhY2hlID0gY2FjaGVbY2FjaGVJRF07CiAgICAgICAgdmFyIHByb21pc2VGb3JDYWNoZSA9IHR5cGVvZiBtYXliZVByb21pc2VGb3JDYWNoZS50aGVuICE9PSAiZnVuY3Rpb24iID8gY2xpZW50Ll9wcm9taXNlLnJlc29sdmUoewogICAgICAgICAgcmVzcG9uc2VUZXh0OiBtYXliZVByb21pc2VGb3JDYWNoZQogICAgICAgIH0pIDogbWF5YmVQcm9taXNlRm9yQ2FjaGU7CiAgICAgICAgcmV0dXJuIGludGVyb3BDYWxsYmFja1JldHVybihwcm9taXNlRm9yQ2FjaGUsIGZ1bmN0aW9uIChjb250ZW50KSB7CiAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShjb250ZW50LnJlc3BvbnNlVGV4dCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgdmFyIHJlcXVlc3QgPSBkb1JlcXVlc3QoY2xpZW50Ll9yZXF1ZXN0LCB7CiAgICAgICAgdXJsOiBpbml0aWFsT3B0cy51cmwsCiAgICAgICAgbWV0aG9kOiBpbml0aWFsT3B0cy5tZXRob2QsCiAgICAgICAgYm9keTogYm9keSwKICAgICAgICBqc29uQm9keTogaW5pdGlhbE9wdHMuYm9keSwKICAgICAgICB0aW1lb3V0czogY2xpZW50Ll9nZXRUaW1lb3V0c0ZvclJlcXVlc3QoaW5pdGlhbE9wdHMuaG9zdFR5cGUpLAogICAgICAgIGZvcmNlQXV0aEhlYWRlcnM6IGluaXRpYWxPcHRzLmZvcmNlQXV0aEhlYWRlcnMKICAgICAgfSk7CiAgICAgIGlmIChjbGllbnQuX3VzZUNhY2hlICYmIGNsaWVudC5fdXNlUmVxdWVzdENhY2hlICYmIGNhY2hlKSB7CiAgICAgICAgY2FjaGVbY2FjaGVJRF0gPSByZXF1ZXN0OwogICAgICB9CiAgICAgIHJldHVybiBpbnRlcm9wQ2FsbGJhY2tSZXR1cm4ocmVxdWVzdCwgZnVuY3Rpb24gKGNvbnRlbnQpIHsKICAgICAgICByZXR1cm4gY29udGVudC5ib2R5OwogICAgICB9KTsKICAgIH07CiAgICBBbGdvbGlhU2VhcmNoQ29yZS5wcm90b3R5cGUuX2dldFNlYXJjaFBhcmFtcyA9IGZ1bmN0aW9uIChhcmdzLCBwYXJhbXMpIHsKICAgICAgaWYgKGFyZ3MgPT09IHVuZGVmaW5lZCB8fCBhcmdzID09PSBudWxsKSB7CiAgICAgICAgcmV0dXJuIHBhcmFtczsKICAgICAgfQogICAgICBmb3IgKHZhciBrZXkgaW4gYXJncykgewogICAgICAgIGlmIChrZXkgIT09IG51bGwgJiYgYXJnc1trZXldICE9PSB1bmRlZmluZWQgJiYgYXJncy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CiAgICAgICAgICBwYXJhbXMgKz0gcGFyYW1zID09PSAiIiA/ICIiIDogIiYiOwogICAgICAgICAgcGFyYW1zICs9IGtleSArICI9IiArIGVuY29kZVVSSUNvbXBvbmVudChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnc1trZXldKSA9PT0gIltvYmplY3QgQXJyYXldIiA/IHNhZmVKU09OU3RyaW5naWZ5KGFyZ3Nba2V5XSkgOiBhcmdzW2tleV0pOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gcGFyYW1zOwogICAgfTsKICAgIEFsZ29saWFTZWFyY2hDb3JlLnByb3RvdHlwZS5fY29tcHV0ZVJlcXVlc3RIZWFkZXJzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKICAgICAgdmFyIGZvckVhY2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpOwogICAgICB2YXIgdWEgPSBvcHRpb25zLmFkZGl0aW9uYWxVQSA/IHRoaXMuX3VhICsgIjsiICsgb3B0aW9ucy5hZGRpdGlvbmFsVUEgOiB0aGlzLl91YTsKICAgICAgdmFyIHJlcXVlc3RIZWFkZXJzID0gewogICAgICAgICJ4LWFsZ29saWEtYWdlbnQiOiB1YSwKICAgICAgICAieC1hbGdvbGlhLWFwcGxpY2F0aW9uLWlkIjogdGhpcy5hcHBsaWNhdGlvbklECiAgICAgIH07CiAgICAgIGlmIChvcHRpb25zLndpdGhBcGlLZXkgIT09IGZhbHNlKSB7CiAgICAgICAgcmVxdWVzdEhlYWRlcnNbIngtYWxnb2xpYS1hcGkta2V5Il0gPSB0aGlzLmFwaUtleTsKICAgICAgfQogICAgICBpZiAodGhpcy51c2VyVG9rZW4pIHsKICAgICAgICByZXF1ZXN0SGVhZGVyc1sieC1hbGdvbGlhLXVzZXJ0b2tlbiJdID0gdGhpcy51c2VyVG9rZW47CiAgICAgIH0KICAgICAgaWYgKHRoaXMuc2VjdXJpdHlUYWdzKSB7CiAgICAgICAgcmVxdWVzdEhlYWRlcnNbIngtYWxnb2xpYS10YWdmaWx0ZXJzIl0gPSB0aGlzLnNlY3VyaXR5VGFnczsKICAgICAgfQogICAgICBmb3JFYWNoKHRoaXMuZXh0cmFIZWFkZXJzLCBmdW5jdGlvbiBhZGRUb1JlcXVlc3RIZWFkZXJzKHZhbHVlLCBrZXkpIHsKICAgICAgICByZXF1ZXN0SGVhZGVyc1trZXldID0gdmFsdWU7CiAgICAgIH0pOwogICAgICBpZiAob3B0aW9ucy5oZWFkZXJzKSB7CiAgICAgICAgZm9yRWFjaChvcHRpb25zLmhlYWRlcnMsIGZ1bmN0aW9uIGFkZFRvUmVxdWVzdEhlYWRlcnModmFsdWUsIGtleSkgewogICAgICAgICAgcmVxdWVzdEhlYWRlcnNba2V5XSA9IHZhbHVlOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIHJldHVybiByZXF1ZXN0SGVhZGVyczsKICAgIH07CiAgICBBbGdvbGlhU2VhcmNoQ29yZS5wcm90b3R5cGUuc2VhcmNoID0gZnVuY3Rpb24gKHF1ZXJpZXMsIG9wdHMsIGNhbGxiYWNrKSB7CiAgICAgIHZhciBpc0FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTsKICAgICAgdmFyIG1hcCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7CiAgICAgIHZhciB1c2FnZSA9ICJVc2FnZTogY2xpZW50LnNlYXJjaChhcnJheU9mUXVlcmllc1ssIGNhbGxiYWNrXSkiOwogICAgICBpZiAoIWlzQXJyYXkocXVlcmllcykpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IodXNhZ2UpOwogICAgICB9CiAgICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gImZ1bmN0aW9uIikgewogICAgICAgIGNhbGxiYWNrID0gb3B0czsKICAgICAgICBvcHRzID0ge307CiAgICAgIH0gZWxzZSBpZiAob3B0cyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgb3B0cyA9IHt9OwogICAgICB9CiAgICAgIHZhciBjbGllbnQgPSB0aGlzOwogICAgICB2YXIgcG9zdE9iaiA9IHsKICAgICAgICByZXF1ZXN0czogbWFwKHF1ZXJpZXMsIGZ1bmN0aW9uIHByZXBhcmVSZXF1ZXN0KHF1ZXJ5KSB7CiAgICAgICAgICB2YXIgcGFyYW1zID0gIiI7CiAgICAgICAgICBpZiAocXVlcnkucXVlcnkgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBwYXJhbXMgKz0gInF1ZXJ5PSIgKyBlbmNvZGVVUklDb21wb25lbnQocXVlcnkucXVlcnkpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaW5kZXhOYW1lOiBxdWVyeS5pbmRleE5hbWUsCiAgICAgICAgICAgIHBhcmFtczogY2xpZW50Ll9nZXRTZWFyY2hQYXJhbXMocXVlcnkucGFyYW1zLCBwYXJhbXMpCiAgICAgICAgICB9OwogICAgICAgIH0pCiAgICAgIH07CiAgICAgIHZhciBKU09OUFBhcmFtcyA9IG1hcChwb3N0T2JqLnJlcXVlc3RzLCBmdW5jdGlvbiBwcmVwYXJlSlNPTlBQYXJhbXMocmVxdWVzdCwgcmVxdWVzdElkKSB7CiAgICAgICAgcmV0dXJuIHJlcXVlc3RJZCArICI9IiArIGVuY29kZVVSSUNvbXBvbmVudCgiLzEvaW5kZXhlcy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KHJlcXVlc3QuaW5kZXhOYW1lKSArICI/IiArIHJlcXVlc3QucGFyYW1zKTsKICAgICAgfSkuam9pbigiJiIpOwogICAgICB2YXIgdXJsID0gIi8xL2luZGV4ZXMvKi9xdWVyaWVzIjsKICAgICAgaWYgKG9wdHMuc3RyYXRlZ3kgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHBvc3RPYmouc3RyYXRlZ3kgPSBvcHRzLnN0cmF0ZWd5OwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLl9qc29uUmVxdWVzdCh7CiAgICAgICAgY2FjaGU6IHRoaXMuY2FjaGUsCiAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgYm9keTogcG9zdE9iaiwKICAgICAgICBob3N0VHlwZTogInJlYWQiLAogICAgICAgIGZhbGxiYWNrOiB7CiAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgdXJsOiAiLzEvaW5kZXhlcy8qIiwKICAgICAgICAgIGJvZHk6IHsKICAgICAgICAgICAgcGFyYW1zOiBKU09OUFBhcmFtcwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrCiAgICAgIH0pOwogICAgfTsKICAgIEFsZ29saWFTZWFyY2hDb3JlLnByb3RvdHlwZS5zZWFyY2hGb3JGYWNldFZhbHVlcyA9IGZ1bmN0aW9uIChxdWVyaWVzKSB7CiAgICAgIHZhciBpc0FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTsKICAgICAgdmFyIG1hcCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7CiAgICAgIHZhciB1c2FnZSA9ICJVc2FnZTogY2xpZW50LnNlYXJjaEZvckZhY2V0VmFsdWVzKFt7aW5kZXhOYW1lLCBwYXJhbXM6IHtmYWNldE5hbWUsIGZhY2V0UXVlcnksIC4uLnBhcmFtc319LCAuLi5xdWVyaWVzXSkiOwogICAgICBpZiAoIWlzQXJyYXkocXVlcmllcykpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IodXNhZ2UpOwogICAgICB9CiAgICAgIHZhciBjbGllbnQgPSB0aGlzOwogICAgICByZXR1cm4gY2xpZW50Ll9wcm9taXNlLmFsbChtYXAocXVlcmllcywgZnVuY3Rpb24gcGVyZm9ybVF1ZXJ5KHF1ZXJ5KSB7CiAgICAgICAgaWYgKCFxdWVyeSB8fCBxdWVyeS5pbmRleE5hbWUgPT09IHVuZGVmaW5lZCB8fCBxdWVyeS5wYXJhbXMuZmFjZXROYW1lID09PSB1bmRlZmluZWQgfHwgcXVlcnkucGFyYW1zLmZhY2V0UXVlcnkgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHVzYWdlKTsKICAgICAgICB9CiAgICAgICAgdmFyIGNsb25lID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTsKICAgICAgICB2YXIgb21pdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpOwogICAgICAgIHZhciBpbmRleE5hbWUgPSBxdWVyeS5pbmRleE5hbWU7CiAgICAgICAgdmFyIHBhcmFtcyA9IHF1ZXJ5LnBhcmFtczsKICAgICAgICB2YXIgZmFjZXROYW1lID0gcGFyYW1zLmZhY2V0TmFtZTsKICAgICAgICB2YXIgZmlsdGVyZWRQYXJhbXMgPSBvbWl0KGNsb25lKHBhcmFtcyksIGZ1bmN0aW9uIChrZXlOYW1lKSB7CiAgICAgICAgICByZXR1cm4ga2V5TmFtZSA9PT0gImZhY2V0TmFtZSI7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIHNlYXJjaFBhcmFtZXRlcnMgPSBjbGllbnQuX2dldFNlYXJjaFBhcmFtcyhmaWx0ZXJlZFBhcmFtcywgIiIpOwogICAgICAgIHJldHVybiBjbGllbnQuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIGNhY2hlOiBjbGllbnQuY2FjaGUsCiAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgIHVybDogIi8xL2luZGV4ZXMvIiArIGVuY29kZVVSSUNvbXBvbmVudChpbmRleE5hbWUpICsgIi9mYWNldHMvIiArIGVuY29kZVVSSUNvbXBvbmVudChmYWNldE5hbWUpICsgIi9xdWVyeSIsCiAgICAgICAgICBob3N0VHlwZTogInJlYWQiLAogICAgICAgICAgYm9keTogewogICAgICAgICAgICBwYXJhbXM6IHNlYXJjaFBhcmFtZXRlcnMKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSkpOwogICAgfTsKICAgIEFsZ29saWFTZWFyY2hDb3JlLnByb3RvdHlwZS5zZXRTZWN1cml0eVRhZ3MgPSBmdW5jdGlvbiAodGFncykgewogICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRhZ3MpID09PSAiW29iamVjdCBBcnJheV0iKSB7CiAgICAgICAgdmFyIHN0clRhZ3MgPSBbXTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhZ3MubGVuZ3RoOyArK2kpIHsKICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGFnc1tpXSkgPT09ICJbb2JqZWN0IEFycmF5XSIpIHsKICAgICAgICAgICAgdmFyIG9yZWRUYWdzID0gW107CiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGFnc1tpXS5sZW5ndGg7ICsraikgewogICAgICAgICAgICAgIG9yZWRUYWdzLnB1c2godGFnc1tpXVtqXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc3RyVGFncy5wdXNoKCIoIiArIG9yZWRUYWdzLmpvaW4oIiwiKSArICIpIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzdHJUYWdzLnB1c2godGFnc1tpXSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRhZ3MgPSBzdHJUYWdzLmpvaW4oIiwiKTsKICAgICAgfQogICAgICB0aGlzLnNlY3VyaXR5VGFncyA9IHRhZ3M7CiAgICB9OwogICAgQWxnb2xpYVNlYXJjaENvcmUucHJvdG90eXBlLnNldFVzZXJUb2tlbiA9IGZ1bmN0aW9uICh1c2VyVG9rZW4pIHsKICAgICAgdGhpcy51c2VyVG9rZW4gPSB1c2VyVG9rZW47CiAgICB9OwogICAgQWxnb2xpYVNlYXJjaENvcmUucHJvdG90eXBlLmNsZWFyQ2FjaGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuY2FjaGUgPSB7fTsKICAgIH07CiAgICBBbGdvbGlhU2VhcmNoQ29yZS5wcm90b3R5cGUuc2V0UmVxdWVzdFRpbWVvdXQgPSBmdW5jdGlvbiAobWlsbGlzZWNvbmRzKSB7CiAgICAgIGlmIChtaWxsaXNlY29uZHMpIHsKICAgICAgICB0aGlzLl90aW1lb3V0cy5jb25uZWN0ID0gdGhpcy5fdGltZW91dHMucmVhZCA9IHRoaXMuX3RpbWVvdXRzLndyaXRlID0gbWlsbGlzZWNvbmRzOwogICAgICB9CiAgICB9OwogICAgQWxnb2xpYVNlYXJjaENvcmUucHJvdG90eXBlLnNldFRpbWVvdXRzID0gZnVuY3Rpb24gKHRpbWVvdXRzKSB7CiAgICAgIHRoaXMuX3RpbWVvdXRzID0gdGltZW91dHM7CiAgICB9OwogICAgQWxnb2xpYVNlYXJjaENvcmUucHJvdG90eXBlLmdldFRpbWVvdXRzID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGhpcy5fdGltZW91dHM7CiAgICB9OwogICAgQWxnb2xpYVNlYXJjaENvcmUucHJvdG90eXBlLl9nZXRBcHBJZERhdGEgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBkYXRhID0gc3RvcmUuZ2V0KHRoaXMuYXBwbGljYXRpb25JRCk7CiAgICAgIGlmIChkYXRhICE9PSBudWxsKSB0aGlzLl9jYWNoZUFwcElkRGF0YShkYXRhKTsKICAgICAgcmV0dXJuIGRhdGE7CiAgICB9OwogICAgQWxnb2xpYVNlYXJjaENvcmUucHJvdG90eXBlLl9zZXRBcHBJZERhdGEgPSBmdW5jdGlvbiAoZGF0YSkgewogICAgICBkYXRhLmxhc3RDaGFuZ2UgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgdGhpcy5fY2FjaGVBcHBJZERhdGEoZGF0YSk7CiAgICAgIHJldHVybiBzdG9yZS5zZXQodGhpcy5hcHBsaWNhdGlvbklELCBkYXRhKTsKICAgIH07CiAgICBBbGdvbGlhU2VhcmNoQ29yZS5wcm90b3R5cGUuX2NoZWNrQXBwSWREYXRhID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgZGF0YSA9IHRoaXMuX2dldEFwcElkRGF0YSgpOwogICAgICB2YXIgbm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgIGlmIChkYXRhID09PSBudWxsIHx8IG5vdyAtIGRhdGEubGFzdENoYW5nZSA+IFJFU0VUX0FQUF9EQVRBX1RJTUVSKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc2V0SW5pdGlhbEFwcElkRGF0YShkYXRhKTsKICAgICAgfQogICAgICByZXR1cm4gZGF0YTsKICAgIH07CiAgICBBbGdvbGlhU2VhcmNoQ29yZS5wcm90b3R5cGUuX3Jlc2V0SW5pdGlhbEFwcElkRGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHZhciBuZXdEYXRhID0gZGF0YSB8fCB7fTsKICAgICAgbmV3RGF0YS5ob3N0SW5kZXhlcyA9IHsKICAgICAgICByZWFkOiAwLAogICAgICAgIHdyaXRlOiAwCiAgICAgIH07CiAgICAgIG5ld0RhdGEudGltZW91dE11bHRpcGxpZXIgPSAxOwogICAgICBuZXdEYXRhLnNodWZmbGVSZXN1bHQgPSBuZXdEYXRhLnNodWZmbGVSZXN1bHQgfHwgc2h1ZmZsZShbMSwgMiwgM10pOwogICAgICByZXR1cm4gdGhpcy5fc2V0QXBwSWREYXRhKG5ld0RhdGEpOwogICAgfTsKICAgIEFsZ29saWFTZWFyY2hDb3JlLnByb3RvdHlwZS5fY2FjaGVBcHBJZERhdGEgPSBmdW5jdGlvbiAoZGF0YSkgewogICAgICB0aGlzLl9ob3N0SW5kZXhlcyA9IGRhdGEuaG9zdEluZGV4ZXM7CiAgICAgIHRoaXMuX3RpbWVvdXRNdWx0aXBsaWVyID0gZGF0YS50aW1lb3V0TXVsdGlwbGllcjsKICAgICAgdGhpcy5fc2h1ZmZsZVJlc3VsdCA9IGRhdGEuc2h1ZmZsZVJlc3VsdDsKICAgIH07CiAgICBBbGdvbGlhU2VhcmNoQ29yZS5wcm90b3R5cGUuX3BhcnRpYWxBcHBJZERhdGFVcGRhdGUgPSBmdW5jdGlvbiAobmV3RGF0YSkgewogICAgICB2YXIgZm9yZWFjaCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7CiAgICAgIHZhciBjdXJyZW50RGF0YSA9IHRoaXMuX2dldEFwcElkRGF0YSgpOwogICAgICBmb3JlYWNoKG5ld0RhdGEsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7CiAgICAgICAgY3VycmVudERhdGFba2V5XSA9IHZhbHVlOwogICAgICB9KTsKICAgICAgcmV0dXJuIHRoaXMuX3NldEFwcElkRGF0YShjdXJyZW50RGF0YSk7CiAgICB9OwogICAgQWxnb2xpYVNlYXJjaENvcmUucHJvdG90eXBlLl9nZXRIb3N0QnlUeXBlID0gZnVuY3Rpb24gKGhvc3RUeXBlKSB7CiAgICAgIHJldHVybiB0aGlzLmhvc3RzW2hvc3RUeXBlXVt0aGlzLl9nZXRIb3N0SW5kZXhCeVR5cGUoaG9zdFR5cGUpXTsKICAgIH07CiAgICBBbGdvbGlhU2VhcmNoQ29yZS5wcm90b3R5cGUuX2dldFRpbWVvdXRNdWx0aXBsaWVyID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGhpcy5fdGltZW91dE11bHRpcGxpZXI7CiAgICB9OwogICAgQWxnb2xpYVNlYXJjaENvcmUucHJvdG90eXBlLl9nZXRIb3N0SW5kZXhCeVR5cGUgPSBmdW5jdGlvbiAoaG9zdFR5cGUpIHsKICAgICAgcmV0dXJuIHRoaXMuX2hvc3RJbmRleGVzW2hvc3RUeXBlXTsKICAgIH07CiAgICBBbGdvbGlhU2VhcmNoQ29yZS5wcm90b3R5cGUuX3NldEhvc3RJbmRleEJ5VHlwZSA9IGZ1bmN0aW9uIChob3N0SW5kZXgsIGhvc3RUeXBlKSB7CiAgICAgIHZhciBjbG9uZSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7CiAgICAgIHZhciBuZXdIb3N0SW5kZXhlcyA9IGNsb25lKHRoaXMuX2hvc3RJbmRleGVzKTsKICAgICAgbmV3SG9zdEluZGV4ZXNbaG9zdFR5cGVdID0gaG9zdEluZGV4OwogICAgICB0aGlzLl9wYXJ0aWFsQXBwSWREYXRhVXBkYXRlKHsKICAgICAgICBob3N0SW5kZXhlczogbmV3SG9zdEluZGV4ZXMKICAgICAgfSk7CiAgICAgIHJldHVybiBob3N0SW5kZXg7CiAgICB9OwogICAgQWxnb2xpYVNlYXJjaENvcmUucHJvdG90eXBlLl9pbmNyZW1lbnRIb3N0SW5kZXggPSBmdW5jdGlvbiAoaG9zdFR5cGUpIHsKICAgICAgcmV0dXJuIHRoaXMuX3NldEhvc3RJbmRleEJ5VHlwZSgodGhpcy5fZ2V0SG9zdEluZGV4QnlUeXBlKGhvc3RUeXBlKSArIDEpICUgdGhpcy5ob3N0c1tob3N0VHlwZV0ubGVuZ3RoLCBob3N0VHlwZSk7CiAgICB9OwogICAgQWxnb2xpYVNlYXJjaENvcmUucHJvdG90eXBlLl9pbmNyZW1lbnRUaW1lb3V0TXVsdGlwbGVyID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdGltZW91dE11bHRpcGxpZXIgPSBNYXRoLm1heCh0aGlzLl90aW1lb3V0TXVsdGlwbGllciArIDEsIDQpOwogICAgICByZXR1cm4gdGhpcy5fcGFydGlhbEFwcElkRGF0YVVwZGF0ZSh7CiAgICAgICAgdGltZW91dE11bHRpcGxpZXI6IHRpbWVvdXRNdWx0aXBsaWVyCiAgICAgIH0pOwogICAgfTsKICAgIEFsZ29saWFTZWFyY2hDb3JlLnByb3RvdHlwZS5fZ2V0VGltZW91dHNGb3JSZXF1ZXN0ID0gZnVuY3Rpb24gKGhvc3RUeXBlKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgY29ubmVjdDogdGhpcy5fdGltZW91dHMuY29ubmVjdCAqIHRoaXMuX3RpbWVvdXRNdWx0aXBsaWVyLAogICAgICAgIGNvbXBsZXRlOiB0aGlzLl90aW1lb3V0c1tob3N0VHlwZV0gKiB0aGlzLl90aW1lb3V0TXVsdGlwbGllcgogICAgICB9OwogICAgfTsKICAgIGZ1bmN0aW9uIHByZXBhcmVIb3N0KHByb3RvY29sKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiBwcmVwYXJlKGhvc3QpIHsKICAgICAgICByZXR1cm4gcHJvdG9jb2wgKyAiLy8iICsgaG9zdC50b0xvd2VyQ2FzZSgpOwogICAgICB9OwogICAgfQogICAgZnVuY3Rpb24gc2FmZUpTT05TdHJpbmdpZnkob2JqKSB7CiAgICAgIGlmIChBcnJheS5wcm90b3R5cGUudG9KU09OID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqKTsKICAgICAgfQogICAgICB2YXIgdG9KU09OID0gQXJyYXkucHJvdG90eXBlLnRvSlNPTjsKICAgICAgZGVsZXRlIEFycmF5LnByb3RvdHlwZS50b0pTT047CiAgICAgIHZhciBvdXQgPSBKU09OLnN0cmluZ2lmeShvYmopOwogICAgICBBcnJheS5wcm90b3R5cGUudG9KU09OID0gdG9KU09OOwogICAgICByZXR1cm4gb3V0OwogICAgfQogICAgZnVuY3Rpb24gc2h1ZmZsZShhcnJheSkgewogICAgICB2YXIgY3VycmVudEluZGV4ID0gYXJyYXkubGVuZ3RoOwogICAgICB2YXIgdGVtcG9yYXJ5VmFsdWU7CiAgICAgIHZhciByYW5kb21JbmRleDsKICAgICAgd2hpbGUgKGN1cnJlbnRJbmRleCAhPT0gMCkgewogICAgICAgIHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY3VycmVudEluZGV4KTsKICAgICAgICBjdXJyZW50SW5kZXggLT0gMTsKICAgICAgICB0ZW1wb3JhcnlWYWx1ZSA9IGFycmF5W2N1cnJlbnRJbmRleF07CiAgICAgICAgYXJyYXlbY3VycmVudEluZGV4XSA9IGFycmF5W3JhbmRvbUluZGV4XTsKICAgICAgICBhcnJheVtyYW5kb21JbmRleF0gPSB0ZW1wb3JhcnlWYWx1ZTsKICAgICAgfQogICAgICByZXR1cm4gYXJyYXk7CiAgICB9CiAgICBmdW5jdGlvbiByZW1vdmVDcmVkZW50aWFscyhoZWFkZXJzKSB7CiAgICAgIHZhciBuZXdIZWFkZXJzID0ge307CiAgICAgIGZvciAodmFyIGhlYWRlck5hbWUgaW4gaGVhZGVycykgewogICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaGVhZGVycywgaGVhZGVyTmFtZSkpIHsKICAgICAgICAgIHZhciB2YWx1ZTsKICAgICAgICAgIGlmIChoZWFkZXJOYW1lID09PSAieC1hbGdvbGlhLWFwaS1rZXkiIHx8IGhlYWRlck5hbWUgPT09ICJ4LWFsZ29saWEtYXBwbGljYXRpb24taWQiKSB7CiAgICAgICAgICAgIHZhbHVlID0gIioqaGlkZGVuIGZvciBzZWN1cml0eSBwdXJwb3NlcyoqIjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhbHVlID0gaGVhZGVyc1toZWFkZXJOYW1lXTsKICAgICAgICAgIH0KICAgICAgICAgIG5ld0hlYWRlcnNbaGVhZGVyTmFtZV0gPSB2YWx1ZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIG5ld0hlYWRlcnM7CiAgICB9CiAgfSwgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBleGl0UHJvbWlzZShmbiwgX3NldFRpbWVvdXQpIHsKICAgICAgX3NldFRpbWVvdXQoZm4sIDApOwogICAgfTsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICB2YXIgYnVpbGRTZWFyY2hNZXRob2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTsKICAgIHZhciBkZXByZWNhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTsKICAgIHZhciBkZXByZWNhdGVkTWVzc2FnZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpOwogICAgbW9kdWxlLmV4cG9ydHMgPSBJbmRleENvcmU7CiAgICBmdW5jdGlvbiBJbmRleENvcmUoYWxnb2xpYXNlYXJjaCwgaW5kZXhOYW1lKSB7CiAgICAgIHRoaXMuaW5kZXhOYW1lID0gaW5kZXhOYW1lOwogICAgICB0aGlzLmFzID0gYWxnb2xpYXNlYXJjaDsKICAgICAgdGhpcy50eXBlQWhlYWRBcmdzID0gbnVsbDsKICAgICAgdGhpcy50eXBlQWhlYWRWYWx1ZU9wdGlvbiA9IG51bGw7CiAgICAgIHRoaXMuY2FjaGUgPSB7fTsKICAgIH0KICAgIEluZGV4Q29yZS5wcm90b3R5cGUuY2xlYXJDYWNoZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5jYWNoZSA9IHt9OwogICAgfTsKICAgIEluZGV4Q29yZS5wcm90b3R5cGUuc2VhcmNoID0gYnVpbGRTZWFyY2hNZXRob2QoInF1ZXJ5Iik7CiAgICBJbmRleENvcmUucHJvdG90eXBlLnNpbWlsYXJTZWFyY2ggPSBidWlsZFNlYXJjaE1ldGhvZCgic2ltaWxhclF1ZXJ5Iik7CiAgICBJbmRleENvcmUucHJvdG90eXBlLmJyb3dzZSA9IGZ1bmN0aW9uIChxdWVyeSwgcXVlcnlQYXJhbWV0ZXJzLCBjYWxsYmFjaykgewogICAgICB2YXIgbWVyZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTsKICAgICAgdmFyIGluZGV4T2JqID0gdGhpczsKICAgICAgdmFyIHBhZ2U7CiAgICAgIHZhciBoaXRzUGVyUGFnZTsKICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDAgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiB0eXBlb2YgYXJndW1lbnRzWzBdID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgcGFnZSA9IDA7CiAgICAgICAgY2FsbGJhY2sgPSBhcmd1bWVudHNbMF07CiAgICAgICAgcXVlcnkgPSB1bmRlZmluZWQ7CiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gIm51bWJlciIpIHsKICAgICAgICBwYWdlID0gYXJndW1lbnRzWzBdOwogICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzFdID09PSAibnVtYmVyIikgewogICAgICAgICAgaGl0c1BlclBhZ2UgPSBhcmd1bWVudHNbMV07CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJndW1lbnRzWzFdID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICBjYWxsYmFjayA9IGFyZ3VtZW50c1sxXTsKICAgICAgICAgIGhpdHNQZXJQYWdlID0gdW5kZWZpbmVkOwogICAgICAgIH0KICAgICAgICBxdWVyeSA9IHVuZGVmaW5lZDsKICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSB1bmRlZmluZWQ7CiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gIm9iamVjdCIpIHsKICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1sxXSA9PT0gImZ1bmN0aW9uIikgewogICAgICAgICAgY2FsbGJhY2sgPSBhcmd1bWVudHNbMV07CiAgICAgICAgfQogICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IGFyZ3VtZW50c1swXTsKICAgICAgICBxdWVyeSA9IHVuZGVmaW5lZDsKICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSAic3RyaW5nIiAmJiB0eXBlb2YgYXJndW1lbnRzWzFdID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgY2FsbGJhY2sgPSBhcmd1bWVudHNbMV07CiAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gdW5kZWZpbmVkOwogICAgICB9CiAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IG1lcmdlKHt9LCBxdWVyeVBhcmFtZXRlcnMgfHwge30sIHsKICAgICAgICBwYWdlOiBwYWdlLAogICAgICAgIGhpdHNQZXJQYWdlOiBoaXRzUGVyUGFnZSwKICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgfSk7CiAgICAgIHZhciBwYXJhbXMgPSB0aGlzLmFzLl9nZXRTZWFyY2hQYXJhbXMocXVlcnlQYXJhbWV0ZXJzLCAiIik7CiAgICAgIHJldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7CiAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgdXJsOiAiLzEvaW5kZXhlcy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KGluZGV4T2JqLmluZGV4TmFtZSkgKyAiL2Jyb3dzZSIsCiAgICAgICAgYm9keTogewogICAgICAgICAgcGFyYW1zOiBwYXJhbXMKICAgICAgICB9LAogICAgICAgIGhvc3RUeXBlOiAicmVhZCIsCiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrCiAgICAgIH0pOwogICAgfTsKICAgIEluZGV4Q29yZS5wcm90b3R5cGUuYnJvd3NlRnJvbSA9IGZ1bmN0aW9uIChjdXJzb3IsIGNhbGxiYWNrKSB7CiAgICAgIHJldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7CiAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgdXJsOiAiLzEvaW5kZXhlcy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuaW5kZXhOYW1lKSArICIvYnJvd3NlIiwKICAgICAgICBib2R5OiB7CiAgICAgICAgICBjdXJzb3I6IGN1cnNvcgogICAgICAgIH0sCiAgICAgICAgaG9zdFR5cGU6ICJyZWFkIiwKICAgICAgICBjYWxsYmFjazogY2FsbGJhY2sKICAgICAgfSk7CiAgICB9OwogICAgSW5kZXhDb3JlLnByb3RvdHlwZS5zZWFyY2hGb3JGYWNldFZhbHVlcyA9IGZ1bmN0aW9uIChwYXJhbXMsIGNhbGxiYWNrKSB7CiAgICAgIHZhciBjbG9uZSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7CiAgICAgIHZhciBvbWl0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7CiAgICAgIHZhciB1c2FnZSA9ICJVc2FnZTogaW5kZXguc2VhcmNoRm9yRmFjZXRWYWx1ZXMoe2ZhY2V0TmFtZSwgZmFjZXRRdWVyeSwgLi4ucGFyYW1zfVssIGNhbGxiYWNrXSkiOwogICAgICBpZiAocGFyYW1zLmZhY2V0TmFtZSA9PT0gdW5kZWZpbmVkIHx8IHBhcmFtcy5mYWNldFF1ZXJ5ID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IodXNhZ2UpOwogICAgICB9CiAgICAgIHZhciBmYWNldE5hbWUgPSBwYXJhbXMuZmFjZXROYW1lOwogICAgICB2YXIgZmlsdGVyZWRQYXJhbXMgPSBvbWl0KGNsb25lKHBhcmFtcyksIGZ1bmN0aW9uIChrZXlOYW1lKSB7CiAgICAgICAgcmV0dXJuIGtleU5hbWUgPT09ICJmYWNldE5hbWUiOwogICAgICB9KTsKICAgICAgdmFyIHNlYXJjaFBhcmFtZXRlcnMgPSB0aGlzLmFzLl9nZXRTZWFyY2hQYXJhbXMoZmlsdGVyZWRQYXJhbXMsICIiKTsKICAgICAgcmV0dXJuIHRoaXMuYXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICB1cmw6ICIvMS9pbmRleGVzLyIgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5pbmRleE5hbWUpICsgIi9mYWNldHMvIiArIGVuY29kZVVSSUNvbXBvbmVudChmYWNldE5hbWUpICsgIi9xdWVyeSIsCiAgICAgICAgaG9zdFR5cGU6ICJyZWFkIiwKICAgICAgICBib2R5OiB7CiAgICAgICAgICBwYXJhbXM6IHNlYXJjaFBhcmFtZXRlcnMKICAgICAgICB9LAogICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjawogICAgICB9KTsKICAgIH07CiAgICBJbmRleENvcmUucHJvdG90eXBlLnNlYXJjaEZhY2V0ID0gZGVwcmVjYXRlKGZ1bmN0aW9uIChwYXJhbXMsIGNhbGxiYWNrKSB7CiAgICAgIHJldHVybiB0aGlzLnNlYXJjaEZvckZhY2V0VmFsdWVzKHBhcmFtcywgY2FsbGJhY2spOwogICAgfSwgZGVwcmVjYXRlZE1lc3NhZ2UoImluZGV4LnNlYXJjaEZhY2V0KHBhcmFtc1ssIGNhbGxiYWNrXSkiLCAiaW5kZXguc2VhcmNoRm9yRmFjZXRWYWx1ZXMocGFyYW1zWywgY2FsbGJhY2tdKSIpKTsKICAgIEluZGV4Q29yZS5wcm90b3R5cGUuX3NlYXJjaCA9IGZ1bmN0aW9uIChwYXJhbXMsIHVybCwgY2FsbGJhY2ssIGFkZGl0aW9uYWxVQSkgewogICAgICByZXR1cm4gdGhpcy5hcy5fanNvblJlcXVlc3QoewogICAgICAgIGNhY2hlOiB0aGlzLmNhY2hlLAogICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgIHVybDogdXJsIHx8ICIvMS9pbmRleGVzLyIgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5pbmRleE5hbWUpICsgIi9xdWVyeSIsCiAgICAgICAgYm9keTogewogICAgICAgICAgcGFyYW1zOiBwYXJhbXMKICAgICAgICB9LAogICAgICAgIGhvc3RUeXBlOiAicmVhZCIsCiAgICAgICAgZmFsbGJhY2s6IHsKICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICB1cmw6ICIvMS9pbmRleGVzLyIgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5pbmRleE5hbWUpLAogICAgICAgICAgYm9keTogewogICAgICAgICAgICBwYXJhbXM6IHBhcmFtcwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLAogICAgICAgIGFkZGl0aW9uYWxVQTogYWRkaXRpb25hbFVBCiAgICAgIH0pOwogICAgfTsKICAgIEluZGV4Q29yZS5wcm90b3R5cGUuZ2V0T2JqZWN0ID0gZnVuY3Rpb24gKG9iamVjdElELCBhdHRycywgY2FsbGJhY2spIHsKICAgICAgdmFyIGluZGV4T2JqID0gdGhpczsKICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgfHwgdHlwZW9mIGF0dHJzID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgY2FsbGJhY2sgPSBhdHRyczsKICAgICAgICBhdHRycyA9IHVuZGVmaW5lZDsKICAgICAgfQogICAgICB2YXIgcGFyYW1zID0gIiI7CiAgICAgIGlmIChhdHRycyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcGFyYW1zID0gIj9hdHRyaWJ1dGVzPSI7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRycy5sZW5ndGg7ICsraSkgewogICAgICAgICAgaWYgKGkgIT09IDApIHsKICAgICAgICAgICAgcGFyYW1zICs9ICIsIjsKICAgICAgICAgIH0KICAgICAgICAgIHBhcmFtcyArPSBhdHRyc1tpXTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuYXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgIHVybDogIi8xL2luZGV4ZXMvIiArIGVuY29kZVVSSUNvbXBvbmVudChpbmRleE9iai5pbmRleE5hbWUpICsgIi8iICsgZW5jb2RlVVJJQ29tcG9uZW50KG9iamVjdElEKSArIHBhcmFtcywKICAgICAgICBob3N0VHlwZTogInJlYWQiLAogICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjawogICAgICB9KTsKICAgIH07CiAgICBJbmRleENvcmUucHJvdG90eXBlLmdldE9iamVjdHMgPSBmdW5jdGlvbiAob2JqZWN0SURzLCBhdHRyaWJ1dGVzVG9SZXRyaWV2ZSwgY2FsbGJhY2spIHsKICAgICAgdmFyIGlzQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpOwogICAgICB2YXIgbWFwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTsKICAgICAgdmFyIHVzYWdlID0gIlVzYWdlOiBpbmRleC5nZXRPYmplY3RzKGFycmF5T2ZPYmplY3RJRHNbLCBjYWxsYmFja10pIjsKICAgICAgaWYgKCFpc0FycmF5KG9iamVjdElEcykpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IodXNhZ2UpOwogICAgICB9CiAgICAgIHZhciBpbmRleE9iaiA9IHRoaXM7CiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxIHx8IHR5cGVvZiBhdHRyaWJ1dGVzVG9SZXRyaWV2ZSA9PT0gImZ1bmN0aW9uIikgewogICAgICAgIGNhbGxiYWNrID0gYXR0cmlidXRlc1RvUmV0cmlldmU7CiAgICAgICAgYXR0cmlidXRlc1RvUmV0cmlldmUgPSB1bmRlZmluZWQ7CiAgICAgIH0KICAgICAgdmFyIGJvZHkgPSB7CiAgICAgICAgcmVxdWVzdHM6IG1hcChvYmplY3RJRHMsIGZ1bmN0aW9uIHByZXBhcmVSZXF1ZXN0KG9iamVjdElEKSB7CiAgICAgICAgICB2YXIgcmVxdWVzdCA9IHsKICAgICAgICAgICAgaW5kZXhOYW1lOiBpbmRleE9iai5pbmRleE5hbWUsCiAgICAgICAgICAgIG9iamVjdElEOiBvYmplY3RJRAogICAgICAgICAgfTsKICAgICAgICAgIGlmIChhdHRyaWJ1dGVzVG9SZXRyaWV2ZSkgewogICAgICAgICAgICByZXF1ZXN0LmF0dHJpYnV0ZXNUb1JldHJpZXZlID0gYXR0cmlidXRlc1RvUmV0cmlldmUuam9pbigiLCIpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHJlcXVlc3Q7CiAgICAgICAgfSkKICAgICAgfTsKICAgICAgcmV0dXJuIHRoaXMuYXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICB1cmw6ICIvMS9pbmRleGVzLyovb2JqZWN0cyIsCiAgICAgICAgaG9zdFR5cGU6ICJyZWFkIiwKICAgICAgICBib2R5OiBib2R5LAogICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjawogICAgICB9KTsKICAgIH07CiAgICBJbmRleENvcmUucHJvdG90eXBlLmFzID0gbnVsbDsKICAgIEluZGV4Q29yZS5wcm90b3R5cGUuaW5kZXhOYW1lID0gbnVsbDsKICAgIEluZGV4Q29yZS5wcm90b3R5cGUudHlwZUFoZWFkQXJncyA9IG51bGw7CiAgICBJbmRleENvcmUucHJvdG90eXBlLnR5cGVBaGVhZFZhbHVlT3B0aW9uID0gbnVsbDsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlcHJlY2F0ZShmbiwgbWVzc2FnZSkgewogICAgICB2YXIgd2FybmVkID0gZmFsc2U7CiAgICAgIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7CiAgICAgICAgaWYgKCF3YXJuZWQpIHsKICAgICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTsKICAgICAgICAgIHdhcm5lZCA9IHRydWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CiAgICAgIHJldHVybiBkZXByZWNhdGVkOwogICAgfTsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlcHJlY2F0ZWRNZXNzYWdlKHByZXZpb3VzVXNhZ2UsIG5ld1VzYWdlKSB7CiAgICAgIHZhciBnaXRodWJBbmNob3JMaW5rID0gcHJldmlvdXNVc2FnZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1tcLlwoXCldL2csICIiKTsKICAgICAgcmV0dXJuICJhbGdvbGlhc2VhcmNoOiBgIiArIHByZXZpb3VzVXNhZ2UgKyAiYCB3YXMgcmVwbGFjZWQgYnkgYCIgKyBuZXdVc2FnZSArICJgLiBQbGVhc2Ugc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbGdvbGlhL2FsZ29saWFzZWFyY2gtY2xpZW50LWphdmFzY3JpcHQvd2lraS9EZXByZWNhdGVkIyIgKyBnaXRodWJBbmNob3JMaW5rOwogICAgfTsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICB2YXIgZm9yZWFjaCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1lcmdlKGRlc3RpbmF0aW9uKSB7CiAgICAgIHZhciBzb3VyY2VzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTsKICAgICAgZm9yZWFjaChzb3VyY2VzLCBmdW5jdGlvbiAoc291cmNlKSB7CiAgICAgICAgZm9yICh2YXIga2V5TmFtZSBpbiBzb3VyY2UpIHsKICAgICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkoa2V5TmFtZSkpIHsKICAgICAgICAgICAgaWYgKHR5cGVvZiBkZXN0aW5hdGlvbltrZXlOYW1lXSA9PT0gIm9iamVjdCIgJiYgdHlwZW9mIHNvdXJjZVtrZXlOYW1lXSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgICBkZXN0aW5hdGlvbltrZXlOYW1lXSA9IG1lcmdlKHt9LCBkZXN0aW5hdGlvbltrZXlOYW1lXSwgc291cmNlW2tleU5hbWVdKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChzb3VyY2Vba2V5TmFtZV0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIGRlc3RpbmF0aW9uW2tleU5hbWVdID0gc291cmNlW2tleU5hbWVdOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGRlc3RpbmF0aW9uOwogICAgfTsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgdmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7CiAgICB2YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nOwogICAgdmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlOwogICAgdmFyIGlzQXJncyA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpOwogICAgdmFyIGlzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7CiAgICB2YXIgaGFzRG9udEVudW1CdWcgPSAhaXNFbnVtZXJhYmxlLmNhbGwoewogICAgICB0b1N0cmluZzogbnVsbAogICAgfSwgInRvU3RyaW5nIik7CiAgICB2YXIgaGFzUHJvdG9FbnVtQnVnID0gaXNFbnVtZXJhYmxlLmNhbGwoZnVuY3Rpb24gKCkge30sICJwcm90b3R5cGUiKTsKICAgIHZhciBkb250RW51bXMgPSBbInRvU3RyaW5nIiwgInRvTG9jYWxlU3RyaW5nIiwgInZhbHVlT2YiLCAiaGFzT3duUHJvcGVydHkiLCAiaXNQcm90b3R5cGVPZiIsICJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsICJjb25zdHJ1Y3RvciJdOwogICAgdmFyIGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlID0gZnVuY3Rpb24gKG8pIHsKICAgICAgdmFyIGN0b3IgPSBvLmNvbnN0cnVjdG9yOwogICAgICByZXR1cm4gY3RvciAmJiBjdG9yLnByb3RvdHlwZSA9PT0gbzsKICAgIH07CiAgICB2YXIgZXhjbHVkZWRLZXlzID0gewogICAgICAkYXBwbGljYXRpb25DYWNoZTogdHJ1ZSwKICAgICAgJGNvbnNvbGU6IHRydWUsCiAgICAgICRleHRlcm5hbDogdHJ1ZSwKICAgICAgJGZyYW1lOiB0cnVlLAogICAgICAkZnJhbWVFbGVtZW50OiB0cnVlLAogICAgICAkZnJhbWVzOiB0cnVlLAogICAgICAkaW5uZXJIZWlnaHQ6IHRydWUsCiAgICAgICRpbm5lcldpZHRoOiB0cnVlLAogICAgICAkb3V0ZXJIZWlnaHQ6IHRydWUsCiAgICAgICRvdXRlcldpZHRoOiB0cnVlLAogICAgICAkcGFnZVhPZmZzZXQ6IHRydWUsCiAgICAgICRwYWdlWU9mZnNldDogdHJ1ZSwKICAgICAgJHBhcmVudDogdHJ1ZSwKICAgICAgJHNjcm9sbExlZnQ6IHRydWUsCiAgICAgICRzY3JvbGxUb3A6IHRydWUsCiAgICAgICRzY3JvbGxYOiB0cnVlLAogICAgICAkc2Nyb2xsWTogdHJ1ZSwKICAgICAgJHNlbGY6IHRydWUsCiAgICAgICR3ZWJraXRJbmRleGVkREI6IHRydWUsCiAgICAgICR3ZWJraXRTdG9yYWdlSW5mbzogdHJ1ZSwKICAgICAgJHdpbmRvdzogdHJ1ZQogICAgfTsKICAgIHZhciBoYXNBdXRvbWF0aW9uRXF1YWxpdHlCdWcgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAidW5kZWZpbmVkIikgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBmb3IgKHZhciBrIGluIHdpbmRvdykgewogICAgICAgIHRyeSB7CiAgICAgICAgICBpZiAoIWV4Y2x1ZGVkS2V5c1siJCIgKyBrXSAmJiBoYXMuY2FsbCh3aW5kb3csIGspICYmIHdpbmRvd1trXSAhPT0gbnVsbCAmJiB0eXBlb2Ygd2luZG93W2tdID09PSAib2JqZWN0IikgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlKHdpbmRvd1trXSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9KCk7CiAgICB2YXIgZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGVJZk5vdEJ1Z2d5ID0gZnVuY3Rpb24gKG8pIHsKICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICJ1bmRlZmluZWQiIHx8ICFoYXNBdXRvbWF0aW9uRXF1YWxpdHlCdWcpIHsKICAgICAgICByZXR1cm4gZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGUobyk7CiAgICAgIH0KICAgICAgdHJ5IHsKICAgICAgICByZXR1cm4gZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGUobyk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH07CiAgICB2YXIga2V5c1NoaW0gPSBmdW5jdGlvbiBrZXlzKG9iamVjdCkgewogICAgICB2YXIgaXNPYmplY3QgPSBvYmplY3QgIT09IG51bGwgJiYgdHlwZW9mIG9iamVjdCA9PT0gIm9iamVjdCI7CiAgICAgIHZhciBpc0Z1bmN0aW9uID0gdG9TdHIuY2FsbChvYmplY3QpID09PSAiW29iamVjdCBGdW5jdGlvbl0iOwogICAgICB2YXIgaXNBcmd1bWVudHMgPSBpc0FyZ3Mob2JqZWN0KTsKICAgICAgdmFyIGlzU3RyaW5nID0gaXNPYmplY3QgJiYgdG9TdHIuY2FsbChvYmplY3QpID09PSAiW29iamVjdCBTdHJpbmddIjsKICAgICAgdmFyIHRoZUtleXMgPSBbXTsKICAgICAgaWYgKCFpc09iamVjdCAmJiAhaXNGdW5jdGlvbiAmJiAhaXNBcmd1bWVudHMpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qua2V5cyBjYWxsZWQgb24gYSBub24tb2JqZWN0Iik7CiAgICAgIH0KICAgICAgdmFyIHNraXBQcm90byA9IGhhc1Byb3RvRW51bUJ1ZyAmJiBpc0Z1bmN0aW9uOwogICAgICBpZiAoaXNTdHJpbmcgJiYgb2JqZWN0Lmxlbmd0aCA+IDAgJiYgIWhhcy5jYWxsKG9iamVjdCwgMCkpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdC5sZW5ndGg7ICsraSkgewogICAgICAgICAgdGhlS2V5cy5wdXNoKFN0cmluZyhpKSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChpc0FyZ3VtZW50cyAmJiBvYmplY3QubGVuZ3RoID4gMCkgewogICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqZWN0Lmxlbmd0aDsgKytqKSB7CiAgICAgICAgICB0aGVLZXlzLnB1c2goU3RyaW5nKGopKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBvYmplY3QpIHsKICAgICAgICAgIGlmICghKHNraXBQcm90byAmJiBuYW1lID09PSAicHJvdG90eXBlIikgJiYgaGFzLmNhbGwob2JqZWN0LCBuYW1lKSkgewogICAgICAgICAgICB0aGVLZXlzLnB1c2goU3RyaW5nKG5hbWUpKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKGhhc0RvbnRFbnVtQnVnKSB7CiAgICAgICAgdmFyIHNraXBDb25zdHJ1Y3RvciA9IGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlSWZOb3RCdWdneShvYmplY3QpOwogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZG9udEVudW1zLmxlbmd0aDsgKytrKSB7CiAgICAgICAgICBpZiAoIShza2lwQ29uc3RydWN0b3IgJiYgZG9udEVudW1zW2tdID09PSAiY29uc3RydWN0b3IiKSAmJiBoYXMuY2FsbChvYmplY3QsIGRvbnRFbnVtc1trXSkpIHsKICAgICAgICAgICAgdGhlS2V5cy5wdXNoKGRvbnRFbnVtc1trXSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiB0aGVLZXlzOwogICAgfTsKICAgIGtleXNTaGltLnNoaW0gPSBmdW5jdGlvbiBzaGltT2JqZWN0S2V5cygpIHsKICAgICAgaWYgKE9iamVjdC5rZXlzKSB7CiAgICAgICAgdmFyIGtleXNXb3Jrc1dpdGhBcmd1bWVudHMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gKE9iamVjdC5rZXlzKGFyZ3VtZW50cykgfHwgIiIpLmxlbmd0aCA9PT0gMjsKICAgICAgICB9KDEsIDIpOwogICAgICAgIGlmICgha2V5c1dvcmtzV2l0aEFyZ3VtZW50cykgewogICAgICAgICAgdmFyIG9yaWdpbmFsS2V5cyA9IE9iamVjdC5rZXlzOwogICAgICAgICAgT2JqZWN0LmtleXMgPSBmdW5jdGlvbiBrZXlzKG9iamVjdCkgewogICAgICAgICAgICBpZiAoaXNBcmdzKG9iamVjdCkpIHsKICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxLZXlzKHNsaWNlLmNhbGwob2JqZWN0KSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsS2V5cyhvYmplY3QpOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBPYmplY3Qua2V5cyA9IGtleXNTaGltOwogICAgICB9CiAgICAgIHJldHVybiBPYmplY3Qua2V5cyB8fCBrZXlzU2hpbTsKICAgIH07CiAgICBtb2R1bGUuZXhwb3J0cyA9IGtleXNTaGltOwogIH0sIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICJ1c2Ugc3RyaWN0IjsKCiAgICB2YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nOwogICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0FyZ3VtZW50cyh2YWx1ZSkgewogICAgICB2YXIgc3RyID0gdG9TdHIuY2FsbCh2YWx1ZSk7CiAgICAgIHZhciBpc0FyZ3MgPSBzdHIgPT09ICJbb2JqZWN0IEFyZ3VtZW50c10iOwogICAgICBpZiAoIWlzQXJncykgewogICAgICAgIGlzQXJncyA9IHN0ciAhPT0gIltvYmplY3QgQXJyYXldIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICJvYmplY3QiICYmIHR5cGVvZiB2YWx1ZS5sZW5ndGggPT09ICJudW1iZXIiICYmIHZhbHVlLmxlbmd0aCA+PSAwICYmIHRvU3RyLmNhbGwodmFsdWUuY2FsbGVlKSA9PT0gIltvYmplY3QgRnVuY3Rpb25dIjsKICAgICAgfQogICAgICByZXR1cm4gaXNBcmdzOwogICAgfTsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAoZnVuY3Rpb24gKGdsb2JhbCkgewogICAgICB2YXIgZGVidWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpKCJhbGdvbGlhc2VhcmNoOnNyYy9ob3N0SW5kZXhTdGF0ZS5qcyIpOwogICAgICB2YXIgbG9jYWxTdG9yYWdlTmFtZXNwYWNlID0gImFsZ29saWFzZWFyY2gtY2xpZW50LWpzIjsKICAgICAgdmFyIHN0b3JlOwogICAgICB2YXIgbW9kdWxlU3RvcmUgPSB7CiAgICAgICAgc3RhdGU6IHt9LAogICAgICAgIHNldDogZnVuY3Rpb24gKGtleSwgZGF0YSkgewogICAgICAgICAgdGhpcy5zdGF0ZVtrZXldID0gZGF0YTsKICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlW2tleV07CiAgICAgICAgfSwKICAgICAgICBnZXQ6IGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlW2tleV0gfHwgbnVsbDsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHZhciBsb2NhbFN0b3JhZ2VTdG9yZSA9IHsKICAgICAgICBzZXQ6IGZ1bmN0aW9uIChrZXksIGRhdGEpIHsKICAgICAgICAgIG1vZHVsZVN0b3JlLnNldChrZXksIGRhdGEpOwogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyIG5hbWVzcGFjZSA9IEpTT04ucGFyc2UoZ2xvYmFsLmxvY2FsU3RvcmFnZVtsb2NhbFN0b3JhZ2VOYW1lc3BhY2VdKTsKICAgICAgICAgICAgbmFtZXNwYWNlW2tleV0gPSBkYXRhOwogICAgICAgICAgICBnbG9iYWwubG9jYWxTdG9yYWdlW2xvY2FsU3RvcmFnZU5hbWVzcGFjZV0gPSBKU09OLnN0cmluZ2lmeShuYW1lc3BhY2UpOwogICAgICAgICAgICByZXR1cm4gbmFtZXNwYWNlW2tleV07CiAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2VGYWlsdXJlKGtleSwgZSk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBnZXQ6IGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGdsb2JhbC5sb2NhbFN0b3JhZ2VbbG9jYWxTdG9yYWdlTmFtZXNwYWNlXSlba2V5XSB8fCBudWxsOwogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlRmFpbHVyZShrZXksIGUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKICAgICAgZnVuY3Rpb24gbG9jYWxTdG9yYWdlRmFpbHVyZShrZXksIGUpIHsKICAgICAgICBkZWJ1ZygibG9jYWxTdG9yYWdlIGZhaWxlZCB3aXRoIiwgZSk7CiAgICAgICAgY2xlYW51cCgpOwogICAgICAgIHN0b3JlID0gbW9kdWxlU3RvcmU7CiAgICAgICAgcmV0dXJuIHN0b3JlLmdldChrZXkpOwogICAgICB9CiAgICAgIHN0b3JlID0gc3VwcG9ydHNMb2NhbFN0b3JhZ2UoKSA/IGxvY2FsU3RvcmFnZVN0b3JlIDogbW9kdWxlU3RvcmU7CiAgICAgIG1vZHVsZS5leHBvcnRzID0gewogICAgICAgIGdldDogZ2V0T3JTZXQsCiAgICAgICAgc2V0OiBnZXRPclNldCwKICAgICAgICBzdXBwb3J0c0xvY2FsU3RvcmFnZTogc3VwcG9ydHNMb2NhbFN0b3JhZ2UKICAgICAgfTsKICAgICAgZnVuY3Rpb24gZ2V0T3JTZXQoa2V5LCBkYXRhKSB7CiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHsKICAgICAgICAgIHJldHVybiBzdG9yZS5nZXQoa2V5KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHN0b3JlLnNldChrZXksIGRhdGEpOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHN1cHBvcnRzTG9jYWxTdG9yYWdlKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBpZiAoImxvY2FsU3RvcmFnZSIgaW4gZ2xvYmFsICYmIGdsb2JhbC5sb2NhbFN0b3JhZ2UgIT09IG51bGwpIHsKICAgICAgICAgICAgaWYgKCFnbG9iYWwubG9jYWxTdG9yYWdlW2xvY2FsU3RvcmFnZU5hbWVzcGFjZV0pIHsKICAgICAgICAgICAgICBnbG9iYWwubG9jYWxTdG9yYWdlLnNldEl0ZW0obG9jYWxTdG9yYWdlTmFtZXNwYWNlLCBKU09OLnN0cmluZ2lmeSh7fSkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0gY2F0Y2ggKF8pIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZnVuY3Rpb24gY2xlYW51cCgpIHsKICAgICAgICB0cnkgewogICAgICAgICAgZ2xvYmFsLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGxvY2FsU3RvcmFnZU5hbWVzcGFjZSk7CiAgICAgICAgfSBjYXRjaCAoXykge30KICAgICAgfQogICAgfSkuY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpKTsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVEZWJ1Zy5kZWJ1ZyA9IGNyZWF0ZURlYnVnWyJkZWZhdWx0Il0gPSBjcmVhdGVEZWJ1ZzsKICAgIGV4cG9ydHMuY29lcmNlID0gY29lcmNlOwogICAgZXhwb3J0cy5kaXNhYmxlID0gZGlzYWJsZTsKICAgIGV4cG9ydHMuZW5hYmxlID0gZW5hYmxlOwogICAgZXhwb3J0cy5lbmFibGVkID0gZW5hYmxlZDsKICAgIGV4cG9ydHMuaHVtYW5pemUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTsKICAgIGV4cG9ydHMubmFtZXMgPSBbXTsKICAgIGV4cG9ydHMuc2tpcHMgPSBbXTsKICAgIGV4cG9ydHMuZm9ybWF0dGVycyA9IHt9OwogICAgdmFyIHByZXZUaW1lOwogICAgZnVuY3Rpb24gc2VsZWN0Q29sb3IobmFtZXNwYWNlKSB7CiAgICAgIHZhciBoYXNoID0gMCwKICAgICAgICBpOwogICAgICBmb3IgKGkgaW4gbmFtZXNwYWNlKSB7CiAgICAgICAgaGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIG5hbWVzcGFjZS5jaGFyQ29kZUF0KGkpOwogICAgICAgIGhhc2ggfD0gMDsKICAgICAgfQogICAgICByZXR1cm4gZXhwb3J0cy5jb2xvcnNbTWF0aC5hYnMoaGFzaCkgJSBleHBvcnRzLmNvbG9ycy5sZW5ndGhdOwogICAgfQogICAgZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7CiAgICAgIGZ1bmN0aW9uIGRlYnVnKCkgewogICAgICAgIGlmICghZGVidWcuZW5hYmxlZCkgcmV0dXJuOwogICAgICAgIHZhciBzZWxmID0gZGVidWc7CiAgICAgICAgdmFyIGN1cnIgPSArbmV3IERhdGUoKTsKICAgICAgICB2YXIgbXMgPSBjdXJyIC0gKHByZXZUaW1lIHx8IGN1cnIpOwogICAgICAgIHNlbGYuZGlmZiA9IG1zOwogICAgICAgIHNlbGYucHJldiA9IHByZXZUaW1lOwogICAgICAgIHNlbGYuY3VyciA9IGN1cnI7CiAgICAgICAgcHJldlRpbWUgPSBjdXJyOwogICAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykgewogICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTsKICAgICAgICB9CiAgICAgICAgYXJnc1swXSA9IGV4cG9ydHMuY29lcmNlKGFyZ3NbMF0pOwogICAgICAgIGlmICgic3RyaW5nIiAhPT0gdHlwZW9mIGFyZ3NbMF0pIHsKICAgICAgICAgIGFyZ3MudW5zaGlmdCgiJU8iKTsKICAgICAgICB9CiAgICAgICAgdmFyIGluZGV4ID0gMDsKICAgICAgICBhcmdzWzBdID0gYXJnc1swXS5yZXBsYWNlKC8lKFthLXpBLVolXSkvZywgZnVuY3Rpb24gKG1hdGNoLCBmb3JtYXQpIHsKICAgICAgICAgIGlmIChtYXRjaCA9PT0gIiUlIikgcmV0dXJuIG1hdGNoOwogICAgICAgICAgaW5kZXgrKzsKICAgICAgICAgIHZhciBmb3JtYXR0ZXIgPSBleHBvcnRzLmZvcm1hdHRlcnNbZm9ybWF0XTsKICAgICAgICAgIGlmICgiZnVuY3Rpb24iID09PSB0eXBlb2YgZm9ybWF0dGVyKSB7CiAgICAgICAgICAgIHZhciB2YWwgPSBhcmdzW2luZGV4XTsKICAgICAgICAgICAgbWF0Y2ggPSBmb3JtYXR0ZXIuY2FsbChzZWxmLCB2YWwpOwogICAgICAgICAgICBhcmdzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgIGluZGV4LS07CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gbWF0Y2g7CiAgICAgICAgfSk7CiAgICAgICAgZXhwb3J0cy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7CiAgICAgICAgdmFyIGxvZ0ZuID0gZGVidWcubG9nIHx8IGV4cG9ydHMubG9nIHx8IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7CiAgICAgICAgbG9nRm4uYXBwbHkoc2VsZiwgYXJncyk7CiAgICAgIH0KICAgICAgZGVidWcubmFtZXNwYWNlID0gbmFtZXNwYWNlOwogICAgICBkZWJ1Zy5lbmFibGVkID0gZXhwb3J0cy5lbmFibGVkKG5hbWVzcGFjZSk7CiAgICAgIGRlYnVnLnVzZUNvbG9ycyA9IGV4cG9ydHMudXNlQ29sb3JzKCk7CiAgICAgIGRlYnVnLmNvbG9yID0gc2VsZWN0Q29sb3IobmFtZXNwYWNlKTsKICAgICAgaWYgKCJmdW5jdGlvbiIgPT09IHR5cGVvZiBleHBvcnRzLmluaXQpIHsKICAgICAgICBleHBvcnRzLmluaXQoZGVidWcpOwogICAgICB9CiAgICAgIHJldHVybiBkZWJ1ZzsKICAgIH0KICAgIGZ1bmN0aW9uIGVuYWJsZShuYW1lc3BhY2VzKSB7CiAgICAgIGV4cG9ydHMuc2F2ZShuYW1lc3BhY2VzKTsKICAgICAgZXhwb3J0cy5uYW1lcyA9IFtdOwogICAgICBleHBvcnRzLnNraXBzID0gW107CiAgICAgIHZhciBzcGxpdCA9ICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gInN0cmluZyIgPyBuYW1lc3BhY2VzIDogIiIpLnNwbGl0KC9bXHMsXSsvKTsKICAgICAgdmFyIGxlbiA9IHNwbGl0Lmxlbmd0aDsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICAgIGlmICghc3BsaXRbaV0pIGNvbnRpbnVlOwogICAgICAgIG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cKi9nLCAiLio/Iik7CiAgICAgICAgaWYgKG5hbWVzcGFjZXNbMF0gPT09ICItIikgewogICAgICAgICAgZXhwb3J0cy5za2lwcy5wdXNoKG5ldyBSZWdFeHAoIl4iICsgbmFtZXNwYWNlcy5zdWJzdHIoMSkgKyAiJCIpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZXhwb3J0cy5uYW1lcy5wdXNoKG5ldyBSZWdFeHAoIl4iICsgbmFtZXNwYWNlcyArICIkIikpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gZGlzYWJsZSgpIHsKICAgICAgZXhwb3J0cy5lbmFibGUoIiIpOwogICAgfQogICAgZnVuY3Rpb24gZW5hYmxlZChuYW1lKSB7CiAgICAgIHZhciBpLCBsZW47CiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGV4cG9ydHMuc2tpcHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICBpZiAoZXhwb3J0cy5za2lwc1tpXS50ZXN0KG5hbWUpKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGV4cG9ydHMubmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICBpZiAoZXhwb3J0cy5uYW1lc1tpXS50ZXN0KG5hbWUpKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgZnVuY3Rpb24gY29lcmNlKHZhbCkgewogICAgICBpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiB2YWwuc3RhY2sgfHwgdmFsLm1lc3NhZ2U7CiAgICAgIHJldHVybiB2YWw7CiAgICB9CiAgfSwgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykgewogICAgdmFyIHMgPSAxZTM7CiAgICB2YXIgbSA9IHMgKiA2MDsKICAgIHZhciBoID0gbSAqIDYwOwogICAgdmFyIGQgPSBoICogMjQ7CiAgICB2YXIgeSA9IGQgKiAzNjUuMjU7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWwsIG9wdGlvbnMpIHsKICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbDsKICAgICAgaWYgKHR5cGUgPT09ICJzdHJpbmciICYmIHZhbC5sZW5ndGggPiAwKSB7CiAgICAgICAgcmV0dXJuIHBhcnNlKHZhbCk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gIm51bWJlciIgJiYgaXNOYU4odmFsKSA9PT0gZmFsc2UpIHsKICAgICAgICByZXR1cm4gb3B0aW9ucy5sb25nID8gZm10TG9uZyh2YWwpIDogZm10U2hvcnQodmFsKTsKICAgICAgfQogICAgICB0aHJvdyBuZXcgRXJyb3IoInZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9IiArIEpTT04uc3RyaW5naWZ5KHZhbCkpOwogICAgfTsKICAgIGZ1bmN0aW9uIHBhcnNlKHN0cikgewogICAgICBzdHIgPSBTdHJpbmcoc3RyKTsKICAgICAgaWYgKHN0ci5sZW5ndGggPiAxMDApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIG1hdGNoID0gL14oKD86XGQrKT9cLj9cZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhzdHIpOwogICAgICBpZiAoIW1hdGNoKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBuID0gcGFyc2VGbG9hdChtYXRjaFsxXSk7CiAgICAgIHZhciB0eXBlID0gKG1hdGNoWzJdIHx8ICJtcyIpLnRvTG93ZXJDYXNlKCk7CiAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgIGNhc2UgInllYXJzIjoKICAgICAgICBjYXNlICJ5ZWFyIjoKICAgICAgICBjYXNlICJ5cnMiOgogICAgICAgIGNhc2UgInlyIjoKICAgICAgICBjYXNlICJ5IjoKICAgICAgICAgIHJldHVybiBuICogeTsKICAgICAgICBjYXNlICJkYXlzIjoKICAgICAgICBjYXNlICJkYXkiOgogICAgICAgIGNhc2UgImQiOgogICAgICAgICAgcmV0dXJuIG4gKiBkOwogICAgICAgIGNhc2UgImhvdXJzIjoKICAgICAgICBjYXNlICJob3VyIjoKICAgICAgICBjYXNlICJocnMiOgogICAgICAgIGNhc2UgImhyIjoKICAgICAgICBjYXNlICJoIjoKICAgICAgICAgIHJldHVybiBuICogaDsKICAgICAgICBjYXNlICJtaW51dGVzIjoKICAgICAgICBjYXNlICJtaW51dGUiOgogICAgICAgIGNhc2UgIm1pbnMiOgogICAgICAgIGNhc2UgIm1pbiI6CiAgICAgICAgY2FzZSAibSI6CiAgICAgICAgICByZXR1cm4gbiAqIG07CiAgICAgICAgY2FzZSAic2Vjb25kcyI6CiAgICAgICAgY2FzZSAic2Vjb25kIjoKICAgICAgICBjYXNlICJzZWNzIjoKICAgICAgICBjYXNlICJzZWMiOgogICAgICAgIGNhc2UgInMiOgogICAgICAgICAgcmV0dXJuIG4gKiBzOwogICAgICAgIGNhc2UgIm1pbGxpc2Vjb25kcyI6CiAgICAgICAgY2FzZSAibWlsbGlzZWNvbmQiOgogICAgICAgIGNhc2UgIm1zZWNzIjoKICAgICAgICBjYXNlICJtc2VjIjoKICAgICAgICBjYXNlICJtcyI6CiAgICAgICAgICByZXR1cm4gbjsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gZm10U2hvcnQobXMpIHsKICAgICAgaWYgKG1zID49IGQpIHsKICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgImQiOwogICAgICB9CiAgICAgIGlmIChtcyA+PSBoKSB7CiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBoKSArICJoIjsKICAgICAgfQogICAgICBpZiAobXMgPj0gbSkgewogICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbSkgKyAibSI7CiAgICAgIH0KICAgICAgaWYgKG1zID49IHMpIHsKICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgInMiOwogICAgICB9CiAgICAgIHJldHVybiBtcyArICJtcyI7CiAgICB9CiAgICBmdW5jdGlvbiBmbXRMb25nKG1zKSB7CiAgICAgIHJldHVybiBwbHVyYWwobXMsIGQsICJkYXkiKSB8fCBwbHVyYWwobXMsIGgsICJob3VyIikgfHwgcGx1cmFsKG1zLCBtLCAibWludXRlIikgfHwgcGx1cmFsKG1zLCBzLCAic2Vjb25kIikgfHwgbXMgKyAiIG1zIjsKICAgIH0KICAgIGZ1bmN0aW9uIHBsdXJhbChtcywgbiwgbmFtZSkgewogICAgICBpZiAobXMgPCBuKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmIChtcyA8IG4gKiAxLjUpIHsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihtcyAvIG4pICsgIiAiICsgbmFtZTsKICAgICAgfQogICAgICByZXR1cm4gTWF0aC5jZWlsKG1zIC8gbikgKyAiICIgKyBuYW1lICsgInMiOwogICAgfQogIH0sIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICJ1c2Ugc3RyaWN0IjsKCiAgICB2YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7CiAgICB2YXIgUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlIHx8IF9fd2VicGFja19yZXF1aXJlX18oNDMpLlByb21pc2U7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZUFsZ29saWFzZWFyY2goQWxnb2xpYVNlYXJjaCwgdWFTdWZmaXgpIHsKICAgICAgdmFyIGluaGVyaXRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7CiAgICAgIHZhciBlcnJvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpOwogICAgICB2YXIgaW5saW5lSGVhZGVycyA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpOwogICAgICB2YXIganNvbnBSZXF1ZXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7CiAgICAgIHZhciBwbGFjZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTsKICAgICAgdWFTdWZmaXggPSB1YVN1ZmZpeCB8fCAiIjsKICAgICAgaWYgKGZhbHNlKSB7CiAgICAgICAgcmVxdWlyZSgiZGVidWciKS5lbmFibGUoImFsZ29saWFzZWFyY2gqIik7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gYWxnb2xpYXNlYXJjaChhcHBsaWNhdGlvbklELCBhcGlLZXksIG9wdHMpIHsKICAgICAgICB2YXIgY2xvbmVEZWVwID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTsKICAgICAgICBvcHRzID0gY2xvbmVEZWVwKG9wdHMgfHwge30pOwogICAgICAgIG9wdHMuX3VhID0gb3B0cy5fdWEgfHwgYWxnb2xpYXNlYXJjaC51YTsKICAgICAgICByZXR1cm4gbmV3IEFsZ29saWFTZWFyY2hCcm93c2VyKGFwcGxpY2F0aW9uSUQsIGFwaUtleSwgb3B0cyk7CiAgICAgIH0KICAgICAgYWxnb2xpYXNlYXJjaC52ZXJzaW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7CiAgICAgIGFsZ29saWFzZWFyY2gudWEgPSAiQWxnb2xpYSBmb3IgdmFuaWxsYSBKYXZhU2NyaXB0ICIgKyB1YVN1ZmZpeCArIGFsZ29saWFzZWFyY2gudmVyc2lvbjsKICAgICAgYWxnb2xpYXNlYXJjaC5pbml0UGxhY2VzID0gcGxhY2VzKGFsZ29saWFzZWFyY2gpOwogICAgICBnbG9iYWwuX19hbGdvbGlhID0gewogICAgICAgIGRlYnVnOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpLAogICAgICAgIGFsZ29saWFzZWFyY2g6IGFsZ29saWFzZWFyY2gKICAgICAgfTsKICAgICAgdmFyIHN1cHBvcnQgPSB7CiAgICAgICAgaGFzWE1MSHR0cFJlcXVlc3Q6ICJYTUxIdHRwUmVxdWVzdCIgaW4gZ2xvYmFsLAogICAgICAgIGhhc1hEb21haW5SZXF1ZXN0OiAiWERvbWFpblJlcXVlc3QiIGluIGdsb2JhbAogICAgICB9OwogICAgICBpZiAoc3VwcG9ydC5oYXNYTUxIdHRwUmVxdWVzdCkgewogICAgICAgIHN1cHBvcnQuY29ycyA9ICJ3aXRoQ3JlZGVudGlhbHMiIGluIG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIEFsZ29saWFTZWFyY2hCcm93c2VyKCkgewogICAgICAgIEFsZ29saWFTZWFyY2guYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQogICAgICBpbmhlcml0cyhBbGdvbGlhU2VhcmNoQnJvd3NlciwgQWxnb2xpYVNlYXJjaCk7CiAgICAgIEFsZ29saWFTZWFyY2hCcm93c2VyLnByb3RvdHlwZS5fcmVxdWVzdCA9IGZ1bmN0aW9uIHJlcXVlc3QodXJsLCBvcHRzKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIHdyYXBSZXF1ZXN0KHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgaWYgKCFzdXBwb3J0LmNvcnMgJiYgIXN1cHBvcnQuaGFzWERvbWFpblJlcXVlc3QpIHsKICAgICAgICAgICAgcmVqZWN0KG5ldyBlcnJvcnMuTmV0d29yaygiQ09SUyBub3Qgc3VwcG9ydGVkIikpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICB1cmwgPSBpbmxpbmVIZWFkZXJzKHVybCwgb3B0cy5oZWFkZXJzKTsKICAgICAgICAgIHZhciBib2R5ID0gb3B0cy5ib2R5OwogICAgICAgICAgdmFyIHJlcSA9IHN1cHBvcnQuY29ycyA/IG5ldyBYTUxIdHRwUmVxdWVzdCgpIDogbmV3IFhEb21haW5SZXF1ZXN0KCk7CiAgICAgICAgICB2YXIgcmVxVGltZW91dDsKICAgICAgICAgIHZhciB0aW1lZE91dDsKICAgICAgICAgIHZhciBjb25uZWN0ZWQgPSBmYWxzZTsKICAgICAgICAgIHJlcVRpbWVvdXQgPSBzZXRUaW1lb3V0KG9uVGltZW91dCwgb3B0cy50aW1lb3V0cy5jb25uZWN0KTsKICAgICAgICAgIHJlcS5vbnByb2dyZXNzID0gb25Qcm9ncmVzczsKICAgICAgICAgIGlmICgib25yZWFkeXN0YXRlY2hhbmdlIiBpbiByZXEpIHJlcS5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBvblJlYWR5U3RhdGVDaGFuZ2U7CiAgICAgICAgICByZXEub25sb2FkID0gb25Mb2FkOwogICAgICAgICAgcmVxLm9uZXJyb3IgPSBvbkVycm9yOwogICAgICAgICAgaWYgKHJlcSBpbnN0YW5jZW9mIFhNTEh0dHBSZXF1ZXN0KSB7CiAgICAgICAgICAgIHJlcS5vcGVuKG9wdHMubWV0aG9kLCB1cmwsIHRydWUpOwogICAgICAgICAgICBpZiAob3B0cy5mb3JjZUF1dGhIZWFkZXJzKSB7CiAgICAgICAgICAgICAgcmVxLnNldFJlcXVlc3RIZWFkZXIoIngtYWxnb2xpYS1hcHBsaWNhdGlvbi1pZCIsIG9wdHMuaGVhZGVyc1sieC1hbGdvbGlhLWFwcGxpY2F0aW9uLWlkIl0pOwogICAgICAgICAgICAgIHJlcS5zZXRSZXF1ZXN0SGVhZGVyKCJ4LWFsZ29saWEtYXBpLWtleSIsIG9wdHMuaGVhZGVyc1sieC1hbGdvbGlhLWFwaS1rZXkiXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlcS5vcGVuKG9wdHMubWV0aG9kLCB1cmwpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHN1cHBvcnQuY29ycykgewogICAgICAgICAgICBpZiAoYm9keSkgewogICAgICAgICAgICAgIGlmIChvcHRzLm1ldGhvZCA9PT0gIlBPU1QiKSB7CiAgICAgICAgICAgICAgICByZXEuc2V0UmVxdWVzdEhlYWRlcigiY29udGVudC10eXBlIiwgImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXEuc2V0UmVxdWVzdEhlYWRlcigiY29udGVudC10eXBlIiwgImFwcGxpY2F0aW9uL2pzb24iKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVxLnNldFJlcXVlc3RIZWFkZXIoImFjY2VwdCIsICJhcHBsaWNhdGlvbi9qc29uIik7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoYm9keSkgewogICAgICAgICAgICByZXEuc2VuZChib2R5KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlcS5zZW5kKCk7CiAgICAgICAgICB9CiAgICAgICAgICBmdW5jdGlvbiBvbkxvYWQoKSB7CiAgICAgICAgICAgIGlmICh0aW1lZE91dCkgewogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBjbGVhclRpbWVvdXQocmVxVGltZW91dCk7CiAgICAgICAgICAgIHZhciBvdXQ7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgb3V0ID0gewogICAgICAgICAgICAgICAgYm9keTogSlNPTi5wYXJzZShyZXEucmVzcG9uc2VUZXh0KSwKICAgICAgICAgICAgICAgIHJlc3BvbnNlVGV4dDogcmVxLnJlc3BvbnNlVGV4dCwKICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IHJlcS5zdGF0dXMsCiAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXEuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzICYmIHJlcS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB8fCB7fQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICBvdXQgPSBuZXcgZXJyb3JzLlVucGFyc2FibGVKU09OKHsKICAgICAgICAgICAgICAgIG1vcmU6IHJlcS5yZXNwb25zZVRleHQKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAob3V0IGluc3RhbmNlb2YgZXJyb3JzLlVucGFyc2FibGVKU09OKSB7CiAgICAgICAgICAgICAgcmVqZWN0KG91dCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmVzb2x2ZShvdXQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBmdW5jdGlvbiBvbkVycm9yKGV2ZW50KSB7CiAgICAgICAgICAgIGlmICh0aW1lZE91dCkgewogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBjbGVhclRpbWVvdXQocmVxVGltZW91dCk7CiAgICAgICAgICAgIHJlamVjdChuZXcgZXJyb3JzLk5ldHdvcmsoewogICAgICAgICAgICAgIG1vcmU6IGV2ZW50CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgIH0KICAgICAgICAgIGZ1bmN0aW9uIG9uVGltZW91dCgpIHsKICAgICAgICAgICAgdGltZWRPdXQgPSB0cnVlOwogICAgICAgICAgICByZXEuYWJvcnQoKTsKICAgICAgICAgICAgcmVqZWN0KG5ldyBlcnJvcnMuUmVxdWVzdFRpbWVvdXQoKSk7CiAgICAgICAgICB9CiAgICAgICAgICBmdW5jdGlvbiBvbkNvbm5lY3QoKSB7CiAgICAgICAgICAgIGNvbm5lY3RlZCA9IHRydWU7CiAgICAgICAgICAgIGNsZWFyVGltZW91dChyZXFUaW1lb3V0KTsKICAgICAgICAgICAgcmVxVGltZW91dCA9IHNldFRpbWVvdXQob25UaW1lb3V0LCBvcHRzLnRpbWVvdXRzLmNvbXBsZXRlKTsKICAgICAgICAgIH0KICAgICAgICAgIGZ1bmN0aW9uIG9uUHJvZ3Jlc3MoKSB7CiAgICAgICAgICAgIGlmICghY29ubmVjdGVkKSBvbkNvbm5lY3QoKTsKICAgICAgICAgIH0KICAgICAgICAgIGZ1bmN0aW9uIG9uUmVhZHlTdGF0ZUNoYW5nZSgpIHsKICAgICAgICAgICAgaWYgKCFjb25uZWN0ZWQgJiYgcmVxLnJlYWR5U3RhdGUgPiAxKSBvbkNvbm5lY3QoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfTsKICAgICAgQWxnb2xpYVNlYXJjaEJyb3dzZXIucHJvdG90eXBlLl9yZXF1ZXN0LmZhbGxiYWNrID0gZnVuY3Rpb24gcmVxdWVzdEZhbGxiYWNrKHVybCwgb3B0cykgewogICAgICAgIHVybCA9IGlubGluZUhlYWRlcnModXJsLCBvcHRzLmhlYWRlcnMpOwogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiB3cmFwSnNvbnBSZXF1ZXN0KHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAganNvbnBSZXF1ZXN0KHVybCwgb3B0cywgZnVuY3Rpb24ganNvbnBSZXF1ZXN0RG9uZShlcnIsIGNvbnRlbnQpIHsKICAgICAgICAgICAgaWYgKGVycikgewogICAgICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXNvbHZlKGNvbnRlbnQpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICAgIEFsZ29saWFTZWFyY2hCcm93c2VyLnByb3RvdHlwZS5fcHJvbWlzZSA9IHsKICAgICAgICByZWplY3Q6IGZ1bmN0aW9uIHJlamVjdFByb21pc2UodmFsKSB7CiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QodmFsKTsKICAgICAgICB9LAogICAgICAgIHJlc29sdmU6IGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHZhbCkgewogICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWwpOwogICAgICAgIH0sCiAgICAgICAgZGVsYXk6IGZ1bmN0aW9uIGRlbGF5UHJvbWlzZShtcykgewogICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIHJlc29sdmVPblRpbWVvdXQocmVzb2x2ZSkgewogICAgICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKTsKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgYWxsOiBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHsKICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7CiAgICAgICAgfQogICAgICB9OwogICAgICByZXR1cm4gYWxnb2xpYXNlYXJjaDsKICAgIH07CiAgfSwgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgKGZ1bmN0aW9uIChnbG9iYWwpIHsKICAgICAgdmFyIHdpbjsKICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgd2luID0gd2luZG93OwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgd2luID0gZ2xvYmFsOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIikgewogICAgICAgIHdpbiA9IHNlbGY7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2luID0ge307CiAgICAgIH0KICAgICAgbW9kdWxlLmV4cG9ydHMgPSB3aW47CiAgICB9KS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNCkpOwogIH0sIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgIChmdW5jdGlvbiAocHJvY2VzcywgZ2xvYmFsKSB7CiAgICAgIChmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7CiAgICAgICAgdHJ1ZSA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDogdHlwZW9mIGRlZmluZSA9PT0gImZ1bmN0aW9uIiAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDogZ2xvYmFsLkVTNlByb21pc2UgPSBmYWN0b3J5KCk7CiAgICAgIH0pKHRoaXMsIGZ1bmN0aW9uICgpIHsKICAgICAgICAidXNlIHN0cmljdCI7CgogICAgICAgIGZ1bmN0aW9uIG9iamVjdE9yRnVuY3Rpb24oeCkgewogICAgICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgeDsKICAgICAgICAgIHJldHVybiB4ICE9PSBudWxsICYmICh0eXBlID09PSAib2JqZWN0IiB8fCB0eXBlID09PSAiZnVuY3Rpb24iKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gaXNGdW5jdGlvbih4KSB7CiAgICAgICAgICByZXR1cm4gdHlwZW9mIHggPT09ICJmdW5jdGlvbiI7CiAgICAgICAgfQogICAgICAgIHZhciBfaXNBcnJheSA9IHZvaWQgMDsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSkgewogICAgICAgICAgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfaXNBcnJheSA9IGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeCkgPT09ICJbb2JqZWN0IEFycmF5XSI7CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICB2YXIgaXNBcnJheSA9IF9pc0FycmF5OwogICAgICAgIHZhciBsZW4gPSAwOwogICAgICAgIHZhciB2ZXJ0eE5leHQgPSB2b2lkIDA7CiAgICAgICAgdmFyIGN1c3RvbVNjaGVkdWxlckZuID0gdm9pZCAwOwogICAgICAgIHZhciBhc2FwID0gZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgYXJnKSB7CiAgICAgICAgICBxdWV1ZVtsZW5dID0gY2FsbGJhY2s7CiAgICAgICAgICBxdWV1ZVtsZW4gKyAxXSA9IGFyZzsKICAgICAgICAgIGxlbiArPSAyOwogICAgICAgICAgaWYgKGxlbiA9PT0gMikgewogICAgICAgICAgICBpZiAoY3VzdG9tU2NoZWR1bGVyRm4pIHsKICAgICAgICAgICAgICBjdXN0b21TY2hlZHVsZXJGbihmbHVzaCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgc2NoZWR1bGVGbHVzaCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBmdW5jdGlvbiBzZXRTY2hlZHVsZXIoc2NoZWR1bGVGbikgewogICAgICAgICAgY3VzdG9tU2NoZWR1bGVyRm4gPSBzY2hlZHVsZUZuOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBzZXRBc2FwKGFzYXBGbikgewogICAgICAgICAgYXNhcCA9IGFzYXBGbjsKICAgICAgICB9CiAgICAgICAgdmFyIGJyb3dzZXJXaW5kb3cgPSB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHVuZGVmaW5lZDsKICAgICAgICB2YXIgYnJvd3Nlckdsb2JhbCA9IGJyb3dzZXJXaW5kb3cgfHwge307CiAgICAgICAgdmFyIEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyID0gYnJvd3Nlckdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGJyb3dzZXJHbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjsKICAgICAgICB2YXIgaXNOb2RlID0gdHlwZW9mIHNlbGYgPT09ICJ1bmRlZmluZWQiICYmIHR5cGVvZiBwcm9jZXNzICE9PSAidW5kZWZpbmVkIiAmJiB7fS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAiW29iamVjdCBwcm9jZXNzXSI7CiAgICAgICAgdmFyIGlzV29ya2VyID0gdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ICE9PSAidW5kZWZpbmVkIiAmJiB0eXBlb2YgaW1wb3J0U2NyaXB0cyAhPT0gInVuZGVmaW5lZCIgJiYgdHlwZW9mIE1lc3NhZ2VDaGFubmVsICE9PSAidW5kZWZpbmVkIjsKICAgICAgICBmdW5jdGlvbiB1c2VOZXh0VGljaygpIHsKICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTsKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHVzZVZlcnR4VGltZXIoKSB7CiAgICAgICAgICBpZiAodHlwZW9mIHZlcnR4TmV4dCAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB2ZXJ0eE5leHQoZmx1c2gpOwogICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHVzZVNldFRpbWVvdXQoKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gdXNlTXV0YXRpb25PYnNlcnZlcigpIHsKICAgICAgICAgIHZhciBpdGVyYXRpb25zID0gMDsKICAgICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBCcm93c2VyTXV0YXRpb25PYnNlcnZlcihmbHVzaCk7CiAgICAgICAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTsKICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUobm9kZSwgewogICAgICAgICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIG5vZGUuZGF0YSA9IGl0ZXJhdGlvbnMgPSArK2l0ZXJhdGlvbnMgJSAyOwogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gdXNlTWVzc2FnZUNoYW5uZWwoKSB7CiAgICAgICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpOwogICAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmbHVzaDsKICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApOwogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gdXNlU2V0VGltZW91dCgpIHsKICAgICAgICAgIHZhciBnbG9iYWxTZXRUaW1lb3V0ID0gc2V0VGltZW91dDsKICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBnbG9iYWxTZXRUaW1lb3V0KGZsdXNoLCAxKTsKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIHZhciBxdWV1ZSA9IG5ldyBBcnJheSgxZTMpOwogICAgICAgIGZ1bmN0aW9uIGZsdXNoKCkgewogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikgewogICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBxdWV1ZVtpXTsKICAgICAgICAgICAgdmFyIGFyZyA9IHF1ZXVlW2kgKyAxXTsKICAgICAgICAgICAgY2FsbGJhY2soYXJnKTsKICAgICAgICAgICAgcXVldWVbaV0gPSB1bmRlZmluZWQ7CiAgICAgICAgICAgIHF1ZXVlW2kgKyAxXSA9IHVuZGVmaW5lZDsKICAgICAgICAgIH0KICAgICAgICAgIGxlbiA9IDA7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGF0dGVtcHRWZXJ0eCgpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHZhciB2ZXJ0eCA9IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCkucmVxdWlyZSgidmVydHgiKTsKICAgICAgICAgICAgdmVydHhOZXh0ID0gdmVydHgucnVuT25Mb29wIHx8IHZlcnR4LnJ1bk9uQ29udGV4dDsKICAgICAgICAgICAgcmV0dXJuIHVzZVZlcnR4VGltZXIoKTsKICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgcmV0dXJuIHVzZVNldFRpbWVvdXQoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdmFyIHNjaGVkdWxlRmx1c2ggPSB2b2lkIDA7CiAgICAgICAgaWYgKGlzTm9kZSkgewogICAgICAgICAgc2NoZWR1bGVGbHVzaCA9IHVzZU5leHRUaWNrKCk7CiAgICAgICAgfSBlbHNlIGlmIChCcm93c2VyTXV0YXRpb25PYnNlcnZlcikgewogICAgICAgICAgc2NoZWR1bGVGbHVzaCA9IHVzZU11dGF0aW9uT2JzZXJ2ZXIoKTsKICAgICAgICB9IGVsc2UgaWYgKGlzV29ya2VyKSB7CiAgICAgICAgICBzY2hlZHVsZUZsdXNoID0gdXNlTWVzc2FnZUNoYW5uZWwoKTsKICAgICAgICB9IGVsc2UgaWYgKGJyb3dzZXJXaW5kb3cgPT09IHVuZGVmaW5lZCAmJiAiZnVuY3Rpb24iID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICBzY2hlZHVsZUZsdXNoID0gYXR0ZW1wdFZlcnR4KCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNjaGVkdWxlRmx1c2ggPSB1c2VTZXRUaW1lb3V0KCk7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHsKICAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzOwogICAgICAgICAgdmFyIGNoaWxkID0gbmV3IHRoaXMuY29uc3RydWN0b3Iobm9vcCk7CiAgICAgICAgICBpZiAoY2hpbGRbUFJPTUlTRV9JRF0gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBtYWtlUHJvbWlzZShjaGlsZCk7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgX3N0YXRlID0gcGFyZW50Ll9zdGF0ZTsKICAgICAgICAgIGlmIChfc3RhdGUpIHsKICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzW19zdGF0ZSAtIDFdOwogICAgICAgICAgICBhc2FwKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gaW52b2tlQ2FsbGJhY2soX3N0YXRlLCBjaGlsZCwgY2FsbGJhY2ssIHBhcmVudC5fcmVzdWx0KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGNoaWxkOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiByZXNvbHZlJDEob2JqZWN0KSB7CiAgICAgICAgICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzOwogICAgICAgICAgaWYgKG9iamVjdCAmJiB0eXBlb2Ygb2JqZWN0ID09PSAib2JqZWN0IiAmJiBvYmplY3QuY29uc3RydWN0b3IgPT09IENvbnN0cnVjdG9yKSB7CiAgICAgICAgICAgIHJldHVybiBvYmplY3Q7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wKTsKICAgICAgICAgIHJlc29sdmUocHJvbWlzZSwgb2JqZWN0KTsKICAgICAgICAgIHJldHVybiBwcm9taXNlOwogICAgICAgIH0KICAgICAgICB2YXIgUFJPTUlTRV9JRCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyKTsKICAgICAgICBmdW5jdGlvbiBub29wKCkge30KICAgICAgICB2YXIgUEVORElORyA9IHZvaWQgMDsKICAgICAgICB2YXIgRlVMRklMTEVEID0gMTsKICAgICAgICB2YXIgUkVKRUNURUQgPSAyOwogICAgICAgIHZhciBUUllfQ0FUQ0hfRVJST1IgPSB7CiAgICAgICAgICBlcnJvcjogbnVsbAogICAgICAgIH07CiAgICAgICAgZnVuY3Rpb24gc2VsZkZ1bGZpbGxtZW50KCkgewogICAgICAgICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGYiKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gY2Fubm90UmV0dXJuT3duKCkgewogICAgICAgICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoIkEgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS4iKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2V0VGhlbihwcm9taXNlKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gcHJvbWlzZS50aGVuOwogICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgVFJZX0NBVENIX0VSUk9SLmVycm9yID0gZXJyb3I7CiAgICAgICAgICAgIHJldHVybiBUUllfQ0FUQ0hfRVJST1I7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHRyeVRoZW4odGhlbiQkMSwgdmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcikgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdGhlbiQkMS5jYWxsKHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpOwogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICByZXR1cm4gZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlLCB0aGVuJCQxKSB7CiAgICAgICAgICBhc2FwKGZ1bmN0aW9uIChwcm9taXNlKSB7CiAgICAgICAgICAgIHZhciBzZWFsZWQgPSBmYWxzZTsKICAgICAgICAgICAgdmFyIGVycm9yID0gdHJ5VGhlbih0aGVuJCQxLCB0aGVuYWJsZSwgZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgICAgaWYgKHNlYWxlZCkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBzZWFsZWQgPSB0cnVlOwogICAgICAgICAgICAgIGlmICh0aGVuYWJsZSAhPT0gdmFsdWUpIHsKICAgICAgICAgICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgICAgICBpZiAoc2VhbGVkKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHNlYWxlZCA9IHRydWU7CiAgICAgICAgICAgICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7CiAgICAgICAgICAgIH0sICJTZXR0bGU6ICIgKyAocHJvbWlzZS5fbGFiZWwgfHwgIiB1bmtub3duIHByb21pc2UiKSk7CiAgICAgICAgICAgIGlmICghc2VhbGVkICYmIGVycm9yKSB7CiAgICAgICAgICAgICAgc2VhbGVkID0gdHJ1ZTsKICAgICAgICAgICAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCBwcm9taXNlKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUpIHsKICAgICAgICAgIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IEZVTEZJTExFRCkgewogICAgICAgICAgICBmdWxmaWxsKHByb21pc2UsIHRoZW5hYmxlLl9yZXN1bHQpOwogICAgICAgICAgfSBlbHNlIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IFJFSkVDVEVEKSB7CiAgICAgICAgICAgIHJlamVjdChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHN1YnNjcmliZSh0aGVuYWJsZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7CiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KHByb21pc2UsIHJlYXNvbik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4kJDEpIHsKICAgICAgICAgIGlmIChtYXliZVRoZW5hYmxlLmNvbnN0cnVjdG9yID09PSBwcm9taXNlLmNvbnN0cnVjdG9yICYmIHRoZW4kJDEgPT09IHRoZW4gJiYgbWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3Rvci5yZXNvbHZlID09PSByZXNvbHZlJDEpIHsKICAgICAgICAgICAgaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAodGhlbiQkMSA9PT0gVFJZX0NBVENIX0VSUk9SKSB7CiAgICAgICAgICAgICAgcmVqZWN0KHByb21pc2UsIFRSWV9DQVRDSF9FUlJPUi5lcnJvcik7CiAgICAgICAgICAgICAgVFJZX0NBVENIX0VSUk9SLmVycm9yID0gbnVsbDsKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGVuJCQxID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpOwogICAgICAgICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24odGhlbiQkMSkpIHsKICAgICAgICAgICAgICBoYW5kbGVGb3JlaWduVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSwgdGhlbiQkMSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZnVsZmlsbChwcm9taXNlLCBtYXliZVRoZW5hYmxlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiByZXNvbHZlKHByb21pc2UsIHZhbHVlKSB7CiAgICAgICAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHsKICAgICAgICAgICAgcmVqZWN0KHByb21pc2UsIHNlbGZGdWxmaWxsbWVudCgpKTsKICAgICAgICAgIH0gZWxzZSBpZiAob2JqZWN0T3JGdW5jdGlvbih2YWx1ZSkpIHsKICAgICAgICAgICAgaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSwgZ2V0VGhlbih2YWx1ZSkpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSkgewogICAgICAgICAgaWYgKHByb21pc2UuX29uZXJyb3IpIHsKICAgICAgICAgICAgcHJvbWlzZS5fb25lcnJvcihwcm9taXNlLl9yZXN1bHQpOwogICAgICAgICAgfQogICAgICAgICAgcHVibGlzaChwcm9taXNlKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbChwcm9taXNlLCB2YWx1ZSkgewogICAgICAgICAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIHByb21pc2UuX3Jlc3VsdCA9IHZhbHVlOwogICAgICAgICAgcHJvbWlzZS5fc3RhdGUgPSBGVUxGSUxMRUQ7CiAgICAgICAgICBpZiAocHJvbWlzZS5fc3Vic2NyaWJlcnMubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgICAgIGFzYXAocHVibGlzaCwgcHJvbWlzZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHJlamVjdChwcm9taXNlLCByZWFzb24pIHsKICAgICAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICBwcm9taXNlLl9zdGF0ZSA9IFJFSkVDVEVEOwogICAgICAgICAgcHJvbWlzZS5fcmVzdWx0ID0gcmVhc29uOwogICAgICAgICAgYXNhcChwdWJsaXNoUmVqZWN0aW9uLCBwcm9taXNlKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gc3Vic2NyaWJlKHBhcmVudCwgY2hpbGQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKSB7CiAgICAgICAgICB2YXIgX3N1YnNjcmliZXJzID0gcGFyZW50Ll9zdWJzY3JpYmVyczsKICAgICAgICAgIHZhciBsZW5ndGggPSBfc3Vic2NyaWJlcnMubGVuZ3RoOwogICAgICAgICAgcGFyZW50Ll9vbmVycm9yID0gbnVsbDsKICAgICAgICAgIF9zdWJzY3JpYmVyc1tsZW5ndGhdID0gY2hpbGQ7CiAgICAgICAgICBfc3Vic2NyaWJlcnNbbGVuZ3RoICsgRlVMRklMTEVEXSA9IG9uRnVsZmlsbG1lbnQ7CiAgICAgICAgICBfc3Vic2NyaWJlcnNbbGVuZ3RoICsgUkVKRUNURURdID0gb25SZWplY3Rpb247CiAgICAgICAgICBpZiAobGVuZ3RoID09PSAwICYmIHBhcmVudC5fc3RhdGUpIHsKICAgICAgICAgICAgYXNhcChwdWJsaXNoLCBwYXJlbnQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBwdWJsaXNoKHByb21pc2UpIHsKICAgICAgICAgIHZhciBzdWJzY3JpYmVycyA9IHByb21pc2UuX3N1YnNjcmliZXJzOwogICAgICAgICAgdmFyIHNldHRsZWQgPSBwcm9taXNlLl9zdGF0ZTsKICAgICAgICAgIGlmIChzdWJzY3JpYmVycy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgdmFyIGNoaWxkID0gdm9pZCAwLAogICAgICAgICAgICBjYWxsYmFjayA9IHZvaWQgMCwKICAgICAgICAgICAgZGV0YWlsID0gcHJvbWlzZS5fcmVzdWx0OwogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJzY3JpYmVycy5sZW5ndGg7IGkgKz0gMykgewogICAgICAgICAgICBjaGlsZCA9IHN1YnNjcmliZXJzW2ldOwogICAgICAgICAgICBjYWxsYmFjayA9IHN1YnNjcmliZXJzW2kgKyBzZXR0bGVkXTsKICAgICAgICAgICAgaWYgKGNoaWxkKSB7CiAgICAgICAgICAgICAgaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGNhbGxiYWNrKGRldGFpbCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCA9IDA7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHRyeUNhdGNoKGNhbGxiYWNrLCBkZXRhaWwpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhkZXRhaWwpOwogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICBUUllfQ0FUQ0hfRVJST1IuZXJyb3IgPSBlOwogICAgICAgICAgICByZXR1cm4gVFJZX0NBVENIX0VSUk9SOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBwcm9taXNlLCBjYWxsYmFjaywgZGV0YWlsKSB7CiAgICAgICAgICB2YXIgaGFzQ2FsbGJhY2sgPSBpc0Z1bmN0aW9uKGNhbGxiYWNrKSwKICAgICAgICAgICAgdmFsdWUgPSB2b2lkIDAsCiAgICAgICAgICAgIGVycm9yID0gdm9pZCAwLAogICAgICAgICAgICBzdWNjZWVkZWQgPSB2b2lkIDAsCiAgICAgICAgICAgIGZhaWxlZCA9IHZvaWQgMDsKICAgICAgICAgIGlmIChoYXNDYWxsYmFjaykgewogICAgICAgICAgICB2YWx1ZSA9IHRyeUNhdGNoKGNhbGxiYWNrLCBkZXRhaWwpOwogICAgICAgICAgICBpZiAodmFsdWUgPT09IFRSWV9DQVRDSF9FUlJPUikgewogICAgICAgICAgICAgIGZhaWxlZCA9IHRydWU7CiAgICAgICAgICAgICAgZXJyb3IgPSB2YWx1ZS5lcnJvcjsKICAgICAgICAgICAgICB2YWx1ZS5lcnJvciA9IG51bGw7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgc3VjY2VlZGVkID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHsKICAgICAgICAgICAgICByZWplY3QocHJvbWlzZSwgY2Fubm90UmV0dXJuT3duKCkpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFsdWUgPSBkZXRhaWw7CiAgICAgICAgICAgIHN1Y2NlZWRlZCA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IFBFTkRJTkcpIHt9IGVsc2UgaWYgKGhhc0NhbGxiYWNrICYmIHN1Y2NlZWRlZCkgewogICAgICAgICAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTsKICAgICAgICAgIH0gZWxzZSBpZiAoZmFpbGVkKSB7CiAgICAgICAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7CiAgICAgICAgICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IEZVTEZJTExFRCkgewogICAgICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTsKICAgICAgICAgIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gUkVKRUNURUQpIHsKICAgICAgICAgICAgcmVqZWN0KHByb21pc2UsIHZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZVByb21pc2UocHJvbWlzZSwgcmVzb2x2ZXIpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJlc29sdmVyKGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHZhbHVlKSB7CiAgICAgICAgICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7CiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7CiAgICAgICAgICAgICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICByZWplY3QocHJvbWlzZSwgZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHZhciBpZCA9IDA7CiAgICAgICAgZnVuY3Rpb24gbmV4dElkKCkgewogICAgICAgICAgcmV0dXJuIGlkKys7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIG1ha2VQcm9taXNlKHByb21pc2UpIHsKICAgICAgICAgIHByb21pc2VbUFJPTUlTRV9JRF0gPSBpZCsrOwogICAgICAgICAgcHJvbWlzZS5fc3RhdGUgPSB1bmRlZmluZWQ7CiAgICAgICAgICBwcm9taXNlLl9yZXN1bHQgPSB1bmRlZmluZWQ7CiAgICAgICAgICBwcm9taXNlLl9zdWJzY3JpYmVycyA9IFtdOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiB2YWxpZGF0aW9uRXJyb3IoKSB7CiAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCJBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXkiKTsKICAgICAgICB9CiAgICAgICAgdmFyIEVudW1lcmF0b3IgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBmdW5jdGlvbiBFbnVtZXJhdG9yKENvbnN0cnVjdG9yLCBpbnB1dCkgewogICAgICAgICAgICB0aGlzLl9pbnN0YW5jZUNvbnN0cnVjdG9yID0gQ29uc3RydWN0b3I7CiAgICAgICAgICAgIHRoaXMucHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wKTsKICAgICAgICAgICAgaWYgKCF0aGlzLnByb21pc2VbUFJPTUlTRV9JRF0pIHsKICAgICAgICAgICAgICBtYWtlUHJvbWlzZSh0aGlzLnByb21pc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpc0FycmF5KGlucHV0KSkgewogICAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gaW5wdXQubGVuZ3RoOwogICAgICAgICAgICAgIHRoaXMuX3JlbWFpbmluZyA9IGlucHV0Lmxlbmd0aDsKICAgICAgICAgICAgICB0aGlzLl9yZXN1bHQgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpOwogICAgICAgICAgICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gdGhpcy5sZW5ndGggfHwgMDsKICAgICAgICAgICAgICAgIHRoaXMuX2VudW1lcmF0ZShpbnB1dCk7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcmVtYWluaW5nID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIGZ1bGZpbGwodGhpcy5wcm9taXNlLCB0aGlzLl9yZXN1bHQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZWplY3QodGhpcy5wcm9taXNlLCB2YWxpZGF0aW9uRXJyb3IoKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIEVudW1lcmF0b3IucHJvdG90eXBlLl9lbnVtZXJhdGUgPSBmdW5jdGlvbiBfZW51bWVyYXRlKGlucHV0KSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyB0aGlzLl9zdGF0ZSA9PT0gUEVORElORyAmJiBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICB0aGlzLl9lYWNoRW50cnkoaW5wdXRbaV0sIGkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgICAgRW51bWVyYXRvci5wcm90b3R5cGUuX2VhY2hFbnRyeSA9IGZ1bmN0aW9uIF9lYWNoRW50cnkoZW50cnksIGkpIHsKICAgICAgICAgICAgdmFyIGMgPSB0aGlzLl9pbnN0YW5jZUNvbnN0cnVjdG9yOwogICAgICAgICAgICB2YXIgcmVzb2x2ZSQkMSA9IGMucmVzb2x2ZTsKICAgICAgICAgICAgaWYgKHJlc29sdmUkJDEgPT09IHJlc29sdmUkMSkgewogICAgICAgICAgICAgIHZhciBfdGhlbiA9IGdldFRoZW4oZW50cnkpOwogICAgICAgICAgICAgIGlmIChfdGhlbiA9PT0gdGhlbiAmJiBlbnRyeS5fc3RhdGUgIT09IFBFTkRJTkcpIHsKICAgICAgICAgICAgICAgIHRoaXMuX3NldHRsZWRBdChlbnRyeS5fc3RhdGUsIGksIGVudHJ5Ll9yZXN1bHQpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIF90aGVuICE9PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICAgICAgICB0aGlzLl9yZW1haW5pbmctLTsKICAgICAgICAgICAgICAgIHRoaXMuX3Jlc3VsdFtpXSA9IGVudHJ5OwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gUHJvbWlzZSQxKSB7CiAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBjKG5vb3ApOwogICAgICAgICAgICAgICAgaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCBlbnRyeSwgX3RoZW4pOwogICAgICAgICAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHByb21pc2UsIGkpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLl93aWxsU2V0dGxlQXQobmV3IGMoZnVuY3Rpb24gKHJlc29sdmUkJDEpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUkJDEoZW50cnkpOwogICAgICAgICAgICAgICAgfSksIGkpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLl93aWxsU2V0dGxlQXQocmVzb2x2ZSQkMShlbnRyeSksIGkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgICAgRW51bWVyYXRvci5wcm90b3R5cGUuX3NldHRsZWRBdCA9IGZ1bmN0aW9uIF9zZXR0bGVkQXQoc3RhdGUsIGksIHZhbHVlKSB7CiAgICAgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5wcm9taXNlOwogICAgICAgICAgICBpZiAocHJvbWlzZS5fc3RhdGUgPT09IFBFTkRJTkcpIHsKICAgICAgICAgICAgICB0aGlzLl9yZW1haW5pbmctLTsKICAgICAgICAgICAgICBpZiAoc3RhdGUgPT09IFJFSkVDVEVEKSB7CiAgICAgICAgICAgICAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLl9yZXN1bHRbaV0gPSB2YWx1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRoaXMuX3JlbWFpbmluZyA9PT0gMCkgewogICAgICAgICAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdGhpcy5fcmVzdWx0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICAgIEVudW1lcmF0b3IucHJvdG90eXBlLl93aWxsU2V0dGxlQXQgPSBmdW5jdGlvbiBfd2lsbFNldHRsZUF0KHByb21pc2UsIGkpIHsKICAgICAgICAgICAgdmFyIGVudW1lcmF0b3IgPSB0aGlzOwogICAgICAgICAgICBzdWJzY3JpYmUocHJvbWlzZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICByZXR1cm4gZW51bWVyYXRvci5fc2V0dGxlZEF0KEZVTEZJTExFRCwgaSwgdmFsdWUpOwogICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVudW1lcmF0b3IuX3NldHRsZWRBdChSRUpFQ1RFRCwgaSwgcmVhc29uKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9OwogICAgICAgICAgcmV0dXJuIEVudW1lcmF0b3I7CiAgICAgICAgfSgpOwogICAgICAgIGZ1bmN0aW9uIGFsbChlbnRyaWVzKSB7CiAgICAgICAgICByZXR1cm4gbmV3IEVudW1lcmF0b3IodGhpcywgZW50cmllcykucHJvbWlzZTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gcmFjZShlbnRyaWVzKSB7CiAgICAgICAgICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzOwogICAgICAgICAgaWYgKCFpc0FycmF5KGVudHJpZXMpKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IoZnVuY3Rpb24gKF8sIHJlamVjdCkgewogICAgICAgICAgICAgIHJldHVybiByZWplY3QobmV3IFR5cGVFcnJvcigiWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byByYWNlLiIpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gZW50cmllcy5sZW5ndGg7CiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgQ29uc3RydWN0b3IucmVzb2x2ZShlbnRyaWVzW2ldKS50aGVuKHJlc29sdmUsIHJlamVjdCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gcmVqZWN0JDEocmVhc29uKSB7CiAgICAgICAgICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzOwogICAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7CiAgICAgICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTsKICAgICAgICAgIHJldHVybiBwcm9taXNlOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBuZWVkc1Jlc29sdmVyKCkgewogICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvciIpOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBuZWVkc05ldygpIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Byb21pc2UnOiBQbGVhc2UgdXNlIHRoZSAnbmV3JyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLiIpOwogICAgICAgIH0KICAgICAgICB2YXIgUHJvbWlzZSQxID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgZnVuY3Rpb24gUHJvbWlzZShyZXNvbHZlcikgewogICAgICAgICAgICB0aGlzW1BST01JU0VfSURdID0gbmV4dElkKCk7CiAgICAgICAgICAgIHRoaXMuX3Jlc3VsdCA9IHRoaXMuX3N0YXRlID0gdW5kZWZpbmVkOwogICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmVycyA9IFtdOwogICAgICAgICAgICBpZiAobm9vcCAhPT0gcmVzb2x2ZXIpIHsKICAgICAgICAgICAgICB0eXBlb2YgcmVzb2x2ZXIgIT09ICJmdW5jdGlvbiIgJiYgbmVlZHNSZXNvbHZlcigpOwogICAgICAgICAgICAgIHRoaXMgaW5zdGFuY2VvZiBQcm9taXNlID8gaW5pdGlhbGl6ZVByb21pc2UodGhpcywgcmVzb2x2ZXIpIDogbmVlZHNOZXcoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2ggPSBmdW5jdGlvbiBfY2F0Y2gob25SZWplY3Rpb24pIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGlvbik7CiAgICAgICAgICB9OwogICAgICAgICAgUHJvbWlzZS5wcm90b3R5cGUuZmluYWxseSA9IGZ1bmN0aW9uIF9maW5hbGx5KGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHZhciBwcm9taXNlID0gdGhpczsKICAgICAgICAgICAgdmFyIGNvbnN0cnVjdG9yID0gcHJvbWlzZS5jb25zdHJ1Y3RvcjsKICAgICAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICByZXR1cm4gY29uc3RydWN0b3IucmVzb2x2ZShjYWxsYmFjaygpKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdGhyb3cgcmVhc29uOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH07CiAgICAgICAgICByZXR1cm4gUHJvbWlzZTsKICAgICAgICB9KCk7CiAgICAgICAgUHJvbWlzZSQxLnByb3RvdHlwZS50aGVuID0gdGhlbjsKICAgICAgICBQcm9taXNlJDEuYWxsID0gYWxsOwogICAgICAgIFByb21pc2UkMS5yYWNlID0gcmFjZTsKICAgICAgICBQcm9taXNlJDEucmVzb2x2ZSA9IHJlc29sdmUkMTsKICAgICAgICBQcm9taXNlJDEucmVqZWN0ID0gcmVqZWN0JDE7CiAgICAgICAgUHJvbWlzZSQxLl9zZXRTY2hlZHVsZXIgPSBzZXRTY2hlZHVsZXI7CiAgICAgICAgUHJvbWlzZSQxLl9zZXRBc2FwID0gc2V0QXNhcDsKICAgICAgICBQcm9taXNlJDEuX2FzYXAgPSBhc2FwOwogICAgICAgIGZ1bmN0aW9uIHBvbHlmaWxsKCkgewogICAgICAgICAgdmFyIGxvY2FsID0gdm9pZCAwOwogICAgICAgICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgIGxvY2FsID0gZ2xvYmFsOwogICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgbG9jYWwgPSBzZWxmOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBsb2NhbCA9IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoInBvbHlmaWxsIGZhaWxlZCBiZWNhdXNlIGdsb2JhbCBvYmplY3QgaXMgdW5hdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgUCA9IGxvY2FsLlByb21pc2U7CiAgICAgICAgICBpZiAoUCkgewogICAgICAgICAgICB2YXIgcHJvbWlzZVRvU3RyaW5nID0gbnVsbDsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBwcm9taXNlVG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUC5yZXNvbHZlKCkpOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICAgICAgICBpZiAocHJvbWlzZVRvU3RyaW5nID09PSAiW29iamVjdCBQcm9taXNlXSIgJiYgIVAuY2FzdCkgewogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgbG9jYWwuUHJvbWlzZSA9IFByb21pc2UkMTsKICAgICAgICB9CiAgICAgICAgUHJvbWlzZSQxLnBvbHlmaWxsID0gcG9seWZpbGw7CiAgICAgICAgUHJvbWlzZSQxLlByb21pc2UgPSBQcm9taXNlJDE7CiAgICAgICAgcmV0dXJuIFByb21pc2UkMTsKICAgICAgfSk7CiAgICB9KS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oOSksIF9fd2VicGFja19yZXF1aXJlX18oNCkpOwogIH0sIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICJ1c2Ugc3RyaWN0IjsKCiAgICBtb2R1bGUuZXhwb3J0cyA9IGlubGluZUhlYWRlcnM7CiAgICB2YXIgZW5jb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NSk7CiAgICBmdW5jdGlvbiBpbmxpbmVIZWFkZXJzKHVybCwgaGVhZGVycykgewogICAgICBpZiAoL1w/Ly50ZXN0KHVybCkpIHsKICAgICAgICB1cmwgKz0gIiYiOwogICAgICB9IGVsc2UgewogICAgICAgIHVybCArPSAiPyI7CiAgICAgIH0KICAgICAgcmV0dXJuIHVybCArIGVuY29kZShoZWFkZXJzKTsKICAgIH0KICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgdmFyIHN0cmluZ2lmeVByaW1pdGl2ZSA9IGZ1bmN0aW9uICh2KSB7CiAgICAgIHN3aXRjaCAodHlwZW9mIHYpIHsKICAgICAgICBjYXNlICJzdHJpbmciOgogICAgICAgICAgcmV0dXJuIHY7CiAgICAgICAgY2FzZSAiYm9vbGVhbiI6CiAgICAgICAgICByZXR1cm4gdiA/ICJ0cnVlIiA6ICJmYWxzZSI7CiAgICAgICAgY2FzZSAibnVtYmVyIjoKICAgICAgICAgIHJldHVybiBpc0Zpbml0ZSh2KSA/IHYgOiAiIjsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9OwogICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqLCBzZXAsIGVxLCBuYW1lKSB7CiAgICAgIHNlcCA9IHNlcCB8fCAiJiI7CiAgICAgIGVxID0gZXEgfHwgIj0iOwogICAgICBpZiAob2JqID09PSBudWxsKSB7CiAgICAgICAgb2JqID0gdW5kZWZpbmVkOwogICAgICB9CiAgICAgIGlmICh0eXBlb2Ygb2JqID09PSAib2JqZWN0IikgewogICAgICAgIHJldHVybiBtYXAob2JqZWN0S2V5cyhvYmopLCBmdW5jdGlvbiAoaykgewogICAgICAgICAgdmFyIGtzID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShrKSkgKyBlcTsKICAgICAgICAgIGlmIChpc0FycmF5KG9ialtrXSkpIHsKICAgICAgICAgICAgcmV0dXJuIG1hcChvYmpba10sIGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7CiAgICAgICAgICAgIH0pLmpvaW4oc2VwKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuam9pbihzZXApOwogICAgICB9CiAgICAgIGlmICghbmFtZSkgcmV0dXJuICIiOwogICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShuYW1lKSkgKyBlcSArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqKSk7CiAgICB9OwogICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uICh4cykgewogICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHhzKSA9PT0gIltvYmplY3QgQXJyYXldIjsKICAgIH07CiAgICBmdW5jdGlvbiBtYXAoeHMsIGYpIHsKICAgICAgaWYgKHhzLm1hcCkgcmV0dXJuIHhzLm1hcChmKTsKICAgICAgdmFyIHJlcyA9IFtdOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgcmVzLnB1c2goZih4c1tpXSwgaSkpOwogICAgICB9CiAgICAgIHJldHVybiByZXM7CiAgICB9CiAgICB2YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHsKICAgICAgdmFyIHJlcyA9IFtdOwogICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHJlcy5wdXNoKGtleSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlczsKICAgIH07CiAgfSwgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgInVzZSBzdHJpY3QiOwoKICAgIG1vZHVsZS5leHBvcnRzID0ganNvbnBSZXF1ZXN0OwogICAgdmFyIGVycm9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7CiAgICB2YXIgSlNPTlBDb3VudGVyID0gMDsKICAgIGZ1bmN0aW9uIGpzb25wUmVxdWVzdCh1cmwsIG9wdHMsIGNiKSB7CiAgICAgIGlmIChvcHRzLm1ldGhvZCAhPT0gIkdFVCIpIHsKICAgICAgICBjYihuZXcgRXJyb3IoIk1ldGhvZCAiICsgb3B0cy5tZXRob2QgKyAiICIgKyB1cmwgKyAiIGlzIG5vdCBzdXBwb3J0ZWQgYnkgSlNPTlAuIikpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBvcHRzLmRlYnVnKCJKU09OUDogc3RhcnQiKTsKICAgICAgdmFyIGNiQ2FsbGVkID0gZmFsc2U7CiAgICAgIHZhciB0aW1lZE91dCA9IGZhbHNlOwogICAgICBKU09OUENvdW50ZXIgKz0gMTsKICAgICAgdmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdOwogICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7CiAgICAgIHZhciBjYk5hbWUgPSAiYWxnb2xpYUpTT05QXyIgKyBKU09OUENvdW50ZXI7CiAgICAgIHZhciBkb25lID0gZmFsc2U7CiAgICAgIHdpbmRvd1tjYk5hbWVdID0gZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZW1vdmVHbG9iYWxzKCk7CiAgICAgICAgaWYgKHRpbWVkT3V0KSB7CiAgICAgICAgICBvcHRzLmRlYnVnKCJKU09OUDogTGF0ZSBhbnN3ZXIsIGlnbm9yaW5nIik7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGNiQ2FsbGVkID0gdHJ1ZTsKICAgICAgICBjbGVhbigpOwogICAgICAgIGNiKG51bGwsIHsKICAgICAgICAgIGJvZHk6IGRhdGEsCiAgICAgICAgICByZXNwb25zZVRleHQ6IEpTT04uc3RyaW5naWZ5KGRhdGEpCiAgICAgICAgfSk7CiAgICAgIH07CiAgICAgIHVybCArPSAiJmNhbGxiYWNrPSIgKyBjYk5hbWU7CiAgICAgIGlmIChvcHRzLmpzb25Cb2R5ICYmIG9wdHMuanNvbkJvZHkucGFyYW1zKSB7CiAgICAgICAgdXJsICs9ICImIiArIG9wdHMuanNvbkJvZHkucGFyYW1zOwogICAgICB9CiAgICAgIHZhciBvbnRpbWVvdXQgPSBzZXRUaW1lb3V0KHRpbWVvdXQsIG9wdHMudGltZW91dHMuY29tcGxldGUpOwogICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gcmVhZHlzdGF0ZWNoYW5nZTsKICAgICAgc2NyaXB0Lm9ubG9hZCA9IHN1Y2Nlc3M7CiAgICAgIHNjcmlwdC5vbmVycm9yID0gZXJyb3I7CiAgICAgIHNjcmlwdC5hc3luYyA9IHRydWU7CiAgICAgIHNjcmlwdC5kZWZlciA9IHRydWU7CiAgICAgIHNjcmlwdC5zcmMgPSB1cmw7CiAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTsKICAgICAgZnVuY3Rpb24gc3VjY2VzcygpIHsKICAgICAgICBvcHRzLmRlYnVnKCJKU09OUDogc3VjY2VzcyIpOwogICAgICAgIGlmIChkb25lIHx8IHRpbWVkT3V0KSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGRvbmUgPSB0cnVlOwogICAgICAgIGlmICghY2JDYWxsZWQpIHsKICAgICAgICAgIG9wdHMuZGVidWcoIkpTT05QOiBGYWlsLiBTY3JpcHQgbG9hZGVkIGJ1dCBkaWQgbm90IGNhbGwgdGhlIGNhbGxiYWNrIik7CiAgICAgICAgICBjbGVhbigpOwogICAgICAgICAgY2IobmV3IGVycm9ycy5KU09OUFNjcmlwdEZhaWwoKSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIHJlYWR5c3RhdGVjaGFuZ2UoKSB7CiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gImxvYWRlZCIgfHwgdGhpcy5yZWFkeVN0YXRlID09PSAiY29tcGxldGUiKSB7CiAgICAgICAgICBzdWNjZXNzKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIGNsZWFuKCkgewogICAgICAgIGNsZWFyVGltZW91dChvbnRpbWVvdXQpOwogICAgICAgIHNjcmlwdC5vbmxvYWQgPSBudWxsOwogICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsOwogICAgICAgIHNjcmlwdC5vbmVycm9yID0gbnVsbDsKICAgICAgICBoZWFkLnJlbW92ZUNoaWxkKHNjcmlwdCk7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gcmVtb3ZlR2xvYmFscygpIHsKICAgICAgICB0cnkgewogICAgICAgICAgZGVsZXRlIHdpbmRvd1tjYk5hbWVdOwogICAgICAgICAgZGVsZXRlIHdpbmRvd1tjYk5hbWUgKyAiX2xvYWRlZCJdOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHdpbmRvd1tjYk5hbWVdID0gd2luZG93W2NiTmFtZSArICJfbG9hZGVkIl0gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIHRpbWVvdXQoKSB7CiAgICAgICAgb3B0cy5kZWJ1ZygiSlNPTlA6IFNjcmlwdCB0aW1lb3V0Iik7CiAgICAgICAgdGltZWRPdXQgPSB0cnVlOwogICAgICAgIGNsZWFuKCk7CiAgICAgICAgY2IobmV3IGVycm9ycy5SZXF1ZXN0VGltZW91dCgpKTsKICAgICAgfQogICAgICBmdW5jdGlvbiBlcnJvcigpIHsKICAgICAgICBvcHRzLmRlYnVnKCJKU09OUDogU2NyaXB0IGVycm9yIik7CiAgICAgICAgaWYgKGRvbmUgfHwgdGltZWRPdXQpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgY2xlYW4oKTsKICAgICAgICBjYihuZXcgZXJyb3JzLkpTT05QU2NyaXB0RXJyb3IoKSk7CiAgICAgIH0KICAgIH0KICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZVBsYWNlc0NsaWVudDsKICAgIHZhciBidWlsZFNlYXJjaE1ldGhvZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpOwogICAgZnVuY3Rpb24gY3JlYXRlUGxhY2VzQ2xpZW50KGFsZ29saWFzZWFyY2gpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIHBsYWNlcyhhcHBJRCwgYXBpS2V5LCBvcHRzKSB7CiAgICAgICAgdmFyIGNsb25lRGVlcCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7CiAgICAgICAgb3B0cyA9IG9wdHMgJiYgY2xvbmVEZWVwKG9wdHMpIHx8IHt9OwogICAgICAgIG9wdHMuaG9zdHMgPSBvcHRzLmhvc3RzIHx8IFsicGxhY2VzLWRzbi5hbGdvbGlhLm5ldCIsICJwbGFjZXMtMS5hbGdvbGlhbmV0LmNvbSIsICJwbGFjZXMtMi5hbGdvbGlhbmV0LmNvbSIsICJwbGFjZXMtMy5hbGdvbGlhbmV0LmNvbSJdOwogICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwIHx8IHR5cGVvZiBhcHBJRCA9PT0gIm9iamVjdCIgfHwgYXBwSUQgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgYXBwSUQgPSAiIjsKICAgICAgICAgIGFwaUtleSA9ICIiOwogICAgICAgICAgb3B0cy5fYWxsb3dFbXB0eUNyZWRlbnRpYWxzID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgdmFyIGNsaWVudCA9IGFsZ29saWFzZWFyY2goYXBwSUQsIGFwaUtleSwgb3B0cyk7CiAgICAgICAgdmFyIGluZGV4ID0gY2xpZW50LmluaXRJbmRleCgicGxhY2VzIik7CiAgICAgICAgaW5kZXguc2VhcmNoID0gYnVpbGRTZWFyY2hNZXRob2QoInF1ZXJ5IiwgIi8xL3BsYWNlcy9xdWVyeSIpOwogICAgICAgIGluZGV4LmdldE9iamVjdCA9IGZ1bmN0aW9uIChvYmplY3RJRCwgY2FsbGJhY2spIHsKICAgICAgICAgIHJldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7CiAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgIHVybDogIi8xL3BsYWNlcy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KG9iamVjdElEKSwKICAgICAgICAgICAgaG9zdFR5cGU6ICJyZWFkIiwKICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrCiAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHJldHVybiBpbmRleDsKICAgICAgfTsKICAgIH0KICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgbW9kdWxlLmV4cG9ydHMgPSAiMy4zMC4wIjsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKTsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgdmFyIHplcHRvID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7CiAgICB2YXIgRE9NID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKICAgIERPTS5lbGVtZW50ID0gemVwdG87CiAgICB2YXIgXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7CiAgICBfLmlzQXJyYXkgPSB6ZXB0by5pc0FycmF5OwogICAgXy5pc0Z1bmN0aW9uID0gemVwdG8uaXNGdW5jdGlvbjsKICAgIF8uaXNPYmplY3QgPSB6ZXB0by5pc1BsYWluT2JqZWN0OwogICAgXy5iaW5kID0gemVwdG8ucHJveHk7CiAgICBfLmVhY2ggPSBmdW5jdGlvbiAoY29sbGVjdGlvbiwgY2IpIHsKICAgICAgemVwdG8uZWFjaChjb2xsZWN0aW9uLCByZXZlcnNlQXJncyk7CiAgICAgIGZ1bmN0aW9uIHJldmVyc2VBcmdzKGluZGV4LCB2YWx1ZSkgewogICAgICAgIHJldHVybiBjYih2YWx1ZSwgaW5kZXgpOwogICAgICB9CiAgICB9OwogICAgXy5tYXAgPSB6ZXB0by5tYXA7CiAgICBfLm1peGluID0gemVwdG8uZXh0ZW5kOwogICAgXy5FdmVudCA9IHplcHRvLkV2ZW50OwogICAgdmFyIHR5cGVhaGVhZEtleSA9ICJhYUF1dG9jb21wbGV0ZSI7CiAgICB2YXIgVHlwZWFoZWFkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7CiAgICB2YXIgRXZlbnRCdXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTsKICAgIGZ1bmN0aW9uIGF1dG9jb21wbGV0ZShzZWxlY3Rvciwgb3B0aW9ucywgZGF0YXNldHMsIHR5cGVhaGVhZE9iamVjdCkgewogICAgICBkYXRhc2V0cyA9IF8uaXNBcnJheShkYXRhc2V0cykgPyBkYXRhc2V0cyA6IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTsKICAgICAgdmFyIGlucHV0cyA9IHplcHRvKHNlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uIChpLCBpbnB1dCkgewogICAgICAgIHZhciAkaW5wdXQgPSB6ZXB0byhpbnB1dCk7CiAgICAgICAgdmFyIGV2ZW50QnVzID0gbmV3IEV2ZW50QnVzKHsKICAgICAgICAgIGVsOiAkaW5wdXQKICAgICAgICB9KTsKICAgICAgICB2YXIgdHlwZWFoZWFkID0gdHlwZWFoZWFkT2JqZWN0IHx8IG5ldyBUeXBlYWhlYWQoewogICAgICAgICAgaW5wdXQ6ICRpbnB1dCwKICAgICAgICAgIGV2ZW50QnVzOiBldmVudEJ1cywKICAgICAgICAgIGRyb3Bkb3duTWVudUNvbnRhaW5lcjogb3B0aW9ucy5kcm9wZG93bk1lbnVDb250YWluZXIsCiAgICAgICAgICBoaW50OiBvcHRpb25zLmhpbnQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiAhIW9wdGlvbnMuaGludCwKICAgICAgICAgIG1pbkxlbmd0aDogb3B0aW9ucy5taW5MZW5ndGgsCiAgICAgICAgICBhdXRvc2VsZWN0OiBvcHRpb25zLmF1dG9zZWxlY3QsCiAgICAgICAgICBhdXRvc2VsZWN0T25CbHVyOiBvcHRpb25zLmF1dG9zZWxlY3RPbkJsdXIsCiAgICAgICAgICB0YWJBdXRvY29tcGxldGU6IG9wdGlvbnMudGFiQXV0b2NvbXBsZXRlLAogICAgICAgICAgb3Blbk9uRm9jdXM6IG9wdGlvbnMub3Blbk9uRm9jdXMsCiAgICAgICAgICB0ZW1wbGF0ZXM6IG9wdGlvbnMudGVtcGxhdGVzLAogICAgICAgICAgZGVidWc6IG9wdGlvbnMuZGVidWcsCiAgICAgICAgICBjbGVhck9uU2VsZWN0ZWQ6IG9wdGlvbnMuY2xlYXJPblNlbGVjdGVkLAogICAgICAgICAgY3NzQ2xhc3Nlczogb3B0aW9ucy5jc3NDbGFzc2VzLAogICAgICAgICAgZGF0YXNldHM6IGRhdGFzZXRzLAogICAgICAgICAga2V5Ym9hcmRTaG9ydGN1dHM6IG9wdGlvbnMua2V5Ym9hcmRTaG9ydGN1dHMsCiAgICAgICAgICBhcHBlbmRUbzogb3B0aW9ucy5hcHBlbmRUbywKICAgICAgICAgIGF1dG9XaWR0aDogb3B0aW9ucy5hdXRvV2lkdGgsCiAgICAgICAgICBhcmlhTGFiZWw6IG9wdGlvbnMuYXJpYUxhYmVsIHx8IGlucHV0LmdldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIpCiAgICAgICAgfSk7CiAgICAgICAgJGlucHV0LmRhdGEodHlwZWFoZWFkS2V5LCB0eXBlYWhlYWQpOwogICAgICB9KTsKICAgICAgaW5wdXRzLmF1dG9jb21wbGV0ZSA9IHt9OwogICAgICBfLmVhY2goWyJvcGVuIiwgImNsb3NlIiwgImdldFZhbCIsICJzZXRWYWwiLCAiZGVzdHJveSIsICJnZXRXcmFwcGVyIl0sIGZ1bmN0aW9uIChtZXRob2QpIHsKICAgICAgICBpbnB1dHMuYXV0b2NvbXBsZXRlW21ldGhvZF0gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgbWV0aG9kQXJndW1lbnRzID0gYXJndW1lbnRzOwogICAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICAgIGlucHV0cy5lYWNoKGZ1bmN0aW9uIChqLCBpbnB1dCkgewogICAgICAgICAgICB2YXIgdHlwZWFoZWFkID0gemVwdG8oaW5wdXQpLmRhdGEodHlwZWFoZWFkS2V5KTsKICAgICAgICAgICAgcmVzdWx0ID0gdHlwZWFoZWFkW21ldGhvZF0uYXBwbHkodHlwZWFoZWFkLCBtZXRob2RBcmd1bWVudHMpOwogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH07CiAgICAgIH0pOwogICAgICByZXR1cm4gaW5wdXRzOwogICAgfQogICAgYXV0b2NvbXBsZXRlLnNvdXJjZXMgPSBUeXBlYWhlYWQuc291cmNlczsKICAgIGF1dG9jb21wbGV0ZS5lc2NhcGVIaWdobGlnaHRlZFN0cmluZyA9IF8uZXNjYXBlSGlnaGxpZ2h0ZWRTdHJpbmc7CiAgICB2YXIgd2FzQXV0b2NvbXBsZXRlU2V0ID0gImF1dG9jb21wbGV0ZSIgaW4gd2luZG93OwogICAgdmFyIG9sZEF1dG9jb21wbGV0ZSA9IHdpbmRvdy5hdXRvY29tcGxldGU7CiAgICBhdXRvY29tcGxldGUubm9Db25mbGljdCA9IGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7CiAgICAgIGlmICh3YXNBdXRvY29tcGxldGVTZXQpIHsKICAgICAgICB3aW5kb3cuYXV0b2NvbXBsZXRlID0gb2xkQXV0b2NvbXBsZXRlOwogICAgICB9IGVsc2UgewogICAgICAgIGRlbGV0ZSB3aW5kb3cuYXV0b2NvbXBsZXRlOwogICAgICB9CiAgICAgIHJldHVybiBhdXRvY29tcGxldGU7CiAgICB9OwogICAgbW9kdWxlLmV4cG9ydHMgPSBhdXRvY29tcGxldGU7CiAgfSwgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgInVzZSBzdHJpY3QiOwoKICAgIHZhciBhdHRyc0tleSA9ICJhYUF0dHJzIjsKICAgIHZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTsKICAgIHZhciBET00gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpOwogICAgdmFyIEV2ZW50QnVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7CiAgICB2YXIgSW5wdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTsKICAgIHZhciBEcm9wZG93biA9IF9fd2VicGFja19yZXF1aXJlX18oNTkpOwogICAgdmFyIGh0bWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTsKICAgIHZhciBjc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTsKICAgIGZ1bmN0aW9uIFR5cGVhaGVhZChvKSB7CiAgICAgIHZhciAkbWVudTsKICAgICAgdmFyICRoaW50OwogICAgICBvID0gbyB8fCB7fTsKICAgICAgaWYgKCFvLmlucHV0KSB7CiAgICAgICAgXy5lcnJvcigibWlzc2luZyBpbnB1dCIpOwogICAgICB9CiAgICAgIHRoaXMuaXNBY3RpdmF0ZWQgPSBmYWxzZTsKICAgICAgdGhpcy5kZWJ1ZyA9ICEhby5kZWJ1ZzsKICAgICAgdGhpcy5hdXRvc2VsZWN0ID0gISFvLmF1dG9zZWxlY3Q7CiAgICAgIHRoaXMuYXV0b3NlbGVjdE9uQmx1ciA9ICEhby5hdXRvc2VsZWN0T25CbHVyOwogICAgICB0aGlzLm9wZW5PbkZvY3VzID0gISFvLm9wZW5PbkZvY3VzOwogICAgICB0aGlzLm1pbkxlbmd0aCA9IF8uaXNOdW1iZXIoby5taW5MZW5ndGgpID8gby5taW5MZW5ndGggOiAxOwogICAgICB0aGlzLmF1dG9XaWR0aCA9IG8uYXV0b1dpZHRoID09PSB1bmRlZmluZWQgPyB0cnVlIDogISFvLmF1dG9XaWR0aDsKICAgICAgdGhpcy5jbGVhck9uU2VsZWN0ZWQgPSAhIW8uY2xlYXJPblNlbGVjdGVkOwogICAgICB0aGlzLnRhYkF1dG9jb21wbGV0ZSA9IG8udGFiQXV0b2NvbXBsZXRlID09PSB1bmRlZmluZWQgPyB0cnVlIDogISFvLnRhYkF1dG9jb21wbGV0ZTsKICAgICAgby5oaW50ID0gISFvLmhpbnQ7CiAgICAgIGlmIChvLmhpbnQgJiYgby5hcHBlbmRUbykgewogICAgICAgIHRocm93IG5ldyBFcnJvcigiW2F1dG9jb21wbGV0ZS5qc10gaGludCBhbmQgYXBwZW5kVG8gb3B0aW9ucyBjYW4ndCBiZSB1c2VkIGF0IHRoZSBzYW1lIHRpbWUiKTsKICAgICAgfQogICAgICB0aGlzLmNzcyA9IG8uY3NzID0gXy5taXhpbih7fSwgY3NzLCBvLmFwcGVuZFRvID8gY3NzLmFwcGVuZFRvIDoge30pOwogICAgICB0aGlzLmNzc0NsYXNzZXMgPSBvLmNzc0NsYXNzZXMgPSBfLm1peGluKHt9LCBjc3MuZGVmYXVsdENsYXNzZXMsIG8uY3NzQ2xhc3NlcyB8fCB7fSk7CiAgICAgIHRoaXMuY3NzQ2xhc3Nlcy5wcmVmaXggPSBvLmNzc0NsYXNzZXMuZm9ybWF0dGVkUHJlZml4ID0gXy5mb3JtYXRQcmVmaXgodGhpcy5jc3NDbGFzc2VzLnByZWZpeCwgdGhpcy5jc3NDbGFzc2VzLm5vUHJlZml4KTsKICAgICAgdGhpcy5saXN0Ym94SWQgPSBvLmxpc3Rib3hJZCA9IFt0aGlzLmNzc0NsYXNzZXMucm9vdCwgImxpc3Rib3giLCBfLmdldFVuaXF1ZUlkKCldLmpvaW4oIi0iKTsKICAgICAgdmFyIGRvbUVsdHMgPSBidWlsZERvbShvKTsKICAgICAgdGhpcy4kbm9kZSA9IGRvbUVsdHMud3JhcHBlcjsKICAgICAgdmFyICRpbnB1dCA9IHRoaXMuJGlucHV0ID0gZG9tRWx0cy5pbnB1dDsKICAgICAgJG1lbnUgPSBkb21FbHRzLm1lbnU7CiAgICAgICRoaW50ID0gZG9tRWx0cy5oaW50OwogICAgICBpZiAoby5kcm9wZG93bk1lbnVDb250YWluZXIpIHsKICAgICAgICBET00uZWxlbWVudChvLmRyb3Bkb3duTWVudUNvbnRhaW5lcikuY3NzKCJwb3NpdGlvbiIsICJyZWxhdGl2ZSIpLmFwcGVuZCgkbWVudS5jc3MoInRvcCIsICIwIikpOwogICAgICB9CiAgICAgICRpbnB1dC5vbigiYmx1ci5hYSIsIGZ1bmN0aW9uICgkZSkgewogICAgICAgIHZhciBhY3RpdmUgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50OwogICAgICAgIGlmIChfLmlzTXNpZSgpICYmICgkbWVudVswXSA9PT0gYWN0aXZlIHx8ICRtZW51WzBdLmNvbnRhaW5zKGFjdGl2ZSkpKSB7CiAgICAgICAgICAkZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgJGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7CiAgICAgICAgICBfLmRlZmVyKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJGlucHV0LmZvY3VzKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICAkbWVudS5vbigibW91c2Vkb3duLmFhIiwgZnVuY3Rpb24gKCRlKSB7CiAgICAgICAgJGUucHJldmVudERlZmF1bHQoKTsKICAgICAgfSk7CiAgICAgIHRoaXMuZXZlbnRCdXMgPSBvLmV2ZW50QnVzIHx8IG5ldyBFdmVudEJ1cyh7CiAgICAgICAgZWw6ICRpbnB1dAogICAgICB9KTsKICAgICAgdGhpcy5kcm9wZG93biA9IG5ldyBUeXBlYWhlYWQuRHJvcGRvd24oewogICAgICAgIGFwcGVuZFRvOiBvLmFwcGVuZFRvLAogICAgICAgIHdyYXBwZXI6IHRoaXMuJG5vZGUsCiAgICAgICAgbWVudTogJG1lbnUsCiAgICAgICAgZGF0YXNldHM6IG8uZGF0YXNldHMsCiAgICAgICAgdGVtcGxhdGVzOiBvLnRlbXBsYXRlcywKICAgICAgICBjc3NDbGFzc2VzOiBvLmNzc0NsYXNzZXMsCiAgICAgICAgbWluTGVuZ3RoOiB0aGlzLm1pbkxlbmd0aAogICAgICB9KS5vblN5bmMoInN1Z2dlc3Rpb25DbGlja2VkIiwgdGhpcy5fb25TdWdnZXN0aW9uQ2xpY2tlZCwgdGhpcykub25TeW5jKCJjdXJzb3JNb3ZlZCIsIHRoaXMuX29uQ3Vyc29yTW92ZWQsIHRoaXMpLm9uU3luYygiY3Vyc29yUmVtb3ZlZCIsIHRoaXMuX29uQ3Vyc29yUmVtb3ZlZCwgdGhpcykub25TeW5jKCJvcGVuZWQiLCB0aGlzLl9vbk9wZW5lZCwgdGhpcykub25TeW5jKCJjbG9zZWQiLCB0aGlzLl9vbkNsb3NlZCwgdGhpcykub25TeW5jKCJzaG93biIsIHRoaXMuX29uU2hvd24sIHRoaXMpLm9uU3luYygiZW1wdHkiLCB0aGlzLl9vbkVtcHR5LCB0aGlzKS5vblN5bmMoInJlZHJhd24iLCB0aGlzLl9vblJlZHJhd24sIHRoaXMpLm9uQXN5bmMoImRhdGFzZXRSZW5kZXJlZCIsIHRoaXMuX29uRGF0YXNldFJlbmRlcmVkLCB0aGlzKTsKICAgICAgdGhpcy5pbnB1dCA9IG5ldyBUeXBlYWhlYWQuSW5wdXQoewogICAgICAgIGlucHV0OiAkaW5wdXQsCiAgICAgICAgaGludDogJGhpbnQKICAgICAgfSkub25TeW5jKCJmb2N1c2VkIiwgdGhpcy5fb25Gb2N1c2VkLCB0aGlzKS5vblN5bmMoImJsdXJyZWQiLCB0aGlzLl9vbkJsdXJyZWQsIHRoaXMpLm9uU3luYygiZW50ZXJLZXllZCIsIHRoaXMuX29uRW50ZXJLZXllZCwgdGhpcykub25TeW5jKCJ0YWJLZXllZCIsIHRoaXMuX29uVGFiS2V5ZWQsIHRoaXMpLm9uU3luYygiZXNjS2V5ZWQiLCB0aGlzLl9vbkVzY0tleWVkLCB0aGlzKS5vblN5bmMoInVwS2V5ZWQiLCB0aGlzLl9vblVwS2V5ZWQsIHRoaXMpLm9uU3luYygiZG93bktleWVkIiwgdGhpcy5fb25Eb3duS2V5ZWQsIHRoaXMpLm9uU3luYygibGVmdEtleWVkIiwgdGhpcy5fb25MZWZ0S2V5ZWQsIHRoaXMpLm9uU3luYygicmlnaHRLZXllZCIsIHRoaXMuX29uUmlnaHRLZXllZCwgdGhpcykub25TeW5jKCJxdWVyeUNoYW5nZWQiLCB0aGlzLl9vblF1ZXJ5Q2hhbmdlZCwgdGhpcykub25TeW5jKCJ3aGl0ZXNwYWNlQ2hhbmdlZCIsIHRoaXMuX29uV2hpdGVzcGFjZUNoYW5nZWQsIHRoaXMpOwogICAgICB0aGlzLl9iaW5kS2V5Ym9hcmRTaG9ydGN1dHMobyk7CiAgICAgIHRoaXMuX3NldExhbmd1YWdlRGlyZWN0aW9uKCk7CiAgICB9CiAgICBfLm1peGluKFR5cGVhaGVhZC5wcm90b3R5cGUsIHsKICAgICAgX2JpbmRLZXlib2FyZFNob3J0Y3V0czogZnVuY3Rpb24gKG9wdGlvbnMpIHsKICAgICAgICBpZiAoIW9wdGlvbnMua2V5Ym9hcmRTaG9ydGN1dHMpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdmFyICRpbnB1dCA9IHRoaXMuJGlucHV0OwogICAgICAgIHZhciBrZXlib2FyZFNob3J0Y3V0cyA9IFtdOwogICAgICAgIF8uZWFjaChvcHRpb25zLmtleWJvYXJkU2hvcnRjdXRzLCBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gInN0cmluZyIpIHsKICAgICAgICAgICAga2V5ID0ga2V5LnRvVXBwZXJDYXNlKCkuY2hhckNvZGVBdCgwKTsKICAgICAgICAgIH0KICAgICAgICAgIGtleWJvYXJkU2hvcnRjdXRzLnB1c2goa2V5KTsKICAgICAgICB9KTsKICAgICAgICBET00uZWxlbWVudChkb2N1bWVudCkua2V5ZG93bihmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgIHZhciBlbHQgPSBldmVudC50YXJnZXQgfHwgZXZlbnQuc3JjRWxlbWVudDsKICAgICAgICAgIHZhciB0YWdOYW1lID0gZWx0LnRhZ05hbWU7CiAgICAgICAgICBpZiAoZWx0LmlzQ29udGVudEVkaXRhYmxlIHx8IHRhZ05hbWUgPT09ICJJTlBVVCIgfHwgdGFnTmFtZSA9PT0gIlNFTEVDVCIgfHwgdGFnTmFtZSA9PT0gIlRFWFRBUkVBIikgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgd2hpY2ggPSBldmVudC53aGljaCB8fCBldmVudC5rZXlDb2RlOwogICAgICAgICAgaWYgKGtleWJvYXJkU2hvcnRjdXRzLmluZGV4T2Yod2hpY2gpID09PSAtMSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICAkaW5wdXQuZm9jdXMoKTsKICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgX29uU3VnZ2VzdGlvbkNsaWNrZWQ6IGZ1bmN0aW9uIG9uU3VnZ2VzdGlvbkNsaWNrZWQodHlwZSwgJGVsKSB7CiAgICAgICAgdmFyIGRhdHVtOwogICAgICAgIHZhciBjb250ZXh0ID0gewogICAgICAgICAgc2VsZWN0aW9uTWV0aG9kOiAiY2xpY2siCiAgICAgICAgfTsKICAgICAgICBpZiAoZGF0dW0gPSB0aGlzLmRyb3Bkb3duLmdldERhdHVtRm9yU3VnZ2VzdGlvbigkZWwpKSB7CiAgICAgICAgICB0aGlzLl9zZWxlY3QoZGF0dW0sIGNvbnRleHQpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgX29uQ3Vyc29yTW92ZWQ6IGZ1bmN0aW9uIG9uQ3Vyc29yTW92ZWQoZXZlbnQsIHVwZGF0ZUlucHV0KSB7CiAgICAgICAgdmFyIGRhdHVtID0gdGhpcy5kcm9wZG93bi5nZXREYXR1bUZvckN1cnNvcigpOwogICAgICAgIHZhciBjdXJyZW50Q3Vyc29ySWQgPSB0aGlzLmRyb3Bkb3duLmdldEN1cnJlbnRDdXJzb3IoKS5hdHRyKCJpZCIpOwogICAgICAgIHRoaXMuaW5wdXQuc2V0QWN0aXZlRGVzY2VuZGFudChjdXJyZW50Q3Vyc29ySWQpOwogICAgICAgIGlmIChkYXR1bSkgewogICAgICAgICAgaWYgKHVwZGF0ZUlucHV0KSB7CiAgICAgICAgICAgIHRoaXMuaW5wdXQuc2V0SW5wdXRWYWx1ZShkYXR1bS52YWx1ZSwgdHJ1ZSk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmV2ZW50QnVzLnRyaWdnZXIoImN1cnNvcmNoYW5nZWQiLCBkYXR1bS5yYXcsIGRhdHVtLmRhdGFzZXROYW1lKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIF9vbkN1cnNvclJlbW92ZWQ6IGZ1bmN0aW9uIG9uQ3Vyc29yUmVtb3ZlZCgpIHsKICAgICAgICB0aGlzLmlucHV0LnJlc2V0SW5wdXRWYWx1ZSgpOwogICAgICAgIHRoaXMuX3VwZGF0ZUhpbnQoKTsKICAgICAgICB0aGlzLmV2ZW50QnVzLnRyaWdnZXIoImN1cnNvcnJlbW92ZWQiKTsKICAgICAgfSwKICAgICAgX29uRGF0YXNldFJlbmRlcmVkOiBmdW5jdGlvbiBvbkRhdGFzZXRSZW5kZXJlZCgpIHsKICAgICAgICB0aGlzLl91cGRhdGVIaW50KCk7CiAgICAgICAgdGhpcy5ldmVudEJ1cy50cmlnZ2VyKCJ1cGRhdGVkIik7CiAgICAgIH0sCiAgICAgIF9vbk9wZW5lZDogZnVuY3Rpb24gb25PcGVuZWQoKSB7CiAgICAgICAgdGhpcy5fdXBkYXRlSGludCgpOwogICAgICAgIHRoaXMuaW5wdXQuZXhwYW5kKCk7CiAgICAgICAgdGhpcy5ldmVudEJ1cy50cmlnZ2VyKCJvcGVuZWQiKTsKICAgICAgfSwKICAgICAgX29uRW1wdHk6IGZ1bmN0aW9uIG9uRW1wdHkoKSB7CiAgICAgICAgdGhpcy5ldmVudEJ1cy50cmlnZ2VyKCJlbXB0eSIpOwogICAgICB9LAogICAgICBfb25SZWRyYXduOiBmdW5jdGlvbiBvblJlZHJhd24oKSB7CiAgICAgICAgdGhpcy4kbm9kZS5jc3MoInRvcCIsIDAgKyAicHgiKTsKICAgICAgICB0aGlzLiRub2RlLmNzcygibGVmdCIsIDAgKyAicHgiKTsKICAgICAgICB2YXIgaW5wdXRSZWN0ID0gdGhpcy4kaW5wdXRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgaWYgKHRoaXMuYXV0b1dpZHRoKSB7CiAgICAgICAgICB0aGlzLiRub2RlLmNzcygid2lkdGgiLCBpbnB1dFJlY3Qud2lkdGggKyAicHgiKTsKICAgICAgICB9CiAgICAgICAgdmFyIHdyYXBwZXJSZWN0ID0gdGhpcy4kbm9kZVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICB2YXIgdG9wID0gaW5wdXRSZWN0LmJvdHRvbSAtIHdyYXBwZXJSZWN0LnRvcDsKICAgICAgICB0aGlzLiRub2RlLmNzcygidG9wIiwgdG9wICsgInB4Iik7CiAgICAgICAgdmFyIGxlZnQgPSBpbnB1dFJlY3QubGVmdCAtIHdyYXBwZXJSZWN0LmxlZnQ7CiAgICAgICAgdGhpcy4kbm9kZS5jc3MoImxlZnQiLCBsZWZ0ICsgInB4Iik7CiAgICAgICAgdGhpcy5ldmVudEJ1cy50cmlnZ2VyKCJyZWRyYXduIik7CiAgICAgIH0sCiAgICAgIF9vblNob3duOiBmdW5jdGlvbiBvblNob3duKCkgewogICAgICAgIHRoaXMuZXZlbnRCdXMudHJpZ2dlcigic2hvd24iKTsKICAgICAgICBpZiAodGhpcy5hdXRvc2VsZWN0KSB7CiAgICAgICAgICB0aGlzLmRyb3Bkb3duLmN1cnNvclRvcFN1Z2dlc3Rpb24oKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIF9vbkNsb3NlZDogZnVuY3Rpb24gb25DbG9zZWQoKSB7CiAgICAgICAgdGhpcy5pbnB1dC5jbGVhckhpbnQoKTsKICAgICAgICB0aGlzLmlucHV0LnJlbW92ZUFjdGl2ZURlc2NlbmRhbnQoKTsKICAgICAgICB0aGlzLmlucHV0LmNvbGxhcHNlKCk7CiAgICAgICAgdGhpcy5ldmVudEJ1cy50cmlnZ2VyKCJjbG9zZWQiKTsKICAgICAgfSwKICAgICAgX29uRm9jdXNlZDogZnVuY3Rpb24gb25Gb2N1c2VkKCkgewogICAgICAgIHRoaXMuaXNBY3RpdmF0ZWQgPSB0cnVlOwogICAgICAgIGlmICh0aGlzLm9wZW5PbkZvY3VzKSB7CiAgICAgICAgICB2YXIgcXVlcnkgPSB0aGlzLmlucHV0LmdldFF1ZXJ5KCk7CiAgICAgICAgICBpZiAocXVlcnkubGVuZ3RoID49IHRoaXMubWluTGVuZ3RoKSB7CiAgICAgICAgICAgIHRoaXMuZHJvcGRvd24udXBkYXRlKHF1ZXJ5KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuZHJvcGRvd24uZW1wdHkoKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuZHJvcGRvd24ub3BlbigpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgX29uQmx1cnJlZDogZnVuY3Rpb24gb25CbHVycmVkKCkgewogICAgICAgIHZhciBjdXJzb3JEYXR1bTsKICAgICAgICB2YXIgdG9wU3VnZ2VzdGlvbkRhdHVtOwogICAgICAgIGN1cnNvckRhdHVtID0gdGhpcy5kcm9wZG93bi5nZXREYXR1bUZvckN1cnNvcigpOwogICAgICAgIHRvcFN1Z2dlc3Rpb25EYXR1bSA9IHRoaXMuZHJvcGRvd24uZ2V0RGF0dW1Gb3JUb3BTdWdnZXN0aW9uKCk7CiAgICAgICAgdmFyIGNvbnRleHQgPSB7CiAgICAgICAgICBzZWxlY3Rpb25NZXRob2Q6ICJibHVyIgogICAgICAgIH07CiAgICAgICAgaWYgKCF0aGlzLmRlYnVnKSB7CiAgICAgICAgICBpZiAodGhpcy5hdXRvc2VsZWN0T25CbHVyICYmIGN1cnNvckRhdHVtKSB7CiAgICAgICAgICAgIHRoaXMuX3NlbGVjdChjdXJzb3JEYXR1bSwgY29udGV4dCk7CiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYXV0b3NlbGVjdE9uQmx1ciAmJiB0b3BTdWdnZXN0aW9uRGF0dW0pIHsKICAgICAgICAgICAgdGhpcy5fc2VsZWN0KHRvcFN1Z2dlc3Rpb25EYXR1bSwgY29udGV4dCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmlzQWN0aXZhdGVkID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuZHJvcGRvd24uZW1wdHkoKTsKICAgICAgICAgICAgdGhpcy5kcm9wZG93bi5jbG9zZSgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgX29uRW50ZXJLZXllZDogZnVuY3Rpb24gb25FbnRlcktleWVkKHR5cGUsICRlKSB7CiAgICAgICAgdmFyIGN1cnNvckRhdHVtOwogICAgICAgIHZhciB0b3BTdWdnZXN0aW9uRGF0dW07CiAgICAgICAgY3Vyc29yRGF0dW0gPSB0aGlzLmRyb3Bkb3duLmdldERhdHVtRm9yQ3Vyc29yKCk7CiAgICAgICAgdG9wU3VnZ2VzdGlvbkRhdHVtID0gdGhpcy5kcm9wZG93bi5nZXREYXR1bUZvclRvcFN1Z2dlc3Rpb24oKTsKICAgICAgICB2YXIgY29udGV4dCA9IHsKICAgICAgICAgIHNlbGVjdGlvbk1ldGhvZDogImVudGVyS2V5IgogICAgICAgIH07CiAgICAgICAgaWYgKGN1cnNvckRhdHVtKSB7CiAgICAgICAgICB0aGlzLl9zZWxlY3QoY3Vyc29yRGF0dW0sIGNvbnRleHQpOwogICAgICAgICAgJGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYXV0b3NlbGVjdCAmJiB0b3BTdWdnZXN0aW9uRGF0dW0pIHsKICAgICAgICAgIHRoaXMuX3NlbGVjdCh0b3BTdWdnZXN0aW9uRGF0dW0sIGNvbnRleHQpOwogICAgICAgICAgJGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIF9vblRhYktleWVkOiBmdW5jdGlvbiBvblRhYktleWVkKHR5cGUsICRlKSB7CiAgICAgICAgaWYgKCF0aGlzLnRhYkF1dG9jb21wbGV0ZSkgewogICAgICAgICAgdGhpcy5kcm9wZG93bi5jbG9zZSgpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB2YXIgZGF0dW07CiAgICAgICAgdmFyIGNvbnRleHQgPSB7CiAgICAgICAgICBzZWxlY3Rpb25NZXRob2Q6ICJ0YWJLZXkiCiAgICAgICAgfTsKICAgICAgICBpZiAoZGF0dW0gPSB0aGlzLmRyb3Bkb3duLmdldERhdHVtRm9yQ3Vyc29yKCkpIHsKICAgICAgICAgIHRoaXMuX3NlbGVjdChkYXR1bSwgY29udGV4dCk7CiAgICAgICAgICAkZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLl9hdXRvY29tcGxldGUodHJ1ZSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBfb25Fc2NLZXllZDogZnVuY3Rpb24gb25Fc2NLZXllZCgpIHsKICAgICAgICB0aGlzLmRyb3Bkb3duLmNsb3NlKCk7CiAgICAgICAgdGhpcy5pbnB1dC5yZXNldElucHV0VmFsdWUoKTsKICAgICAgfSwKICAgICAgX29uVXBLZXllZDogZnVuY3Rpb24gb25VcEtleWVkKCkgewogICAgICAgIHZhciBxdWVyeSA9IHRoaXMuaW5wdXQuZ2V0UXVlcnkoKTsKICAgICAgICBpZiAodGhpcy5kcm9wZG93bi5pc0VtcHR5ICYmIHF1ZXJ5Lmxlbmd0aCA+PSB0aGlzLm1pbkxlbmd0aCkgewogICAgICAgICAgdGhpcy5kcm9wZG93bi51cGRhdGUocXVlcnkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmRyb3Bkb3duLm1vdmVDdXJzb3JVcCgpOwogICAgICAgIH0KICAgICAgICB0aGlzLmRyb3Bkb3duLm9wZW4oKTsKICAgICAgfSwKICAgICAgX29uRG93bktleWVkOiBmdW5jdGlvbiBvbkRvd25LZXllZCgpIHsKICAgICAgICB2YXIgcXVlcnkgPSB0aGlzLmlucHV0LmdldFF1ZXJ5KCk7CiAgICAgICAgaWYgKHRoaXMuZHJvcGRvd24uaXNFbXB0eSAmJiBxdWVyeS5sZW5ndGggPj0gdGhpcy5taW5MZW5ndGgpIHsKICAgICAgICAgIHRoaXMuZHJvcGRvd24udXBkYXRlKHF1ZXJ5KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5kcm9wZG93bi5tb3ZlQ3Vyc29yRG93bigpOwogICAgICAgIH0KICAgICAgICB0aGlzLmRyb3Bkb3duLm9wZW4oKTsKICAgICAgfSwKICAgICAgX29uTGVmdEtleWVkOiBmdW5jdGlvbiBvbkxlZnRLZXllZCgpIHsKICAgICAgICBpZiAodGhpcy5kaXIgPT09ICJydGwiKSB7CiAgICAgICAgICB0aGlzLl9hdXRvY29tcGxldGUoKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIF9vblJpZ2h0S2V5ZWQ6IGZ1bmN0aW9uIG9uUmlnaHRLZXllZCgpIHsKICAgICAgICBpZiAodGhpcy5kaXIgPT09ICJsdHIiKSB7CiAgICAgICAgICB0aGlzLl9hdXRvY29tcGxldGUoKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIF9vblF1ZXJ5Q2hhbmdlZDogZnVuY3Rpb24gb25RdWVyeUNoYW5nZWQoZSwgcXVlcnkpIHsKICAgICAgICB0aGlzLmlucHV0LmNsZWFySGludElmSW52YWxpZCgpOwogICAgICAgIGlmIChxdWVyeS5sZW5ndGggPj0gdGhpcy5taW5MZW5ndGgpIHsKICAgICAgICAgIHRoaXMuZHJvcGRvd24udXBkYXRlKHF1ZXJ5KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5kcm9wZG93bi5lbXB0eSgpOwogICAgICAgIH0KICAgICAgICB0aGlzLmRyb3Bkb3duLm9wZW4oKTsKICAgICAgICB0aGlzLl9zZXRMYW5ndWFnZURpcmVjdGlvbigpOwogICAgICB9LAogICAgICBfb25XaGl0ZXNwYWNlQ2hhbmdlZDogZnVuY3Rpb24gb25XaGl0ZXNwYWNlQ2hhbmdlZCgpIHsKICAgICAgICB0aGlzLl91cGRhdGVIaW50KCk7CiAgICAgICAgdGhpcy5kcm9wZG93bi5vcGVuKCk7CiAgICAgIH0sCiAgICAgIF9zZXRMYW5ndWFnZURpcmVjdGlvbjogZnVuY3Rpb24gc2V0TGFuZ3VhZ2VEaXJlY3Rpb24oKSB7CiAgICAgICAgdmFyIGRpciA9IHRoaXMuaW5wdXQuZ2V0TGFuZ3VhZ2VEaXJlY3Rpb24oKTsKICAgICAgICBpZiAodGhpcy5kaXIgIT09IGRpcikgewogICAgICAgICAgdGhpcy5kaXIgPSBkaXI7CiAgICAgICAgICB0aGlzLiRub2RlLmNzcygiZGlyZWN0aW9uIiwgZGlyKTsKICAgICAgICAgIHRoaXMuZHJvcGRvd24uc2V0TGFuZ3VhZ2VEaXJlY3Rpb24oZGlyKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIF91cGRhdGVIaW50OiBmdW5jdGlvbiB1cGRhdGVIaW50KCkgewogICAgICAgIHZhciBkYXR1bTsKICAgICAgICB2YXIgdmFsOwogICAgICAgIHZhciBxdWVyeTsKICAgICAgICB2YXIgZXNjYXBlZFF1ZXJ5OwogICAgICAgIHZhciBmcm9udE1hdGNoUmVnRXg7CiAgICAgICAgdmFyIG1hdGNoOwogICAgICAgIGRhdHVtID0gdGhpcy5kcm9wZG93bi5nZXREYXR1bUZvclRvcFN1Z2dlc3Rpb24oKTsKICAgICAgICBpZiAoZGF0dW0gJiYgdGhpcy5kcm9wZG93bi5pc1Zpc2libGUoKSAmJiAhdGhpcy5pbnB1dC5oYXNPdmVyZmxvdygpKSB7CiAgICAgICAgICB2YWwgPSB0aGlzLmlucHV0LmdldElucHV0VmFsdWUoKTsKICAgICAgICAgIHF1ZXJ5ID0gSW5wdXQubm9ybWFsaXplUXVlcnkodmFsKTsKICAgICAgICAgIGVzY2FwZWRRdWVyeSA9IF8uZXNjYXBlUmVnRXhDaGFycyhxdWVyeSk7CiAgICAgICAgICBmcm9udE1hdGNoUmVnRXggPSBuZXcgUmVnRXhwKCJeKD86IiArIGVzY2FwZWRRdWVyeSArICIpKC4rJCkiLCAiaSIpOwogICAgICAgICAgbWF0Y2ggPSBmcm9udE1hdGNoUmVnRXguZXhlYyhkYXR1bS52YWx1ZSk7CiAgICAgICAgICBpZiAobWF0Y2gpIHsKICAgICAgICAgICAgdGhpcy5pbnB1dC5zZXRIaW50KHZhbCArIG1hdGNoWzFdKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuaW5wdXQuY2xlYXJIaW50KCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuaW5wdXQuY2xlYXJIaW50KCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBfYXV0b2NvbXBsZXRlOiBmdW5jdGlvbiBhdXRvY29tcGxldGUobGF4Q3Vyc29yKSB7CiAgICAgICAgdmFyIGhpbnQ7CiAgICAgICAgdmFyIHF1ZXJ5OwogICAgICAgIHZhciBpc0N1cnNvckF0RW5kOwogICAgICAgIHZhciBkYXR1bTsKICAgICAgICBoaW50ID0gdGhpcy5pbnB1dC5nZXRIaW50KCk7CiAgICAgICAgcXVlcnkgPSB0aGlzLmlucHV0LmdldFF1ZXJ5KCk7CiAgICAgICAgaXNDdXJzb3JBdEVuZCA9IGxheEN1cnNvciB8fCB0aGlzLmlucHV0LmlzQ3Vyc29yQXRFbmQoKTsKICAgICAgICBpZiAoaGludCAmJiBxdWVyeSAhPT0gaGludCAmJiBpc0N1cnNvckF0RW5kKSB7CiAgICAgICAgICBkYXR1bSA9IHRoaXMuZHJvcGRvd24uZ2V0RGF0dW1Gb3JUb3BTdWdnZXN0aW9uKCk7CiAgICAgICAgICBpZiAoZGF0dW0pIHsKICAgICAgICAgICAgdGhpcy5pbnB1dC5zZXRJbnB1dFZhbHVlKGRhdHVtLnZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuZXZlbnRCdXMudHJpZ2dlcigiYXV0b2NvbXBsZXRlZCIsIGRhdHVtLnJhdywgZGF0dW0uZGF0YXNldE5hbWUpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgX3NlbGVjdDogZnVuY3Rpb24gc2VsZWN0KGRhdHVtLCBjb250ZXh0KSB7CiAgICAgICAgaWYgKHR5cGVvZiBkYXR1bS52YWx1ZSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgIHRoaXMuaW5wdXQuc2V0UXVlcnkoZGF0dW0udmFsdWUpOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5jbGVhck9uU2VsZWN0ZWQpIHsKICAgICAgICAgIHRoaXMuc2V0VmFsKCIiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5pbnB1dC5zZXRJbnB1dFZhbHVlKGRhdHVtLnZhbHVlLCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5fc2V0TGFuZ3VhZ2VEaXJlY3Rpb24oKTsKICAgICAgICB2YXIgZXZlbnQgPSB0aGlzLmV2ZW50QnVzLnRyaWdnZXIoInNlbGVjdGVkIiwgZGF0dW0ucmF3LCBkYXR1bS5kYXRhc2V0TmFtZSwgY29udGV4dCk7CiAgICAgICAgaWYgKGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpID09PSBmYWxzZSkgewogICAgICAgICAgdGhpcy5kcm9wZG93bi5jbG9zZSgpOwogICAgICAgICAgXy5kZWZlcihfLmJpbmQodGhpcy5kcm9wZG93bi5lbXB0eSwgdGhpcy5kcm9wZG93bikpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgb3BlbjogZnVuY3Rpb24gb3BlbigpIHsKICAgICAgICBpZiAoIXRoaXMuaXNBY3RpdmF0ZWQpIHsKICAgICAgICAgIHZhciBxdWVyeSA9IHRoaXMuaW5wdXQuZ2V0SW5wdXRWYWx1ZSgpOwogICAgICAgICAgaWYgKHF1ZXJ5Lmxlbmd0aCA+PSB0aGlzLm1pbkxlbmd0aCkgewogICAgICAgICAgICB0aGlzLmRyb3Bkb3duLnVwZGF0ZShxdWVyeSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmRyb3Bkb3duLmVtcHR5KCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRoaXMuZHJvcGRvd24ub3BlbigpOwogICAgICB9LAogICAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgICAgdGhpcy5kcm9wZG93bi5jbG9zZSgpOwogICAgICB9LAogICAgICBzZXRWYWw6IGZ1bmN0aW9uIHNldFZhbCh2YWwpIHsKICAgICAgICB2YWwgPSBfLnRvU3RyKHZhbCk7CiAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmF0ZWQpIHsKICAgICAgICAgIHRoaXMuaW5wdXQuc2V0SW5wdXRWYWx1ZSh2YWwpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmlucHV0LnNldFF1ZXJ5KHZhbCk7CiAgICAgICAgICB0aGlzLmlucHV0LnNldElucHV0VmFsdWUodmFsLCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5fc2V0TGFuZ3VhZ2VEaXJlY3Rpb24oKTsKICAgICAgfSwKICAgICAgZ2V0VmFsOiBmdW5jdGlvbiBnZXRWYWwoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXQuZ2V0UXVlcnkoKTsKICAgICAgfSwKICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHsKICAgICAgICB0aGlzLmlucHV0LmRlc3Ryb3koKTsKICAgICAgICB0aGlzLmRyb3Bkb3duLmRlc3Ryb3koKTsKICAgICAgICBkZXN0cm95RG9tU3RydWN0dXJlKHRoaXMuJG5vZGUsIHRoaXMuY3NzQ2xhc3Nlcyk7CiAgICAgICAgdGhpcy4kbm9kZSA9IG51bGw7CiAgICAgIH0sCiAgICAgIGdldFdyYXBwZXI6IGZ1bmN0aW9uIGdldFdyYXBwZXIoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZHJvcGRvd24uJGNvbnRhaW5lclswXTsKICAgICAgfQogICAgfSk7CiAgICBmdW5jdGlvbiBidWlsZERvbShvcHRpb25zKSB7CiAgICAgIHZhciAkaW5wdXQ7CiAgICAgIHZhciAkd3JhcHBlcjsKICAgICAgdmFyICRkcm9wZG93bjsKICAgICAgdmFyICRoaW50OwogICAgICAkaW5wdXQgPSBET00uZWxlbWVudChvcHRpb25zLmlucHV0KTsKICAgICAgJHdyYXBwZXIgPSBET00uZWxlbWVudChodG1sLndyYXBwZXIucmVwbGFjZSgiJVJPT1QlIiwgb3B0aW9ucy5jc3NDbGFzc2VzLnJvb3QpKS5jc3Mob3B0aW9ucy5jc3Mud3JhcHBlcik7CiAgICAgIGlmICghb3B0aW9ucy5hcHBlbmRUbyAmJiAkaW5wdXQuY3NzKCJkaXNwbGF5IikgPT09ICJibG9jayIgJiYgJGlucHV0LnBhcmVudCgpLmNzcygiZGlzcGxheSIpID09PSAidGFibGUiKSB7CiAgICAgICAgJHdyYXBwZXIuY3NzKCJkaXNwbGF5IiwgInRhYmxlLWNlbGwiKTsKICAgICAgfQogICAgICB2YXIgZHJvcGRvd25IdG1sID0gaHRtbC5kcm9wZG93bi5yZXBsYWNlKCIlUFJFRklYJSIsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5wcmVmaXgpLnJlcGxhY2UoIiVEUk9QRE9XTl9NRU5VJSIsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5kcm9wZG93bk1lbnUpOwogICAgICAkZHJvcGRvd24gPSBET00uZWxlbWVudChkcm9wZG93bkh0bWwpLmNzcyhvcHRpb25zLmNzcy5kcm9wZG93bikuYXR0cih7CiAgICAgICAgcm9sZTogImxpc3Rib3giLAogICAgICAgIGlkOiBvcHRpb25zLmxpc3Rib3hJZAogICAgICB9KTsKICAgICAgaWYgKG9wdGlvbnMudGVtcGxhdGVzICYmIG9wdGlvbnMudGVtcGxhdGVzLmRyb3Bkb3duTWVudSkgewogICAgICAgICRkcm9wZG93bi5odG1sKF8udGVtcGxhdGlmeShvcHRpb25zLnRlbXBsYXRlcy5kcm9wZG93bk1lbnUpKCkpOwogICAgICB9CiAgICAgICRoaW50ID0gJGlucHV0LmNsb25lKCkuY3NzKG9wdGlvbnMuY3NzLmhpbnQpLmNzcyhnZXRCYWNrZ3JvdW5kU3R5bGVzKCRpbnB1dCkpOwogICAgICAkaGludC52YWwoIiIpLmFkZENsYXNzKF8uY2xhc3NOYW1lKG9wdGlvbnMuY3NzQ2xhc3Nlcy5wcmVmaXgsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5oaW50LCB0cnVlKSkucmVtb3ZlQXR0cigiaWQgbmFtZSBwbGFjZWhvbGRlciByZXF1aXJlZCIpLnByb3AoInJlYWRvbmx5IiwgdHJ1ZSkuYXR0cih7CiAgICAgICAgImFyaWEtaGlkZGVuIjogInRydWUiLAogICAgICAgIGF1dG9jb21wbGV0ZTogIm9mZiIsCiAgICAgICAgc3BlbGxjaGVjazogImZhbHNlIiwKICAgICAgICB0YWJpbmRleDogLTEKICAgICAgfSk7CiAgICAgIGlmICgkaGludC5yZW1vdmVEYXRhKSB7CiAgICAgICAgJGhpbnQucmVtb3ZlRGF0YSgpOwogICAgICB9CiAgICAgICRpbnB1dC5kYXRhKGF0dHJzS2V5LCB7CiAgICAgICAgImFyaWEtYXV0b2NvbXBsZXRlIjogJGlucHV0LmF0dHIoImFyaWEtYXV0b2NvbXBsZXRlIiksCiAgICAgICAgImFyaWEtZXhwYW5kZWQiOiAkaW5wdXQuYXR0cigiYXJpYS1leHBhbmRlZCIpLAogICAgICAgICJhcmlhLW93bnMiOiAkaW5wdXQuYXR0cigiYXJpYS1vd25zIiksCiAgICAgICAgYXV0b2NvbXBsZXRlOiAkaW5wdXQuYXR0cigiYXV0b2NvbXBsZXRlIiksCiAgICAgICAgZGlyOiAkaW5wdXQuYXR0cigiZGlyIiksCiAgICAgICAgcm9sZTogJGlucHV0LmF0dHIoInJvbGUiKSwKICAgICAgICBzcGVsbGNoZWNrOiAkaW5wdXQuYXR0cigic3BlbGxjaGVjayIpLAogICAgICAgIHN0eWxlOiAkaW5wdXQuYXR0cigic3R5bGUiKSwKICAgICAgICB0eXBlOiAkaW5wdXQuYXR0cigidHlwZSIpCiAgICAgIH0pOwogICAgICAkaW5wdXQuYWRkQ2xhc3MoXy5jbGFzc05hbWUob3B0aW9ucy5jc3NDbGFzc2VzLnByZWZpeCwgb3B0aW9ucy5jc3NDbGFzc2VzLmlucHV0LCB0cnVlKSkuYXR0cih7CiAgICAgICAgYXV0b2NvbXBsZXRlOiAib2ZmIiwKICAgICAgICBzcGVsbGNoZWNrOiBmYWxzZSwKICAgICAgICByb2xlOiAiY29tYm9ib3giLAogICAgICAgICJhcmlhLWF1dG9jb21wbGV0ZSI6IG9wdGlvbnMuZGF0YXNldHMgJiYgb3B0aW9ucy5kYXRhc2V0c1swXSAmJiBvcHRpb25zLmRhdGFzZXRzWzBdLmRpc3BsYXlLZXkgPyAiYm90aCIgOiAibGlzdCIsCiAgICAgICAgImFyaWEtZXhwYW5kZWQiOiAiZmFsc2UiLAogICAgICAgICJhcmlhLWxhYmVsIjogb3B0aW9ucy5hcmlhTGFiZWwsCiAgICAgICAgImFyaWEtb3ducyI6IG9wdGlvbnMubGlzdGJveElkCiAgICAgIH0pLmNzcyhvcHRpb25zLmhpbnQgPyBvcHRpb25zLmNzcy5pbnB1dCA6IG9wdGlvbnMuY3NzLmlucHV0V2l0aE5vSGludCk7CiAgICAgIHRyeSB7CiAgICAgICAgaWYgKCEkaW5wdXQuYXR0cigiZGlyIikpIHsKICAgICAgICAgICRpbnB1dC5hdHRyKCJkaXIiLCAiYXV0byIpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgJHdyYXBwZXIgPSBvcHRpb25zLmFwcGVuZFRvID8gJHdyYXBwZXIuYXBwZW5kVG8oRE9NLmVsZW1lbnQob3B0aW9ucy5hcHBlbmRUbykuZXEoMCkpLmVxKDApIDogJGlucHV0LndyYXAoJHdyYXBwZXIpLnBhcmVudCgpOwogICAgICAkd3JhcHBlci5wcmVwZW5kKG9wdGlvbnMuaGludCA/ICRoaW50IDogbnVsbCkuYXBwZW5kKCRkcm9wZG93bik7CiAgICAgIHJldHVybiB7CiAgICAgICAgd3JhcHBlcjogJHdyYXBwZXIsCiAgICAgICAgaW5wdXQ6ICRpbnB1dCwKICAgICAgICBoaW50OiAkaGludCwKICAgICAgICBtZW51OiAkZHJvcGRvd24KICAgICAgfTsKICAgIH0KICAgIGZ1bmN0aW9uIGdldEJhY2tncm91bmRTdHlsZXMoJGVsKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgYmFja2dyb3VuZEF0dGFjaG1lbnQ6ICRlbC5jc3MoImJhY2tncm91bmQtYXR0YWNobWVudCIpLAogICAgICAgIGJhY2tncm91bmRDbGlwOiAkZWwuY3NzKCJiYWNrZ3JvdW5kLWNsaXAiKSwKICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICRlbC5jc3MoImJhY2tncm91bmQtY29sb3IiKSwKICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6ICRlbC5jc3MoImJhY2tncm91bmQtaW1hZ2UiKSwKICAgICAgICBiYWNrZ3JvdW5kT3JpZ2luOiAkZWwuY3NzKCJiYWNrZ3JvdW5kLW9yaWdpbiIpLAogICAgICAgIGJhY2tncm91bmRQb3NpdGlvbjogJGVsLmNzcygiYmFja2dyb3VuZC1wb3NpdGlvbiIpLAogICAgICAgIGJhY2tncm91bmRSZXBlYXQ6ICRlbC5jc3MoImJhY2tncm91bmQtcmVwZWF0IiksCiAgICAgICAgYmFja2dyb3VuZFNpemU6ICRlbC5jc3MoImJhY2tncm91bmQtc2l6ZSIpCiAgICAgIH07CiAgICB9CiAgICBmdW5jdGlvbiBkZXN0cm95RG9tU3RydWN0dXJlKCRub2RlLCBjc3NDbGFzc2VzKSB7CiAgICAgIHZhciAkaW5wdXQgPSAkbm9kZS5maW5kKF8uY2xhc3NOYW1lKGNzc0NsYXNzZXMucHJlZml4LCBjc3NDbGFzc2VzLmlucHV0KSk7CiAgICAgIF8uZWFjaCgkaW5wdXQuZGF0YShhdHRyc0tleSksIGZ1bmN0aW9uICh2YWwsIGtleSkgewogICAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgJGlucHV0LnJlbW92ZUF0dHIoa2V5KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgJGlucHV0LmF0dHIoa2V5LCB2YWwpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgICRpbnB1dC5kZXRhY2goKS5yZW1vdmVDbGFzcyhfLmNsYXNzTmFtZShjc3NDbGFzc2VzLnByZWZpeCwgY3NzQ2xhc3Nlcy5pbnB1dCwgdHJ1ZSkpLmluc2VydEFmdGVyKCRub2RlKTsKICAgICAgaWYgKCRpbnB1dC5yZW1vdmVEYXRhKSB7CiAgICAgICAgJGlucHV0LnJlbW92ZURhdGEoYXR0cnNLZXkpOwogICAgICB9CiAgICAgICRub2RlLnJlbW92ZSgpOwogICAgfQogICAgVHlwZWFoZWFkLkRyb3Bkb3duID0gRHJvcGRvd247CiAgICBUeXBlYWhlYWQuSW5wdXQgPSBJbnB1dDsKICAgIFR5cGVhaGVhZC5zb3VyY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MSk7CiAgICBtb2R1bGUuZXhwb3J0cyA9IFR5cGVhaGVhZDsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgdmFyIHNwZWNpYWxLZXlDb2RlTWFwOwogICAgc3BlY2lhbEtleUNvZGVNYXAgPSB7CiAgICAgIDk6ICJ0YWIiLAogICAgICAyNzogImVzYyIsCiAgICAgIDM3OiAibGVmdCIsCiAgICAgIDM5OiAicmlnaHQiLAogICAgICAxMzogImVudGVyIiwKICAgICAgMzg6ICJ1cCIsCiAgICAgIDQwOiAiZG93biIKICAgIH07CiAgICB2YXIgXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7CiAgICB2YXIgRE9NID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKICAgIHZhciBFdmVudEVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTsKICAgIGZ1bmN0aW9uIElucHV0KG8pIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB2YXIgb25CbHVyOwogICAgICB2YXIgb25Gb2N1czsKICAgICAgdmFyIG9uS2V5ZG93bjsKICAgICAgdmFyIG9uSW5wdXQ7CiAgICAgIG8gPSBvIHx8IHt9OwogICAgICBpZiAoIW8uaW5wdXQpIHsKICAgICAgICBfLmVycm9yKCJpbnB1dCBpcyBtaXNzaW5nIik7CiAgICAgIH0KICAgICAgb25CbHVyID0gXy5iaW5kKHRoaXMuX29uQmx1ciwgdGhpcyk7CiAgICAgIG9uRm9jdXMgPSBfLmJpbmQodGhpcy5fb25Gb2N1cywgdGhpcyk7CiAgICAgIG9uS2V5ZG93biA9IF8uYmluZCh0aGlzLl9vbktleWRvd24sIHRoaXMpOwogICAgICBvbklucHV0ID0gXy5iaW5kKHRoaXMuX29uSW5wdXQsIHRoaXMpOwogICAgICB0aGlzLiRoaW50ID0gRE9NLmVsZW1lbnQoby5oaW50KTsKICAgICAgdGhpcy4kaW5wdXQgPSBET00uZWxlbWVudChvLmlucHV0KS5vbigiYmx1ci5hYSIsIG9uQmx1cikub24oImZvY3VzLmFhIiwgb25Gb2N1cykub24oImtleWRvd24uYWEiLCBvbktleWRvd24pOwogICAgICBpZiAodGhpcy4kaGludC5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLnNldEhpbnQgPSB0aGlzLmdldEhpbnQgPSB0aGlzLmNsZWFySGludCA9IHRoaXMuY2xlYXJIaW50SWZJbnZhbGlkID0gXy5ub29wOwogICAgICB9CiAgICAgIGlmICghXy5pc01zaWUoKSkgewogICAgICAgIHRoaXMuJGlucHV0Lm9uKCJpbnB1dC5hYSIsIG9uSW5wdXQpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGlucHV0Lm9uKCJrZXlkb3duLmFhIGtleXByZXNzLmFhIGN1dC5hYSBwYXN0ZS5hYSIsIGZ1bmN0aW9uICgkZSkgewogICAgICAgICAgaWYgKHNwZWNpYWxLZXlDb2RlTWFwWyRlLndoaWNoIHx8ICRlLmtleUNvZGVdKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIF8uZGVmZXIoXy5iaW5kKHRoYXQuX29uSW5wdXQsIHRoYXQsICRlKSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgdGhpcy5xdWVyeSA9IHRoaXMuJGlucHV0LnZhbCgpOwogICAgICB0aGlzLiRvdmVyZmxvd0hlbHBlciA9IGJ1aWxkT3ZlcmZsb3dIZWxwZXIodGhpcy4kaW5wdXQpOwogICAgfQogICAgSW5wdXQubm9ybWFsaXplUXVlcnkgPSBmdW5jdGlvbiAoc3RyKSB7CiAgICAgIHJldHVybiAoc3RyIHx8ICIiKS5yZXBsYWNlKC9eXHMqL2csICIiKS5yZXBsYWNlKC9cc3syLH0vZywgIiAiKTsKICAgIH07CiAgICBfLm1peGluKElucHV0LnByb3RvdHlwZSwgRXZlbnRFbWl0dGVyLCB7CiAgICAgIF9vbkJsdXI6IGZ1bmN0aW9uIG9uQmx1cigpIHsKICAgICAgICB0aGlzLnJlc2V0SW5wdXRWYWx1ZSgpOwogICAgICAgIHRoaXMuJGlucHV0LnJlbW92ZUF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIpOwogICAgICAgIHRoaXMudHJpZ2dlcigiYmx1cnJlZCIpOwogICAgICB9LAogICAgICBfb25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cygpIHsKICAgICAgICB0aGlzLnRyaWdnZXIoImZvY3VzZWQiKTsKICAgICAgfSwKICAgICAgX29uS2V5ZG93bjogZnVuY3Rpb24gb25LZXlkb3duKCRlKSB7CiAgICAgICAgdmFyIGtleU5hbWUgPSBzcGVjaWFsS2V5Q29kZU1hcFskZS53aGljaCB8fCAkZS5rZXlDb2RlXTsKICAgICAgICB0aGlzLl9tYW5hZ2VQcmV2ZW50RGVmYXVsdChrZXlOYW1lLCAkZSk7CiAgICAgICAgaWYgKGtleU5hbWUgJiYgdGhpcy5fc2hvdWxkVHJpZ2dlcihrZXlOYW1lLCAkZSkpIHsKICAgICAgICAgIHRoaXMudHJpZ2dlcihrZXlOYW1lICsgIktleWVkIiwgJGUpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgX29uSW5wdXQ6IGZ1bmN0aW9uIG9uSW5wdXQoKSB7CiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbHVlKCk7CiAgICAgIH0sCiAgICAgIF9tYW5hZ2VQcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gbWFuYWdlUHJldmVudERlZmF1bHQoa2V5TmFtZSwgJGUpIHsKICAgICAgICB2YXIgcHJldmVudERlZmF1bHQ7CiAgICAgICAgdmFyIGhpbnRWYWx1ZTsKICAgICAgICB2YXIgaW5wdXRWYWx1ZTsKICAgICAgICBzd2l0Y2ggKGtleU5hbWUpIHsKICAgICAgICAgIGNhc2UgInRhYiI6CiAgICAgICAgICAgIGhpbnRWYWx1ZSA9IHRoaXMuZ2V0SGludCgpOwogICAgICAgICAgICBpbnB1dFZhbHVlID0gdGhpcy5nZXRJbnB1dFZhbHVlKCk7CiAgICAgICAgICAgIHByZXZlbnREZWZhdWx0ID0gaGludFZhbHVlICYmIGhpbnRWYWx1ZSAhPT0gaW5wdXRWYWx1ZSAmJiAhd2l0aE1vZGlmaWVyKCRlKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJ1cCI6CiAgICAgICAgICBjYXNlICJkb3duIjoKICAgICAgICAgICAgcHJldmVudERlZmF1bHQgPSAhd2l0aE1vZGlmaWVyKCRlKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBwcmV2ZW50RGVmYXVsdCA9IGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZiAocHJldmVudERlZmF1bHQpIHsKICAgICAgICAgICRlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBfc2hvdWxkVHJpZ2dlcjogZnVuY3Rpb24gc2hvdWxkVHJpZ2dlcihrZXlOYW1lLCAkZSkgewogICAgICAgIHZhciB0cmlnZ2VyOwogICAgICAgIHN3aXRjaCAoa2V5TmFtZSkgewogICAgICAgICAgY2FzZSAidGFiIjoKICAgICAgICAgICAgdHJpZ2dlciA9ICF3aXRoTW9kaWZpZXIoJGUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHRyaWdnZXIgPSB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJpZ2dlcjsKICAgICAgfSwKICAgICAgX2NoZWNrSW5wdXRWYWx1ZTogZnVuY3Rpb24gY2hlY2tJbnB1dFZhbHVlKCkgewogICAgICAgIHZhciBpbnB1dFZhbHVlOwogICAgICAgIHZhciBhcmVFcXVpdmFsZW50OwogICAgICAgIHZhciBoYXNEaWZmZXJlbnRXaGl0ZXNwYWNlOwogICAgICAgIGlucHV0VmFsdWUgPSB0aGlzLmdldElucHV0VmFsdWUoKTsKICAgICAgICBhcmVFcXVpdmFsZW50ID0gYXJlUXVlcmllc0VxdWl2YWxlbnQoaW5wdXRWYWx1ZSwgdGhpcy5xdWVyeSk7CiAgICAgICAgaGFzRGlmZmVyZW50V2hpdGVzcGFjZSA9IGFyZUVxdWl2YWxlbnQgJiYgdGhpcy5xdWVyeSA/IHRoaXMucXVlcnkubGVuZ3RoICE9PSBpbnB1dFZhbHVlLmxlbmd0aCA6IGZhbHNlOwogICAgICAgIHRoaXMucXVlcnkgPSBpbnB1dFZhbHVlOwogICAgICAgIGlmICghYXJlRXF1aXZhbGVudCkgewogICAgICAgICAgdGhpcy50cmlnZ2VyKCJxdWVyeUNoYW5nZWQiLCB0aGlzLnF1ZXJ5KTsKICAgICAgICB9IGVsc2UgaWYgKGhhc0RpZmZlcmVudFdoaXRlc3BhY2UpIHsKICAgICAgICAgIHRoaXMudHJpZ2dlcigid2hpdGVzcGFjZUNoYW5nZWQiLCB0aGlzLnF1ZXJ5KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZvY3VzOiBmdW5jdGlvbiBmb2N1cygpIHsKICAgICAgICB0aGlzLiRpbnB1dC5mb2N1cygpOwogICAgICB9LAogICAgICBibHVyOiBmdW5jdGlvbiBibHVyKCkgewogICAgICAgIHRoaXMuJGlucHV0LmJsdXIoKTsKICAgICAgfSwKICAgICAgZ2V0UXVlcnk6IGZ1bmN0aW9uIGdldFF1ZXJ5KCkgewogICAgICAgIHJldHVybiB0aGlzLnF1ZXJ5OwogICAgICB9LAogICAgICBzZXRRdWVyeTogZnVuY3Rpb24gc2V0UXVlcnkocXVlcnkpIHsKICAgICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnk7CiAgICAgIH0sCiAgICAgIGdldElucHV0VmFsdWU6IGZ1bmN0aW9uIGdldElucHV0VmFsdWUoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGlucHV0LnZhbCgpOwogICAgICB9LAogICAgICBzZXRJbnB1dFZhbHVlOiBmdW5jdGlvbiBzZXRJbnB1dFZhbHVlKHZhbHVlLCBzaWxlbnQpIHsKICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAidW5kZWZpbmVkIikgewogICAgICAgICAgdmFsdWUgPSB0aGlzLnF1ZXJ5OwogICAgICAgIH0KICAgICAgICB0aGlzLiRpbnB1dC52YWwodmFsdWUpOwogICAgICAgIGlmIChzaWxlbnQpIHsKICAgICAgICAgIHRoaXMuY2xlYXJIaW50KCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWx1ZSgpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZXhwYW5kOiBmdW5jdGlvbiBleHBhbmQoKSB7CiAgICAgICAgdGhpcy4kaW5wdXQuYXR0cigiYXJpYS1leHBhbmRlZCIsICJ0cnVlIik7CiAgICAgIH0sCiAgICAgIGNvbGxhcHNlOiBmdW5jdGlvbiBjb2xsYXBzZSgpIHsKICAgICAgICB0aGlzLiRpbnB1dC5hdHRyKCJhcmlhLWV4cGFuZGVkIiwgImZhbHNlIik7CiAgICAgIH0sCiAgICAgIHNldEFjdGl2ZURlc2NlbmRhbnQ6IGZ1bmN0aW9uIHNldEFjdGl2ZURlc2NlbmRhbnQoYWN0aXZlZGVzY2VuZGFudElkKSB7CiAgICAgICAgdGhpcy4kaW5wdXQuYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IiwgYWN0aXZlZGVzY2VuZGFudElkKTsKICAgICAgfSwKICAgICAgcmVtb3ZlQWN0aXZlRGVzY2VuZGFudDogZnVuY3Rpb24gcmVtb3ZlQWN0aXZlRGVzY2VuZGFudCgpIHsKICAgICAgICB0aGlzLiRpbnB1dC5yZW1vdmVBdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiKTsKICAgICAgfSwKICAgICAgcmVzZXRJbnB1dFZhbHVlOiBmdW5jdGlvbiByZXNldElucHV0VmFsdWUoKSB7CiAgICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKHRoaXMucXVlcnksIHRydWUpOwogICAgICB9LAogICAgICBnZXRIaW50OiBmdW5jdGlvbiBnZXRIaW50KCkgewogICAgICAgIHJldHVybiB0aGlzLiRoaW50LnZhbCgpOwogICAgICB9LAogICAgICBzZXRIaW50OiBmdW5jdGlvbiBzZXRIaW50KHZhbHVlKSB7CiAgICAgICAgdGhpcy4kaGludC52YWwodmFsdWUpOwogICAgICB9LAogICAgICBjbGVhckhpbnQ6IGZ1bmN0aW9uIGNsZWFySGludCgpIHsKICAgICAgICB0aGlzLnNldEhpbnQoIiIpOwogICAgICB9LAogICAgICBjbGVhckhpbnRJZkludmFsaWQ6IGZ1bmN0aW9uIGNsZWFySGludElmSW52YWxpZCgpIHsKICAgICAgICB2YXIgdmFsOwogICAgICAgIHZhciBoaW50OwogICAgICAgIHZhciB2YWxJc1ByZWZpeE9mSGludDsKICAgICAgICB2YXIgaXNWYWxpZDsKICAgICAgICB2YWwgPSB0aGlzLmdldElucHV0VmFsdWUoKTsKICAgICAgICBoaW50ID0gdGhpcy5nZXRIaW50KCk7CiAgICAgICAgdmFsSXNQcmVmaXhPZkhpbnQgPSB2YWwgIT09IGhpbnQgJiYgaGludC5pbmRleE9mKHZhbCkgPT09IDA7CiAgICAgICAgaXNWYWxpZCA9IHZhbCAhPT0gIiIgJiYgdmFsSXNQcmVmaXhPZkhpbnQgJiYgIXRoaXMuaGFzT3ZlcmZsb3coKTsKICAgICAgICBpZiAoIWlzVmFsaWQpIHsKICAgICAgICAgIHRoaXMuY2xlYXJIaW50KCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBnZXRMYW5ndWFnZURpcmVjdGlvbjogZnVuY3Rpb24gZ2V0TGFuZ3VhZ2VEaXJlY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuICh0aGlzLiRpbnB1dC5jc3MoImRpcmVjdGlvbiIpIHx8ICJsdHIiKS50b0xvd2VyQ2FzZSgpOwogICAgICB9LAogICAgICBoYXNPdmVyZmxvdzogZnVuY3Rpb24gaGFzT3ZlcmZsb3coKSB7CiAgICAgICAgdmFyIGNvbnN0cmFpbnQgPSB0aGlzLiRpbnB1dC53aWR0aCgpIC0gMjsKICAgICAgICB0aGlzLiRvdmVyZmxvd0hlbHBlci50ZXh0KHRoaXMuZ2V0SW5wdXRWYWx1ZSgpKTsKICAgICAgICByZXR1cm4gdGhpcy4kb3ZlcmZsb3dIZWxwZXIud2lkdGgoKSA+PSBjb25zdHJhaW50OwogICAgICB9LAogICAgICBpc0N1cnNvckF0RW5kOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHZhbHVlTGVuZ3RoOwogICAgICAgIHZhciBzZWxlY3Rpb25TdGFydDsKICAgICAgICB2YXIgcmFuZ2U7CiAgICAgICAgdmFsdWVMZW5ndGggPSB0aGlzLiRpbnB1dC52YWwoKS5sZW5ndGg7CiAgICAgICAgc2VsZWN0aW9uU3RhcnQgPSB0aGlzLiRpbnB1dFswXS5zZWxlY3Rpb25TdGFydDsKICAgICAgICBpZiAoXy5pc051bWJlcihzZWxlY3Rpb25TdGFydCkpIHsKICAgICAgICAgIHJldHVybiBzZWxlY3Rpb25TdGFydCA9PT0gdmFsdWVMZW5ndGg7CiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5zZWxlY3Rpb24pIHsKICAgICAgICAgIHJhbmdlID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7CiAgICAgICAgICByYW5nZS5tb3ZlU3RhcnQoImNoYXJhY3RlciIsIC12YWx1ZUxlbmd0aCk7CiAgICAgICAgICByZXR1cm4gdmFsdWVMZW5ndGggPT09IHJhbmdlLnRleHQubGVuZ3RoOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSwKICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHsKICAgICAgICB0aGlzLiRoaW50Lm9mZigiLmFhIik7CiAgICAgICAgdGhpcy4kaW5wdXQub2ZmKCIuYWEiKTsKICAgICAgICB0aGlzLiRoaW50ID0gdGhpcy4kaW5wdXQgPSB0aGlzLiRvdmVyZmxvd0hlbHBlciA9IG51bGw7CiAgICAgIH0KICAgIH0pOwogICAgZnVuY3Rpb24gYnVpbGRPdmVyZmxvd0hlbHBlcigkaW5wdXQpIHsKICAgICAgcmV0dXJuIERPTS5lbGVtZW50KCc8cHJlIGFyaWEtaGlkZGVuPSJ0cnVlIj48L3ByZT4nKS5jc3MoewogICAgICAgIHBvc2l0aW9uOiAiYWJzb2x1dGUiLAogICAgICAgIHZpc2liaWxpdHk6ICJoaWRkZW4iLAogICAgICAgIHdoaXRlU3BhY2U6ICJwcmUiLAogICAgICAgIGZvbnRGYW1pbHk6ICRpbnB1dC5jc3MoImZvbnQtZmFtaWx5IiksCiAgICAgICAgZm9udFNpemU6ICRpbnB1dC5jc3MoImZvbnQtc2l6ZSIpLAogICAgICAgIGZvbnRTdHlsZTogJGlucHV0LmNzcygiZm9udC1zdHlsZSIpLAogICAgICAgIGZvbnRWYXJpYW50OiAkaW5wdXQuY3NzKCJmb250LXZhcmlhbnQiKSwKICAgICAgICBmb250V2VpZ2h0OiAkaW5wdXQuY3NzKCJmb250LXdlaWdodCIpLAogICAgICAgIHdvcmRTcGFjaW5nOiAkaW5wdXQuY3NzKCJ3b3JkLXNwYWNpbmciKSwKICAgICAgICBsZXR0ZXJTcGFjaW5nOiAkaW5wdXQuY3NzKCJsZXR0ZXItc3BhY2luZyIpLAogICAgICAgIHRleHRJbmRlbnQ6ICRpbnB1dC5jc3MoInRleHQtaW5kZW50IiksCiAgICAgICAgdGV4dFJlbmRlcmluZzogJGlucHV0LmNzcygidGV4dC1yZW5kZXJpbmciKSwKICAgICAgICB0ZXh0VHJhbnNmb3JtOiAkaW5wdXQuY3NzKCJ0ZXh0LXRyYW5zZm9ybSIpCiAgICAgIH0pLmluc2VydEFmdGVyKCRpbnB1dCk7CiAgICB9CiAgICBmdW5jdGlvbiBhcmVRdWVyaWVzRXF1aXZhbGVudChhLCBiKSB7CiAgICAgIHJldHVybiBJbnB1dC5ub3JtYWxpemVRdWVyeShhKSA9PT0gSW5wdXQubm9ybWFsaXplUXVlcnkoYik7CiAgICB9CiAgICBmdW5jdGlvbiB3aXRoTW9kaWZpZXIoJGUpIHsKICAgICAgcmV0dXJuICRlLmFsdEtleSB8fCAkZS5jdHJsS2V5IHx8ICRlLm1ldGFLZXkgfHwgJGUuc2hpZnRLZXk7CiAgICB9CiAgICBtb2R1bGUuZXhwb3J0cyA9IElucHV0OwogIH0sIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICJ1c2Ugc3RyaWN0IjsKCiAgICB2YXIgdHlwZXMgPSBbX193ZWJwYWNrX3JlcXVpcmVfXyg1NCksIF9fd2VicGFja19yZXF1aXJlX18oNTUpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KSwgX193ZWJwYWNrX3JlcXVpcmVfXyg1NyksIF9fd2VicGFja19yZXF1aXJlX18oNTgpXTsKICAgIHZhciBkcmFpbmluZzsKICAgIHZhciBjdXJyZW50UXVldWU7CiAgICB2YXIgcXVldWVJbmRleCA9IC0xOwogICAgdmFyIHF1ZXVlID0gW107CiAgICB2YXIgc2NoZWR1bGVkID0gZmFsc2U7CiAgICBmdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7CiAgICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBkcmFpbmluZyA9IGZhbHNlOwogICAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkgewogICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcXVldWVJbmRleCA9IC0xOwogICAgICB9CiAgICAgIGlmIChxdWV1ZS5sZW5ndGgpIHsKICAgICAgICBuZXh0VGljaygpOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBuZXh0VGljaygpIHsKICAgICAgaWYgKGRyYWluaW5nKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHNjaGVkdWxlZCA9IGZhbHNlOwogICAgICBkcmFpbmluZyA9IHRydWU7CiAgICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7CiAgICAgIHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChjbGVhblVwTmV4dFRpY2spOwogICAgICB3aGlsZSAobGVuKSB7CiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7CiAgICAgICAgcXVldWUgPSBbXTsKICAgICAgICB3aGlsZSAoY3VycmVudFF1ZXVlICYmICsrcXVldWVJbmRleCA8IGxlbikgewogICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpOwogICAgICAgIH0KICAgICAgICBxdWV1ZUluZGV4ID0gLTE7CiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoOwogICAgICB9CiAgICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7CiAgICAgIHF1ZXVlSW5kZXggPSAtMTsKICAgICAgZHJhaW5pbmcgPSBmYWxzZTsKICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpOwogICAgfQogICAgdmFyIHNjaGVkdWxlRHJhaW47CiAgICB2YXIgaSA9IC0xOwogICAgdmFyIGxlbiA9IHR5cGVzLmxlbmd0aDsKICAgIHdoaWxlICgrK2kgPCBsZW4pIHsKICAgICAgaWYgKHR5cGVzW2ldICYmIHR5cGVzW2ldLnRlc3QgJiYgdHlwZXNbaV0udGVzdCgpKSB7CiAgICAgICAgc2NoZWR1bGVEcmFpbiA9IHR5cGVzW2ldLmluc3RhbGwobmV4dFRpY2spOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHsKICAgICAgdGhpcy5mdW4gPSBmdW47CiAgICAgIHRoaXMuYXJyYXkgPSBhcnJheTsKICAgIH0KICAgIEl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGZ1biA9IHRoaXMuZnVuOwogICAgICB2YXIgYXJyYXkgPSB0aGlzLmFycmF5OwogICAgICBzd2l0Y2ggKGFycmF5Lmxlbmd0aCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIHJldHVybiBmdW4oKTsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICByZXR1cm4gZnVuKGFycmF5WzBdKTsKICAgICAgICBjYXNlIDI6CiAgICAgICAgICByZXR1cm4gZnVuKGFycmF5WzBdLCBhcnJheVsxXSk7CiAgICAgICAgY2FzZSAzOgogICAgICAgICAgcmV0dXJuIGZ1bihhcnJheVswXSwgYXJyYXlbMV0sIGFycmF5WzJdKTsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuIGZ1bi5hcHBseShudWxsLCBhcnJheSk7CiAgICAgIH0KICAgIH07CiAgICBtb2R1bGUuZXhwb3J0cyA9IGltbWVkaWF0ZTsKICAgIGZ1bmN0aW9uIGltbWVkaWF0ZSh0YXNrKSB7CiAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTsKICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldOwogICAgICAgIH0KICAgICAgfQogICAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKHRhc2ssIGFyZ3MpKTsKICAgICAgaWYgKCFzY2hlZHVsZWQgJiYgIWRyYWluaW5nKSB7CiAgICAgICAgc2NoZWR1bGVkID0gdHJ1ZTsKICAgICAgICBzY2hlZHVsZURyYWluKCk7CiAgICAgIH0KICAgIH0KICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgKGZ1bmN0aW9uIChwcm9jZXNzKSB7CiAgICAgIGV4cG9ydHMudGVzdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdHlwZW9mIHByb2Nlc3MgIT09ICJ1bmRlZmluZWQiICYmICFwcm9jZXNzLmJyb3dzZXI7CiAgICAgIH07CiAgICAgIGV4cG9ydHMuaW5zdGFsbCA9IGZ1bmN0aW9uIChmdW5jKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuYyk7CiAgICAgICAgfTsKICAgICAgfTsKICAgIH0pLmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg5KSk7CiAgfSwgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgInVzZSBzdHJpY3QiOwoKICAgIChmdW5jdGlvbiAoZ2xvYmFsKSB7CiAgICAgIHZhciBNdXRhdGlvbiA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyOwogICAgICBleHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIE11dGF0aW9uOwogICAgICB9OwogICAgICBleHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbiAoaGFuZGxlKSB7CiAgICAgICAgdmFyIGNhbGxlZCA9IDA7CiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uKGhhbmRsZSk7CiAgICAgICAgdmFyIGVsZW1lbnQgPSBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpOwogICAgICAgIG9ic2VydmVyLm9ic2VydmUoZWxlbWVudCwgewogICAgICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBlbGVtZW50LmRhdGEgPSBjYWxsZWQgPSArK2NhbGxlZCAlIDI7CiAgICAgICAgfTsKICAgICAgfTsKICAgIH0pLmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg0KSk7CiAgfSwgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgInVzZSBzdHJpY3QiOwoKICAgIChmdW5jdGlvbiAoZ2xvYmFsKSB7CiAgICAgIGV4cG9ydHMudGVzdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoZ2xvYmFsLnNldEltbWVkaWF0ZSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHlwZW9mIGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCAhPT0gInVuZGVmaW5lZCI7CiAgICAgIH07CiAgICAgIGV4cG9ydHMuaW5zdGFsbCA9IGZ1bmN0aW9uIChmdW5jKSB7CiAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgZ2xvYmFsLk1lc3NhZ2VDaGFubmVsKCk7CiAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApOwogICAgICAgIH07CiAgICAgIH07CiAgICB9KS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNCkpOwogIH0sIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAoZnVuY3Rpb24gKGdsb2JhbCkgewogICAgICBleHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICJkb2N1bWVudCIgaW4gZ2xvYmFsICYmICJvbnJlYWR5c3RhdGVjaGFuZ2UiIGluIGdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICAgICAgfTsKICAgICAgZXhwb3J0cy5pbnN0YWxsID0gZnVuY3Rpb24gKGhhbmRsZSkgewogICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgc2NyaXB0RWwgPSBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7CiAgICAgICAgICBzY3JpcHRFbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGhhbmRsZSgpOwogICAgICAgICAgICBzY3JpcHRFbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsOwogICAgICAgICAgICBzY3JpcHRFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdEVsKTsKICAgICAgICAgICAgc2NyaXB0RWwgPSBudWxsOwogICAgICAgICAgfTsKICAgICAgICAgIGdsb2JhbC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoc2NyaXB0RWwpOwogICAgICAgICAgcmV0dXJuIGhhbmRsZTsKICAgICAgICB9OwogICAgICB9OwogICAgfSkuY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpKTsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgZXhwb3J0cy50ZXN0ID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH07CiAgICBleHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbiAodCkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHNldFRpbWVvdXQodCwgMCk7CiAgICAgIH07CiAgICB9OwogIH0sIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICJ1c2Ugc3RyaWN0IjsKCiAgICB2YXIgXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7CiAgICB2YXIgRE9NID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKICAgIHZhciBFdmVudEVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTsKICAgIHZhciBEYXRhc2V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MCk7CiAgICB2YXIgY3NzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7CiAgICBmdW5jdGlvbiBEcm9wZG93bihvKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIG9uU3VnZ2VzdGlvbkNsaWNrOwogICAgICB2YXIgb25TdWdnZXN0aW9uTW91c2VFbnRlcjsKICAgICAgdmFyIG9uU3VnZ2VzdGlvbk1vdXNlTGVhdmU7CiAgICAgIG8gPSBvIHx8IHt9OwogICAgICBpZiAoIW8ubWVudSkgewogICAgICAgIF8uZXJyb3IoIm1lbnUgaXMgcmVxdWlyZWQiKTsKICAgICAgfQogICAgICBpZiAoIV8uaXNBcnJheShvLmRhdGFzZXRzKSAmJiAhXy5pc09iamVjdChvLmRhdGFzZXRzKSkgewogICAgICAgIF8uZXJyb3IoIjEgb3IgbW9yZSBkYXRhc2V0cyByZXF1aXJlZCIpOwogICAgICB9CiAgICAgIGlmICghby5kYXRhc2V0cykgewogICAgICAgIF8uZXJyb3IoImRhdGFzZXRzIGlzIHJlcXVpcmVkIik7CiAgICAgIH0KICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5pc0VtcHR5ID0gdHJ1ZTsKICAgICAgdGhpcy5taW5MZW5ndGggPSBvLm1pbkxlbmd0aCB8fCAwOwogICAgICB0aGlzLnRlbXBsYXRlcyA9IHt9OwogICAgICB0aGlzLmFwcGVuZFRvID0gby5hcHBlbmRUbyB8fCBmYWxzZTsKICAgICAgdGhpcy5jc3MgPSBfLm1peGluKHt9LCBjc3MsIG8uYXBwZW5kVG8gPyBjc3MuYXBwZW5kVG8gOiB7fSk7CiAgICAgIHRoaXMuY3NzQ2xhc3NlcyA9IG8uY3NzQ2xhc3NlcyA9IF8ubWl4aW4oe30sIGNzcy5kZWZhdWx0Q2xhc3Nlcywgby5jc3NDbGFzc2VzIHx8IHt9KTsKICAgICAgdGhpcy5jc3NDbGFzc2VzLnByZWZpeCA9IG8uY3NzQ2xhc3Nlcy5mb3JtYXR0ZWRQcmVmaXggfHwgXy5mb3JtYXRQcmVmaXgodGhpcy5jc3NDbGFzc2VzLnByZWZpeCwgdGhpcy5jc3NDbGFzc2VzLm5vUHJlZml4KTsKICAgICAgb25TdWdnZXN0aW9uQ2xpY2sgPSBfLmJpbmQodGhpcy5fb25TdWdnZXN0aW9uQ2xpY2ssIHRoaXMpOwogICAgICBvblN1Z2dlc3Rpb25Nb3VzZUVudGVyID0gXy5iaW5kKHRoaXMuX29uU3VnZ2VzdGlvbk1vdXNlRW50ZXIsIHRoaXMpOwogICAgICBvblN1Z2dlc3Rpb25Nb3VzZUxlYXZlID0gXy5iaW5kKHRoaXMuX29uU3VnZ2VzdGlvbk1vdXNlTGVhdmUsIHRoaXMpOwogICAgICB2YXIgY3NzQ2xhc3MgPSBfLmNsYXNzTmFtZSh0aGlzLmNzc0NsYXNzZXMucHJlZml4LCB0aGlzLmNzc0NsYXNzZXMuc3VnZ2VzdGlvbik7CiAgICAgIHRoaXMuJG1lbnUgPSBET00uZWxlbWVudChvLm1lbnUpLm9uKCJtb3VzZWVudGVyLmFhIiwgY3NzQ2xhc3MsIG9uU3VnZ2VzdGlvbk1vdXNlRW50ZXIpLm9uKCJtb3VzZWxlYXZlLmFhIiwgY3NzQ2xhc3MsIG9uU3VnZ2VzdGlvbk1vdXNlTGVhdmUpLm9uKCJjbGljay5hYSIsIGNzc0NsYXNzLCBvblN1Z2dlc3Rpb25DbGljayk7CiAgICAgIHRoaXMuJGNvbnRhaW5lciA9IG8uYXBwZW5kVG8gPyBvLndyYXBwZXIgOiB0aGlzLiRtZW51OwogICAgICBpZiAoby50ZW1wbGF0ZXMgJiYgby50ZW1wbGF0ZXMuaGVhZGVyKSB7CiAgICAgICAgdGhpcy50ZW1wbGF0ZXMuaGVhZGVyID0gXy50ZW1wbGF0aWZ5KG8udGVtcGxhdGVzLmhlYWRlcik7CiAgICAgICAgdGhpcy4kbWVudS5wcmVwZW5kKHRoaXMudGVtcGxhdGVzLmhlYWRlcigpKTsKICAgICAgfQogICAgICBpZiAoby50ZW1wbGF0ZXMgJiYgby50ZW1wbGF0ZXMuZW1wdHkpIHsKICAgICAgICB0aGlzLnRlbXBsYXRlcy5lbXB0eSA9IF8udGVtcGxhdGlmeShvLnRlbXBsYXRlcy5lbXB0eSk7CiAgICAgICAgdGhpcy4kZW1wdHkgPSBET00uZWxlbWVudCgnPGRpdiBjbGFzcz0iJyArIF8uY2xhc3NOYW1lKHRoaXMuY3NzQ2xhc3Nlcy5wcmVmaXgsIHRoaXMuY3NzQ2xhc3Nlcy5lbXB0eSwgdHJ1ZSkgKyAnIj4nICsgIjwvZGl2PiIpOwogICAgICAgIHRoaXMuJG1lbnUuYXBwZW5kKHRoaXMuJGVtcHR5KTsKICAgICAgICB0aGlzLiRlbXB0eS5oaWRlKCk7CiAgICAgIH0KICAgICAgdGhpcy5kYXRhc2V0cyA9IF8ubWFwKG8uZGF0YXNldHMsIGZ1bmN0aW9uIChvRGF0YXNldCkgewogICAgICAgIHJldHVybiBpbml0aWFsaXplRGF0YXNldCh0aGF0LiRtZW51LCBvRGF0YXNldCwgby5jc3NDbGFzc2VzKTsKICAgICAgfSk7CiAgICAgIF8uZWFjaCh0aGlzLmRhdGFzZXRzLCBmdW5jdGlvbiAoZGF0YXNldCkgewogICAgICAgIHZhciByb290ID0gZGF0YXNldC5nZXRSb290KCk7CiAgICAgICAgaWYgKHJvb3QgJiYgcm9vdC5wYXJlbnQoKS5sZW5ndGggPT09IDApIHsKICAgICAgICAgIHRoYXQuJG1lbnUuYXBwZW5kKHJvb3QpOwogICAgICAgIH0KICAgICAgICBkYXRhc2V0Lm9uU3luYygicmVuZGVyZWQiLCB0aGF0Ll9vblJlbmRlcmVkLCB0aGF0KTsKICAgICAgfSk7CiAgICAgIGlmIChvLnRlbXBsYXRlcyAmJiBvLnRlbXBsYXRlcy5mb290ZXIpIHsKICAgICAgICB0aGlzLnRlbXBsYXRlcy5mb290ZXIgPSBfLnRlbXBsYXRpZnkoby50ZW1wbGF0ZXMuZm9vdGVyKTsKICAgICAgICB0aGlzLiRtZW51LmFwcGVuZCh0aGlzLnRlbXBsYXRlcy5mb290ZXIoKSk7CiAgICAgIH0KICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICBET00uZWxlbWVudCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgc2VsZi5fcmVkcmF3KCk7CiAgICAgIH0pOwogICAgfQogICAgXy5taXhpbihEcm9wZG93bi5wcm90b3R5cGUsIEV2ZW50RW1pdHRlciwgewogICAgICBfb25TdWdnZXN0aW9uQ2xpY2s6IGZ1bmN0aW9uIG9uU3VnZ2VzdGlvbkNsaWNrKCRlKSB7CiAgICAgICAgdGhpcy50cmlnZ2VyKCJzdWdnZXN0aW9uQ2xpY2tlZCIsIERPTS5lbGVtZW50KCRlLmN1cnJlbnRUYXJnZXQpKTsKICAgICAgfSwKICAgICAgX29uU3VnZ2VzdGlvbk1vdXNlRW50ZXI6IGZ1bmN0aW9uIG9uU3VnZ2VzdGlvbk1vdXNlRW50ZXIoJGUpIHsKICAgICAgICB2YXIgZWx0ID0gRE9NLmVsZW1lbnQoJGUuY3VycmVudFRhcmdldCk7CiAgICAgICAgaWYgKGVsdC5oYXNDbGFzcyhfLmNsYXNzTmFtZSh0aGlzLmNzc0NsYXNzZXMucHJlZml4LCB0aGlzLmNzc0NsYXNzZXMuY3Vyc29yLCB0cnVlKSkpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdGhpcy5fcmVtb3ZlQ3Vyc29yKCk7CiAgICAgICAgdmFyIHN1Z2dlc3Rpb24gPSB0aGlzOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgc3VnZ2VzdGlvbi5fc2V0Q3Vyc29yKGVsdCwgZmFsc2UpOwogICAgICAgIH0sIDApOwogICAgICB9LAogICAgICBfb25TdWdnZXN0aW9uTW91c2VMZWF2ZTogZnVuY3Rpb24gb25TdWdnZXN0aW9uTW91c2VMZWF2ZSgkZSkgewogICAgICAgIGlmICgkZS5yZWxhdGVkVGFyZ2V0KSB7CiAgICAgICAgICB2YXIgZWx0ID0gRE9NLmVsZW1lbnQoJGUucmVsYXRlZFRhcmdldCk7CiAgICAgICAgICBpZiAoZWx0LmNsb3Nlc3QoIi4iICsgXy5jbGFzc05hbWUodGhpcy5jc3NDbGFzc2VzLnByZWZpeCwgdGhpcy5jc3NDbGFzc2VzLmN1cnNvciwgdHJ1ZSkpLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB0aGlzLl9yZW1vdmVDdXJzb3IoKTsKICAgICAgICB0aGlzLnRyaWdnZXIoImN1cnNvclJlbW92ZWQiKTsKICAgICAgfSwKICAgICAgX29uUmVuZGVyZWQ6IGZ1bmN0aW9uIG9uUmVuZGVyZWQoZSwgcXVlcnkpIHsKICAgICAgICB0aGlzLmlzRW1wdHkgPSBfLmV2ZXJ5KHRoaXMuZGF0YXNldHMsIGlzRGF0YXNldEVtcHR5KTsKICAgICAgICBpZiAodGhpcy5pc0VtcHR5KSB7CiAgICAgICAgICBpZiAocXVlcnkubGVuZ3RoID49IHRoaXMubWluTGVuZ3RoKSB7CiAgICAgICAgICAgIHRoaXMudHJpZ2dlcigiZW1wdHkiKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0aGlzLiRlbXB0eSkgewogICAgICAgICAgICBpZiAocXVlcnkubGVuZ3RoIDwgdGhpcy5taW5MZW5ndGgpIHsKICAgICAgICAgICAgICB0aGlzLl9oaWRlKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdmFyIGh0bWwgPSB0aGlzLnRlbXBsYXRlcy5lbXB0eSh7CiAgICAgICAgICAgICAgICBxdWVyeTogdGhpcy5kYXRhc2V0c1swXSAmJiB0aGlzLmRhdGFzZXRzWzBdLnF1ZXJ5CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdGhpcy4kZW1wdHkuaHRtbChodG1sKTsKICAgICAgICAgICAgICB0aGlzLiRlbXB0eS5zaG93KCk7CiAgICAgICAgICAgICAgdGhpcy5fc2hvdygpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKF8uYW55KHRoaXMuZGF0YXNldHMsIGhhc0VtcHR5VGVtcGxhdGUpKSB7CiAgICAgICAgICAgIGlmIChxdWVyeS5sZW5ndGggPCB0aGlzLm1pbkxlbmd0aCkgewogICAgICAgICAgICAgIHRoaXMuX2hpZGUoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLl9zaG93KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuX2hpZGUoKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNPcGVuKSB7CiAgICAgICAgICBpZiAodGhpcy4kZW1wdHkpIHsKICAgICAgICAgICAgdGhpcy4kZW1wdHkuZW1wdHkoKTsKICAgICAgICAgICAgdGhpcy4kZW1wdHkuaGlkZSgpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHF1ZXJ5Lmxlbmd0aCA+PSB0aGlzLm1pbkxlbmd0aCkgewogICAgICAgICAgICB0aGlzLl9zaG93KCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLl9oaWRlKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRoaXMudHJpZ2dlcigiZGF0YXNldFJlbmRlcmVkIik7CiAgICAgICAgZnVuY3Rpb24gaXNEYXRhc2V0RW1wdHkoZGF0YXNldCkgewogICAgICAgICAgcmV0dXJuIGRhdGFzZXQuaXNFbXB0eSgpOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBoYXNFbXB0eVRlbXBsYXRlKGRhdGFzZXQpIHsKICAgICAgICAgIHJldHVybiBkYXRhc2V0LnRlbXBsYXRlcyAmJiBkYXRhc2V0LnRlbXBsYXRlcy5lbXB0eTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIF9oaWRlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy4kY29udGFpbmVyLmhpZGUoKTsKICAgICAgfSwKICAgICAgX3Nob3c6IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLiRjb250YWluZXIuY3NzKCJkaXNwbGF5IiwgImJsb2NrIik7CiAgICAgICAgdGhpcy5fcmVkcmF3KCk7CiAgICAgICAgdGhpcy50cmlnZ2VyKCJzaG93biIpOwogICAgICB9LAogICAgICBfcmVkcmF3OiBmdW5jdGlvbiByZWRyYXcoKSB7CiAgICAgICAgaWYgKCF0aGlzLmlzT3BlbiB8fCAhdGhpcy5hcHBlbmRUbykgcmV0dXJuOwogICAgICAgIHRoaXMudHJpZ2dlcigicmVkcmF3biIpOwogICAgICB9LAogICAgICBfZ2V0U3VnZ2VzdGlvbnM6IGZ1bmN0aW9uIGdldFN1Z2dlc3Rpb25zKCkgewogICAgICAgIHJldHVybiB0aGlzLiRtZW51LmZpbmQoXy5jbGFzc05hbWUodGhpcy5jc3NDbGFzc2VzLnByZWZpeCwgdGhpcy5jc3NDbGFzc2VzLnN1Z2dlc3Rpb24pKTsKICAgICAgfSwKICAgICAgX2dldEN1cnNvcjogZnVuY3Rpb24gZ2V0Q3Vyc29yKCkgewogICAgICAgIHJldHVybiB0aGlzLiRtZW51LmZpbmQoXy5jbGFzc05hbWUodGhpcy5jc3NDbGFzc2VzLnByZWZpeCwgdGhpcy5jc3NDbGFzc2VzLmN1cnNvcikpLmZpcnN0KCk7CiAgICAgIH0sCiAgICAgIF9zZXRDdXJzb3I6IGZ1bmN0aW9uIHNldEN1cnNvcigkZWwsIHVwZGF0ZUlucHV0KSB7CiAgICAgICAgJGVsLmZpcnN0KCkuYWRkQ2xhc3MoXy5jbGFzc05hbWUodGhpcy5jc3NDbGFzc2VzLnByZWZpeCwgdGhpcy5jc3NDbGFzc2VzLmN1cnNvciwgdHJ1ZSkpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCAidHJ1ZSIpOwogICAgICAgIHRoaXMudHJpZ2dlcigiY3Vyc29yTW92ZWQiLCB1cGRhdGVJbnB1dCk7CiAgICAgIH0sCiAgICAgIF9yZW1vdmVDdXJzb3I6IGZ1bmN0aW9uIHJlbW92ZUN1cnNvcigpIHsKICAgICAgICB0aGlzLl9nZXRDdXJzb3IoKS5yZW1vdmVDbGFzcyhfLmNsYXNzTmFtZSh0aGlzLmNzc0NsYXNzZXMucHJlZml4LCB0aGlzLmNzc0NsYXNzZXMuY3Vyc29yLCB0cnVlKSkucmVtb3ZlQXR0cigiYXJpYS1zZWxlY3RlZCIpOwogICAgICB9LAogICAgICBfbW92ZUN1cnNvcjogZnVuY3Rpb24gbW92ZUN1cnNvcihpbmNyZW1lbnQpIHsKICAgICAgICB2YXIgJHN1Z2dlc3Rpb25zOwogICAgICAgIHZhciAkb2xkQ3Vyc29yOwogICAgICAgIHZhciBuZXdDdXJzb3JJbmRleDsKICAgICAgICB2YXIgJG5ld0N1cnNvcjsKICAgICAgICBpZiAoIXRoaXMuaXNPcGVuKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgICRvbGRDdXJzb3IgPSB0aGlzLl9nZXRDdXJzb3IoKTsKICAgICAgICAkc3VnZ2VzdGlvbnMgPSB0aGlzLl9nZXRTdWdnZXN0aW9ucygpOwogICAgICAgIHRoaXMuX3JlbW92ZUN1cnNvcigpOwogICAgICAgIG5ld0N1cnNvckluZGV4ID0gJHN1Z2dlc3Rpb25zLmluZGV4KCRvbGRDdXJzb3IpICsgaW5jcmVtZW50OwogICAgICAgIG5ld0N1cnNvckluZGV4ID0gKG5ld0N1cnNvckluZGV4ICsgMSkgJSAoJHN1Z2dlc3Rpb25zLmxlbmd0aCArIDEpIC0gMTsKICAgICAgICBpZiAobmV3Q3Vyc29ySW5kZXggPT09IC0xKSB7CiAgICAgICAgICB0aGlzLnRyaWdnZXIoImN1cnNvclJlbW92ZWQiKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgaWYgKG5ld0N1cnNvckluZGV4IDwgLTEpIHsKICAgICAgICAgIG5ld0N1cnNvckluZGV4ID0gJHN1Z2dlc3Rpb25zLmxlbmd0aCAtIDE7CiAgICAgICAgfQogICAgICAgIHRoaXMuX3NldEN1cnNvcigkbmV3Q3Vyc29yID0gJHN1Z2dlc3Rpb25zLmVxKG5ld0N1cnNvckluZGV4KSwgdHJ1ZSk7CiAgICAgICAgdGhpcy5fZW5zdXJlVmlzaWJsZSgkbmV3Q3Vyc29yKTsKICAgICAgfSwKICAgICAgX2Vuc3VyZVZpc2libGU6IGZ1bmN0aW9uIGVuc3VyZVZpc2libGUoJGVsKSB7CiAgICAgICAgdmFyIGVsVG9wOwogICAgICAgIHZhciBlbEJvdHRvbTsKICAgICAgICB2YXIgbWVudVNjcm9sbFRvcDsKICAgICAgICB2YXIgbWVudUhlaWdodDsKICAgICAgICBlbFRvcCA9ICRlbC5wb3NpdGlvbigpLnRvcDsKICAgICAgICBlbEJvdHRvbSA9IGVsVG9wICsgJGVsLmhlaWdodCgpICsgcGFyc2VJbnQoJGVsLmNzcygibWFyZ2luLXRvcCIpLCAxMCkgKyBwYXJzZUludCgkZWwuY3NzKCJtYXJnaW4tYm90dG9tIiksIDEwKTsKICAgICAgICBtZW51U2Nyb2xsVG9wID0gdGhpcy4kbWVudS5zY3JvbGxUb3AoKTsKICAgICAgICBtZW51SGVpZ2h0ID0gdGhpcy4kbWVudS5oZWlnaHQoKSArIHBhcnNlSW50KHRoaXMuJG1lbnUuY3NzKCJwYWRkaW5nLXRvcCIpLCAxMCkgKyBwYXJzZUludCh0aGlzLiRtZW51LmNzcygicGFkZGluZy1ib3R0b20iKSwgMTApOwogICAgICAgIGlmIChlbFRvcCA8IDApIHsKICAgICAgICAgIHRoaXMuJG1lbnUuc2Nyb2xsVG9wKG1lbnVTY3JvbGxUb3AgKyBlbFRvcCk7CiAgICAgICAgfSBlbHNlIGlmIChtZW51SGVpZ2h0IDwgZWxCb3R0b20pIHsKICAgICAgICAgIHRoaXMuJG1lbnUuc2Nyb2xsVG9wKG1lbnVTY3JvbGxUb3AgKyAoZWxCb3R0b20gLSBtZW51SGVpZ2h0KSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgICAgaWYgKHRoaXMuaXNPcGVuKSB7CiAgICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlOwogICAgICAgICAgdGhpcy5fcmVtb3ZlQ3Vyc29yKCk7CiAgICAgICAgICB0aGlzLl9oaWRlKCk7CiAgICAgICAgICB0aGlzLnRyaWdnZXIoImNsb3NlZCIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgb3BlbjogZnVuY3Rpb24gb3BlbigpIHsKICAgICAgICBpZiAoIXRoaXMuaXNPcGVuKSB7CiAgICAgICAgICB0aGlzLmlzT3BlbiA9IHRydWU7CiAgICAgICAgICBpZiAoIXRoaXMuaXNFbXB0eSkgewogICAgICAgICAgICB0aGlzLl9zaG93KCk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnRyaWdnZXIoIm9wZW5lZCIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgc2V0TGFuZ3VhZ2VEaXJlY3Rpb246IGZ1bmN0aW9uIHNldExhbmd1YWdlRGlyZWN0aW9uKGRpcikgewogICAgICAgIHRoaXMuJG1lbnUuY3NzKGRpciA9PT0gImx0ciIgPyB0aGlzLmNzcy5sdHIgOiB0aGlzLmNzcy5ydGwpOwogICAgICB9LAogICAgICBtb3ZlQ3Vyc29yVXA6IGZ1bmN0aW9uIG1vdmVDdXJzb3JVcCgpIHsKICAgICAgICB0aGlzLl9tb3ZlQ3Vyc29yKC0xKTsKICAgICAgfSwKICAgICAgbW92ZUN1cnNvckRvd246IGZ1bmN0aW9uIG1vdmVDdXJzb3JEb3duKCkgewogICAgICAgIHRoaXMuX21vdmVDdXJzb3IoKzEpOwogICAgICB9LAogICAgICBnZXREYXR1bUZvclN1Z2dlc3Rpb246IGZ1bmN0aW9uIGdldERhdHVtRm9yU3VnZ2VzdGlvbigkZWwpIHsKICAgICAgICB2YXIgZGF0dW0gPSBudWxsOwogICAgICAgIGlmICgkZWwubGVuZ3RoKSB7CiAgICAgICAgICBkYXR1bSA9IHsKICAgICAgICAgICAgcmF3OiBEYXRhc2V0LmV4dHJhY3REYXR1bSgkZWwpLAogICAgICAgICAgICB2YWx1ZTogRGF0YXNldC5leHRyYWN0VmFsdWUoJGVsKSwKICAgICAgICAgICAgZGF0YXNldE5hbWU6IERhdGFzZXQuZXh0cmFjdERhdGFzZXROYW1lKCRlbCkKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIHJldHVybiBkYXR1bTsKICAgICAgfSwKICAgICAgZ2V0Q3VycmVudEN1cnNvcjogZnVuY3Rpb24gZ2V0Q3VycmVudEN1cnNvcigpIHsKICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Q3Vyc29yKCkuZmlyc3QoKTsKICAgICAgfSwKICAgICAgZ2V0RGF0dW1Gb3JDdXJzb3I6IGZ1bmN0aW9uIGdldERhdHVtRm9yQ3Vyc29yKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldERhdHVtRm9yU3VnZ2VzdGlvbih0aGlzLl9nZXRDdXJzb3IoKS5maXJzdCgpKTsKICAgICAgfSwKICAgICAgZ2V0RGF0dW1Gb3JUb3BTdWdnZXN0aW9uOiBmdW5jdGlvbiBnZXREYXR1bUZvclRvcFN1Z2dlc3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0dW1Gb3JTdWdnZXN0aW9uKHRoaXMuX2dldFN1Z2dlc3Rpb25zKCkuZmlyc3QoKSk7CiAgICAgIH0sCiAgICAgIGN1cnNvclRvcFN1Z2dlc3Rpb246IGZ1bmN0aW9uIGN1cnNvclRvcFN1Z2dlc3Rpb24oKSB7CiAgICAgICAgdGhpcy5fc2V0Q3Vyc29yKHRoaXMuX2dldFN1Z2dlc3Rpb25zKCkuZmlyc3QoKSwgZmFsc2UpOwogICAgICB9LAogICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShxdWVyeSkgewogICAgICAgIF8uZWFjaCh0aGlzLmRhdGFzZXRzLCB1cGRhdGVEYXRhc2V0KTsKICAgICAgICBmdW5jdGlvbiB1cGRhdGVEYXRhc2V0KGRhdGFzZXQpIHsKICAgICAgICAgIGRhdGFzZXQudXBkYXRlKHF1ZXJ5KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGVtcHR5OiBmdW5jdGlvbiBlbXB0eSgpIHsKICAgICAgICBfLmVhY2godGhpcy5kYXRhc2V0cywgY2xlYXJEYXRhc2V0KTsKICAgICAgICB0aGlzLmlzRW1wdHkgPSB0cnVlOwogICAgICAgIGZ1bmN0aW9uIGNsZWFyRGF0YXNldChkYXRhc2V0KSB7CiAgICAgICAgICBkYXRhc2V0LmNsZWFyKCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBpc1Zpc2libGU6IGZ1bmN0aW9uIGlzVmlzaWJsZSgpIHsKICAgICAgICByZXR1cm4gdGhpcy5pc09wZW4gJiYgIXRoaXMuaXNFbXB0eTsKICAgICAgfSwKICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHsKICAgICAgICB0aGlzLiRtZW51Lm9mZigiLmFhIik7CiAgICAgICAgdGhpcy4kbWVudSA9IG51bGw7CiAgICAgICAgXy5lYWNoKHRoaXMuZGF0YXNldHMsIGRlc3Ryb3lEYXRhc2V0KTsKICAgICAgICBmdW5jdGlvbiBkZXN0cm95RGF0YXNldChkYXRhc2V0KSB7CiAgICAgICAgICBkYXRhc2V0LmRlc3Ryb3koKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogICAgRHJvcGRvd24uRGF0YXNldCA9IERhdGFzZXQ7CiAgICBmdW5jdGlvbiBpbml0aWFsaXplRGF0YXNldCgkbWVudSwgb0RhdGFzZXQsIGNzc0NsYXNzZXMpIHsKICAgICAgcmV0dXJuIG5ldyBEcm9wZG93bi5EYXRhc2V0KF8ubWl4aW4oewogICAgICAgICRtZW51OiAkbWVudSwKICAgICAgICBjc3NDbGFzc2VzOiBjc3NDbGFzc2VzCiAgICAgIH0sIG9EYXRhc2V0KSk7CiAgICB9CiAgICBtb2R1bGUuZXhwb3J0cyA9IERyb3Bkb3duOwogIH0sIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICJ1c2Ugc3RyaWN0IjsKCiAgICB2YXIgZGF0YXNldEtleSA9ICJhYURhdGFzZXQiOwogICAgdmFyIHZhbHVlS2V5ID0gImFhVmFsdWUiOwogICAgdmFyIGRhdHVtS2V5ID0gImFhRGF0dW0iOwogICAgdmFyIF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApOwogICAgdmFyIERPTSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CiAgICB2YXIgaHRtbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpOwogICAgdmFyIGNzcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpOwogICAgdmFyIEV2ZW50RW1pdHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTApOwogICAgZnVuY3Rpb24gRGF0YXNldChvKSB7CiAgICAgIG8gPSBvIHx8IHt9OwogICAgICBvLnRlbXBsYXRlcyA9IG8udGVtcGxhdGVzIHx8IHt9OwogICAgICBpZiAoIW8uc291cmNlKSB7CiAgICAgICAgXy5lcnJvcigibWlzc2luZyBzb3VyY2UiKTsKICAgICAgfQogICAgICBpZiAoby5uYW1lICYmICFpc1ZhbGlkTmFtZShvLm5hbWUpKSB7CiAgICAgICAgXy5lcnJvcigiaW52YWxpZCBkYXRhc2V0IG5hbWU6ICIgKyBvLm5hbWUpOwogICAgICB9CiAgICAgIHRoaXMucXVlcnkgPSBudWxsOwogICAgICB0aGlzLl9pc0VtcHR5ID0gdHJ1ZTsKICAgICAgdGhpcy5oaWdobGlnaHQgPSAhIW8uaGlnaGxpZ2h0OwogICAgICB0aGlzLm5hbWUgPSB0eXBlb2Ygby5uYW1lID09PSAidW5kZWZpbmVkIiB8fCBvLm5hbWUgPT09IG51bGwgPyBfLmdldFVuaXF1ZUlkKCkgOiBvLm5hbWU7CiAgICAgIHRoaXMuc291cmNlID0gby5zb3VyY2U7CiAgICAgIHRoaXMuZGlzcGxheUZuID0gZ2V0RGlzcGxheUZuKG8uZGlzcGxheSB8fCBvLmRpc3BsYXlLZXkpOwogICAgICB0aGlzLmRlYm91bmNlID0gby5kZWJvdW5jZTsKICAgICAgdGhpcy5jYWNoZSA9IG8uY2FjaGUgIT09IGZhbHNlOwogICAgICB0aGlzLnRlbXBsYXRlcyA9IGdldFRlbXBsYXRlcyhvLnRlbXBsYXRlcywgdGhpcy5kaXNwbGF5Rm4pOwogICAgICB0aGlzLmNzcyA9IF8ubWl4aW4oe30sIGNzcywgby5hcHBlbmRUbyA/IGNzcy5hcHBlbmRUbyA6IHt9KTsKICAgICAgdGhpcy5jc3NDbGFzc2VzID0gby5jc3NDbGFzc2VzID0gXy5taXhpbih7fSwgY3NzLmRlZmF1bHRDbGFzc2VzLCBvLmNzc0NsYXNzZXMgfHwge30pOwogICAgICB0aGlzLmNzc0NsYXNzZXMucHJlZml4ID0gby5jc3NDbGFzc2VzLmZvcm1hdHRlZFByZWZpeCB8fCBfLmZvcm1hdFByZWZpeCh0aGlzLmNzc0NsYXNzZXMucHJlZml4LCB0aGlzLmNzc0NsYXNzZXMubm9QcmVmaXgpOwogICAgICB2YXIgY2xhenogPSBfLmNsYXNzTmFtZSh0aGlzLmNzc0NsYXNzZXMucHJlZml4LCB0aGlzLmNzc0NsYXNzZXMuZGF0YXNldCk7CiAgICAgIHRoaXMuJGVsID0gby4kbWVudSAmJiBvLiRtZW51LmZpbmQoY2xhenogKyAiLSIgKyB0aGlzLm5hbWUpLmxlbmd0aCA+IDAgPyBET00uZWxlbWVudChvLiRtZW51LmZpbmQoY2xhenogKyAiLSIgKyB0aGlzLm5hbWUpWzBdKSA6IERPTS5lbGVtZW50KGh0bWwuZGF0YXNldC5yZXBsYWNlKCIlQ0xBU1MlIiwgdGhpcy5uYW1lKS5yZXBsYWNlKCIlUFJFRklYJSIsIHRoaXMuY3NzQ2xhc3Nlcy5wcmVmaXgpLnJlcGxhY2UoIiVEQVRBU0VUJSIsIHRoaXMuY3NzQ2xhc3Nlcy5kYXRhc2V0KSk7CiAgICAgIHRoaXMuJG1lbnUgPSBvLiRtZW51OwogICAgICB0aGlzLmNsZWFyQ2FjaGVkU3VnZ2VzdGlvbnMoKTsKICAgIH0KICAgIERhdGFzZXQuZXh0cmFjdERhdGFzZXROYW1lID0gZnVuY3Rpb24gZXh0cmFjdERhdGFzZXROYW1lKGVsKSB7CiAgICAgIHJldHVybiBET00uZWxlbWVudChlbCkuZGF0YShkYXRhc2V0S2V5KTsKICAgIH07CiAgICBEYXRhc2V0LmV4dHJhY3RWYWx1ZSA9IGZ1bmN0aW9uIGV4dHJhY3RWYWx1ZShlbCkgewogICAgICByZXR1cm4gRE9NLmVsZW1lbnQoZWwpLmRhdGEodmFsdWVLZXkpOwogICAgfTsKICAgIERhdGFzZXQuZXh0cmFjdERhdHVtID0gZnVuY3Rpb24gZXh0cmFjdERhdHVtKGVsKSB7CiAgICAgIHZhciBkYXR1bSA9IERPTS5lbGVtZW50KGVsKS5kYXRhKGRhdHVtS2V5KTsKICAgICAgaWYgKHR5cGVvZiBkYXR1bSA9PT0gInN0cmluZyIpIHsKICAgICAgICBkYXR1bSA9IEpTT04ucGFyc2UoZGF0dW0pOwogICAgICB9CiAgICAgIHJldHVybiBkYXR1bTsKICAgIH07CiAgICBfLm1peGluKERhdGFzZXQucHJvdG90eXBlLCBFdmVudEVtaXR0ZXIsIHsKICAgICAgX3JlbmRlcjogZnVuY3Rpb24gcmVuZGVyKHF1ZXJ5LCBzdWdnZXN0aW9ucykgewogICAgICAgIGlmICghdGhpcy4kZWwpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICAgIHZhciBoYXNTdWdnZXN0aW9uczsKICAgICAgICB2YXIgcmVuZGVyQXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTsKICAgICAgICB0aGlzLiRlbC5lbXB0eSgpOwogICAgICAgIGhhc1N1Z2dlc3Rpb25zID0gc3VnZ2VzdGlvbnMgJiYgc3VnZ2VzdGlvbnMubGVuZ3RoOwogICAgICAgIHRoaXMuX2lzRW1wdHkgPSAhaGFzU3VnZ2VzdGlvbnM7CiAgICAgICAgaWYgKCFoYXNTdWdnZXN0aW9ucyAmJiB0aGlzLnRlbXBsYXRlcy5lbXB0eSkgewogICAgICAgICAgdGhpcy4kZWwuaHRtbChnZXRFbXB0eUh0bWwuYXBwbHkodGhpcywgcmVuZGVyQXJncykpLnByZXBlbmQodGhhdC50ZW1wbGF0ZXMuaGVhZGVyID8gZ2V0SGVhZGVySHRtbC5hcHBseSh0aGlzLCByZW5kZXJBcmdzKSA6IG51bGwpLmFwcGVuZCh0aGF0LnRlbXBsYXRlcy5mb290ZXIgPyBnZXRGb290ZXJIdG1sLmFwcGx5KHRoaXMsIHJlbmRlckFyZ3MpIDogbnVsbCk7CiAgICAgICAgfSBlbHNlIGlmIChoYXNTdWdnZXN0aW9ucykgewogICAgICAgICAgdGhpcy4kZWwuaHRtbChnZXRTdWdnZXN0aW9uc0h0bWwuYXBwbHkodGhpcywgcmVuZGVyQXJncykpLnByZXBlbmQodGhhdC50ZW1wbGF0ZXMuaGVhZGVyID8gZ2V0SGVhZGVySHRtbC5hcHBseSh0aGlzLCByZW5kZXJBcmdzKSA6IG51bGwpLmFwcGVuZCh0aGF0LnRlbXBsYXRlcy5mb290ZXIgPyBnZXRGb290ZXJIdG1sLmFwcGx5KHRoaXMsIHJlbmRlckFyZ3MpIDogbnVsbCk7CiAgICAgICAgfSBlbHNlIGlmIChzdWdnZXN0aW9ucyAmJiAhQXJyYXkuaXNBcnJheShzdWdnZXN0aW9ucykpIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoInN1Z2dlc3Rpb25zIG11c3QgYmUgYW4gYXJyYXkiKTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMuJG1lbnUpIHsKICAgICAgICAgIHRoaXMuJG1lbnUuYWRkQ2xhc3ModGhpcy5jc3NDbGFzc2VzLnByZWZpeCArIChoYXNTdWdnZXN0aW9ucyA/ICJ3aXRoIiA6ICJ3aXRob3V0IikgKyAiLSIgKyB0aGlzLm5hbWUpLnJlbW92ZUNsYXNzKHRoaXMuY3NzQ2xhc3Nlcy5wcmVmaXggKyAoaGFzU3VnZ2VzdGlvbnMgPyAid2l0aG91dCIgOiAid2l0aCIpICsgIi0iICsgdGhpcy5uYW1lKTsKICAgICAgICB9CiAgICAgICAgdGhpcy50cmlnZ2VyKCJyZW5kZXJlZCIsIHF1ZXJ5KTsKICAgICAgICBmdW5jdGlvbiBnZXRFbXB0eUh0bWwoKSB7CiAgICAgICAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTsKICAgICAgICAgIGFyZ3MgPSBbewogICAgICAgICAgICBxdWVyeTogcXVlcnksCiAgICAgICAgICAgIGlzRW1wdHk6IHRydWUKICAgICAgICAgIH1dLmNvbmNhdChhcmdzKTsKICAgICAgICAgIHJldHVybiB0aGF0LnRlbXBsYXRlcy5lbXB0eS5hcHBseSh0aGlzLCBhcmdzKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2V0U3VnZ2VzdGlvbnNIdG1sKCkgewogICAgICAgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7CiAgICAgICAgICB2YXIgJHN1Z2dlc3Rpb25zOwogICAgICAgICAgdmFyIG5vZGVzOwogICAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgICAgdmFyIHN1Z2dlc3Rpb25zSHRtbCA9IGh0bWwuc3VnZ2VzdGlvbnMucmVwbGFjZSgiJVBSRUZJWCUiLCB0aGlzLmNzc0NsYXNzZXMucHJlZml4KS5yZXBsYWNlKCIlU1VHR0VTVElPTlMlIiwgdGhpcy5jc3NDbGFzc2VzLnN1Z2dlc3Rpb25zKTsKICAgICAgICAgICRzdWdnZXN0aW9ucyA9IERPTS5lbGVtZW50KHN1Z2dlc3Rpb25zSHRtbCkuY3NzKHRoaXMuY3NzLnN1Z2dlc3Rpb25zKTsKICAgICAgICAgIG5vZGVzID0gXy5tYXAoc3VnZ2VzdGlvbnMsIGdldFN1Z2dlc3Rpb25Ob2RlKTsKICAgICAgICAgICRzdWdnZXN0aW9ucy5hcHBlbmQuYXBwbHkoJHN1Z2dlc3Rpb25zLCBub2Rlcyk7CiAgICAgICAgICByZXR1cm4gJHN1Z2dlc3Rpb25zOwogICAgICAgICAgZnVuY3Rpb24gZ2V0U3VnZ2VzdGlvbk5vZGUoc3VnZ2VzdGlvbikgewogICAgICAgICAgICB2YXIgJGVsOwogICAgICAgICAgICB2YXIgc3VnZ2VzdGlvbkh0bWwgPSBodG1sLnN1Z2dlc3Rpb24ucmVwbGFjZSgiJVBSRUZJWCUiLCBzZWxmLmNzc0NsYXNzZXMucHJlZml4KS5yZXBsYWNlKCIlU1VHR0VTVElPTiUiLCBzZWxmLmNzc0NsYXNzZXMuc3VnZ2VzdGlvbik7CiAgICAgICAgICAgICRlbCA9IERPTS5lbGVtZW50KHN1Z2dlc3Rpb25IdG1sKS5hdHRyKHsKICAgICAgICAgICAgICByb2xlOiAib3B0aW9uIiwKICAgICAgICAgICAgICBpZDogWyJvcHRpb24iLCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxZTgpXS5qb2luKCItIikKICAgICAgICAgICAgfSkuYXBwZW5kKHRoYXQudGVtcGxhdGVzLnN1Z2dlc3Rpb24uYXBwbHkodGhpcywgW3N1Z2dlc3Rpb25dLmNvbmNhdChhcmdzKSkpOwogICAgICAgICAgICAkZWwuZGF0YShkYXRhc2V0S2V5LCB0aGF0Lm5hbWUpOwogICAgICAgICAgICAkZWwuZGF0YSh2YWx1ZUtleSwgdGhhdC5kaXNwbGF5Rm4oc3VnZ2VzdGlvbikgfHwgdW5kZWZpbmVkKTsKICAgICAgICAgICAgJGVsLmRhdGEoZGF0dW1LZXksIEpTT04uc3RyaW5naWZ5KHN1Z2dlc3Rpb24pKTsKICAgICAgICAgICAgJGVsLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgRE9NLmVsZW1lbnQodGhpcykuY3NzKHNlbGYuY3NzLnN1Z2dlc3Rpb25DaGlsZCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gJGVsOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBnZXRIZWFkZXJIdG1sKCkgewogICAgICAgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7CiAgICAgICAgICBhcmdzID0gW3sKICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LAogICAgICAgICAgICBpc0VtcHR5OiAhaGFzU3VnZ2VzdGlvbnMKICAgICAgICAgIH1dLmNvbmNhdChhcmdzKTsKICAgICAgICAgIHJldHVybiB0aGF0LnRlbXBsYXRlcy5oZWFkZXIuYXBwbHkodGhpcywgYXJncyk7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGdldEZvb3Rlckh0bWwoKSB7CiAgICAgICAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTsKICAgICAgICAgIGFyZ3MgPSBbewogICAgICAgICAgICBxdWVyeTogcXVlcnksCiAgICAgICAgICAgIGlzRW1wdHk6ICFoYXNTdWdnZXN0aW9ucwogICAgICAgICAgfV0uY29uY2F0KGFyZ3MpOwogICAgICAgICAgcmV0dXJuIHRoYXQudGVtcGxhdGVzLmZvb3Rlci5hcHBseSh0aGlzLCBhcmdzKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGdldFJvb3Q6IGZ1bmN0aW9uIGdldFJvb3QoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGVsOwogICAgICB9LAogICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShxdWVyeSkgewogICAgICAgIGZ1bmN0aW9uIGhhbmRsZVN1Z2dlc3Rpb25zKHN1Z2dlc3Rpb25zKSB7CiAgICAgICAgICBpZiAoIXRoaXMuY2FuY2VsZWQgJiYgcXVlcnkgPT09IHRoaXMucXVlcnkpIHsKICAgICAgICAgICAgdmFyIGV4dHJhQXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsKICAgICAgICAgICAgdGhpcy5jYWNoZVN1Z2dlc3Rpb25zKHF1ZXJ5LCBzdWdnZXN0aW9ucywgZXh0cmFBcmdzKTsKICAgICAgICAgICAgdGhpcy5fcmVuZGVyLmFwcGx5KHRoaXMsIFtxdWVyeSwgc3VnZ2VzdGlvbnNdLmNvbmNhdChleHRyYUFyZ3MpKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5OwogICAgICAgIHRoaXMuY2FuY2VsZWQgPSBmYWxzZTsKICAgICAgICBpZiAodGhpcy5zaG91bGRGZXRjaEZyb21DYWNoZShxdWVyeSkpIHsKICAgICAgICAgIGhhbmRsZVN1Z2dlc3Rpb25zLmFwcGx5KHRoaXMsIFt0aGlzLmNhY2hlZFN1Z2dlc3Rpb25zXS5jb25jYXQodGhpcy5jYWNoZWRSZW5kZXJFeHRyYUFyZ3MpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICAgICAgdmFyIGV4ZWNTb3VyY2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICghdGhhdC5jYW5jZWxlZCkgewogICAgICAgICAgICAgIHRoYXQuc291cmNlKHF1ZXJ5LCBoYW5kbGVTdWdnZXN0aW9ucy5iaW5kKHRoYXQpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICAgIGlmICh0aGlzLmRlYm91bmNlKSB7CiAgICAgICAgICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB0aGF0LmRlYm91bmNlVGltZW91dCA9IG51bGw7CiAgICAgICAgICAgICAgZXhlY1NvdXJjZSgpOwogICAgICAgICAgICB9OwogICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5kZWJvdW5jZVRpbWVvdXQpOwogICAgICAgICAgICB0aGlzLmRlYm91bmNlVGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHRoaXMuZGVib3VuY2UpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZXhlY1NvdXJjZSgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgY2FjaGVTdWdnZXN0aW9uczogZnVuY3Rpb24gY2FjaGVTdWdnZXN0aW9ucyhxdWVyeSwgc3VnZ2VzdGlvbnMsIGV4dHJhQXJncykgewogICAgICAgIHRoaXMuY2FjaGVkUXVlcnkgPSBxdWVyeTsKICAgICAgICB0aGlzLmNhY2hlZFN1Z2dlc3Rpb25zID0gc3VnZ2VzdGlvbnM7CiAgICAgICAgdGhpcy5jYWNoZWRSZW5kZXJFeHRyYUFyZ3MgPSBleHRyYUFyZ3M7CiAgICAgIH0sCiAgICAgIHNob3VsZEZldGNoRnJvbUNhY2hlOiBmdW5jdGlvbiBzaG91bGRGZXRjaEZyb21DYWNoZShxdWVyeSkgewogICAgICAgIHJldHVybiB0aGlzLmNhY2hlICYmIHRoaXMuY2FjaGVkUXVlcnkgPT09IHF1ZXJ5ICYmIHRoaXMuY2FjaGVkU3VnZ2VzdGlvbnMgJiYgdGhpcy5jYWNoZWRTdWdnZXN0aW9ucy5sZW5ndGg7CiAgICAgIH0sCiAgICAgIGNsZWFyQ2FjaGVkU3VnZ2VzdGlvbnM6IGZ1bmN0aW9uIGNsZWFyQ2FjaGVkU3VnZ2VzdGlvbnMoKSB7CiAgICAgICAgZGVsZXRlIHRoaXMuY2FjaGVkUXVlcnk7CiAgICAgICAgZGVsZXRlIHRoaXMuY2FjaGVkU3VnZ2VzdGlvbnM7CiAgICAgICAgZGVsZXRlIHRoaXMuY2FjaGVkUmVuZGVyRXh0cmFBcmdzOwogICAgICB9LAogICAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgICB0aGlzLmNhbmNlbGVkID0gdHJ1ZTsKICAgICAgfSwKICAgICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgdGhpcy4kZWwuZW1wdHkoKTsKICAgICAgICB0aGlzLnRyaWdnZXIoInJlbmRlcmVkIiwgIiIpOwogICAgICB9LAogICAgICBpc0VtcHR5OiBmdW5jdGlvbiBpc0VtcHR5KCkgewogICAgICAgIHJldHVybiB0aGlzLl9pc0VtcHR5OwogICAgICB9LAogICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICAgIHRoaXMuY2xlYXJDYWNoZWRTdWdnZXN0aW9ucygpOwogICAgICAgIHRoaXMuJGVsID0gbnVsbDsKICAgICAgfQogICAgfSk7CiAgICBmdW5jdGlvbiBnZXREaXNwbGF5Rm4oZGlzcGxheSkgewogICAgICBkaXNwbGF5ID0gZGlzcGxheSB8fCAidmFsdWUiOwogICAgICByZXR1cm4gXy5pc0Z1bmN0aW9uKGRpc3BsYXkpID8gZGlzcGxheSA6IGRpc3BsYXlGbjsKICAgICAgZnVuY3Rpb24gZGlzcGxheUZuKG9iaikgewogICAgICAgIHJldHVybiBvYmpbZGlzcGxheV07CiAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIGdldFRlbXBsYXRlcyh0ZW1wbGF0ZXMsIGRpc3BsYXlGbikgewogICAgICByZXR1cm4gewogICAgICAgIGVtcHR5OiB0ZW1wbGF0ZXMuZW1wdHkgJiYgXy50ZW1wbGF0aWZ5KHRlbXBsYXRlcy5lbXB0eSksCiAgICAgICAgaGVhZGVyOiB0ZW1wbGF0ZXMuaGVhZGVyICYmIF8udGVtcGxhdGlmeSh0ZW1wbGF0ZXMuaGVhZGVyKSwKICAgICAgICBmb290ZXI6IHRlbXBsYXRlcy5mb290ZXIgJiYgXy50ZW1wbGF0aWZ5KHRlbXBsYXRlcy5mb290ZXIpLAogICAgICAgIHN1Z2dlc3Rpb246IHRlbXBsYXRlcy5zdWdnZXN0aW9uIHx8IHN1Z2dlc3Rpb25UZW1wbGF0ZQogICAgICB9OwogICAgICBmdW5jdGlvbiBzdWdnZXN0aW9uVGVtcGxhdGUoY29udGV4dCkgewogICAgICAgIHJldHVybiAiPHA+IiArIGRpc3BsYXlGbihjb250ZXh0KSArICI8L3A+IjsKICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gaXNWYWxpZE5hbWUoc3RyKSB7CiAgICAgIHJldHVybiAvXltfYS16QS1aMC05LV0rJC8udGVzdChzdHIpOwogICAgfQogICAgbW9kdWxlLmV4cG9ydHMgPSBEYXRhc2V0OwogIH0sIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICJ1c2Ugc3RyaWN0IjsKCiAgICBtb2R1bGUuZXhwb3J0cyA9IHsKICAgICAgaGl0czogX193ZWJwYWNrX3JlcXVpcmVfXyg2MiksCiAgICAgIHBvcHVsYXJJbjogX193ZWJwYWNrX3JlcXVpcmVfXyg2MykKICAgIH07CiAgfSwgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgInVzZSBzdHJpY3QiOwoKICAgIHZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTsKICAgIHZhciB2ZXJzaW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7CiAgICB2YXIgcGFyc2VBbGdvbGlhQ2xpZW50VmVyc2lvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpOwogICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzZWFyY2goaW5kZXgsIHBhcmFtcykgewogICAgICB2YXIgYWxnb2xpYVZlcnNpb24gPSBwYXJzZUFsZ29saWFDbGllbnRWZXJzaW9uKGluZGV4LmFzLl91YSk7CiAgICAgIGlmIChhbGdvbGlhVmVyc2lvbiAmJiBhbGdvbGlhVmVyc2lvblswXSA+PSAzICYmIGFsZ29saWFWZXJzaW9uWzFdID4gMjApIHsKICAgICAgICBwYXJhbXMgPSBwYXJhbXMgfHwge307CiAgICAgICAgcGFyYW1zLmFkZGl0aW9uYWxVQSA9ICJhdXRvY29tcGxldGUuanMgIiArIHZlcnNpb247CiAgICAgIH0KICAgICAgcmV0dXJuIHNvdXJjZUZuOwogICAgICBmdW5jdGlvbiBzb3VyY2VGbihxdWVyeSwgY2IpIHsKICAgICAgICBpbmRleC5zZWFyY2gocXVlcnksIHBhcmFtcywgZnVuY3Rpb24gKGVycm9yLCBjb250ZW50KSB7CiAgICAgICAgICBpZiAoZXJyb3IpIHsKICAgICAgICAgICAgXy5lcnJvcihlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgY2IoY29udGVudC5oaXRzLCBjb250ZW50KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfTsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgdmFyIF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApOwogICAgdmFyIHZlcnNpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTsKICAgIHZhciBwYXJzZUFsZ29saWFDbGllbnRWZXJzaW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBvcHVsYXJJbihpbmRleCwgcGFyYW1zLCBkZXRhaWxzLCBvcHRpb25zKSB7CiAgICAgIHZhciBhbGdvbGlhVmVyc2lvbiA9IHBhcnNlQWxnb2xpYUNsaWVudFZlcnNpb24oaW5kZXguYXMuX3VhKTsKICAgICAgaWYgKGFsZ29saWFWZXJzaW9uICYmIGFsZ29saWFWZXJzaW9uWzBdID49IDMgJiYgYWxnb2xpYVZlcnNpb25bMV0gPiAyMCkgewogICAgICAgIHBhcmFtcyA9IHBhcmFtcyB8fCB7fTsKICAgICAgICBwYXJhbXMuYWRkaXRpb25hbFVBID0gImF1dG9jb21wbGV0ZS5qcyAiICsgdmVyc2lvbjsKICAgICAgfQogICAgICBpZiAoIWRldGFpbHMuc291cmNlKSB7CiAgICAgICAgcmV0dXJuIF8uZXJyb3IoIk1pc3NpbmcgJ3NvdXJjZScga2V5Iik7CiAgICAgIH0KICAgICAgdmFyIHNvdXJjZSA9IF8uaXNGdW5jdGlvbihkZXRhaWxzLnNvdXJjZSkgPyBkZXRhaWxzLnNvdXJjZSA6IGZ1bmN0aW9uIChoaXQpIHsKICAgICAgICByZXR1cm4gaGl0W2RldGFpbHMuc291cmNlXTsKICAgICAgfTsKICAgICAgaWYgKCFkZXRhaWxzLmluZGV4KSB7CiAgICAgICAgcmV0dXJuIF8uZXJyb3IoIk1pc3NpbmcgJ2luZGV4JyBrZXkiKTsKICAgICAgfQogICAgICB2YXIgZGV0YWlsc0luZGV4ID0gZGV0YWlscy5pbmRleDsKICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgIHJldHVybiBzb3VyY2VGbjsKICAgICAgZnVuY3Rpb24gc291cmNlRm4ocXVlcnksIGNiKSB7CiAgICAgICAgaW5kZXguc2VhcmNoKHF1ZXJ5LCBwYXJhbXMsIGZ1bmN0aW9uIChlcnJvciwgY29udGVudCkgewogICAgICAgICAgaWYgKGVycm9yKSB7CiAgICAgICAgICAgIF8uZXJyb3IoZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChjb250ZW50LmhpdHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICB2YXIgZmlyc3QgPSBjb250ZW50LmhpdHNbMF07CiAgICAgICAgICAgIHZhciBkZXRhaWxzUGFyYW1zID0gXy5taXhpbih7CiAgICAgICAgICAgICAgaGl0c1BlclBhZ2U6IDAKICAgICAgICAgICAgfSwgZGV0YWlscyk7CiAgICAgICAgICAgIGRlbGV0ZSBkZXRhaWxzUGFyYW1zLnNvdXJjZTsKICAgICAgICAgICAgZGVsZXRlIGRldGFpbHNQYXJhbXMuaW5kZXg7CiAgICAgICAgICAgIHZhciBkZXRhaWxzQWxnb2xpYVZlcnNpb24gPSBwYXJzZUFsZ29saWFDbGllbnRWZXJzaW9uKGRldGFpbHNJbmRleC5hcy5fdWEpOwogICAgICAgICAgICBpZiAoZGV0YWlsc0FsZ29saWFWZXJzaW9uICYmIGRldGFpbHNBbGdvbGlhVmVyc2lvblswXSA+PSAzICYmIGRldGFpbHNBbGdvbGlhVmVyc2lvblsxXSA+IDIwKSB7CiAgICAgICAgICAgICAgcGFyYW1zLmFkZGl0aW9uYWxVQSA9ICJhdXRvY29tcGxldGUuanMgIiArIHZlcnNpb247CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZGV0YWlsc0luZGV4LnNlYXJjaChzb3VyY2UoZmlyc3QpLCBkZXRhaWxzUGFyYW1zLCBmdW5jdGlvbiAoZXJyb3IyLCBjb250ZW50MikgewogICAgICAgICAgICAgIGlmIChlcnJvcjIpIHsKICAgICAgICAgICAgICAgIF8uZXJyb3IoZXJyb3IyLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB2YXIgc3VnZ2VzdGlvbnMgPSBbXTsKICAgICAgICAgICAgICBpZiAob3B0aW9ucy5pbmNsdWRlQWxsKSB7CiAgICAgICAgICAgICAgICB2YXIgbGFiZWwgPSBvcHRpb25zLmFsbFRpdGxlIHx8ICJBbGwgZGVwYXJ0bWVudHMiOwogICAgICAgICAgICAgICAgc3VnZ2VzdGlvbnMucHVzaChfLm1peGluKHsKICAgICAgICAgICAgICAgICAgZmFjZXQ6IHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbGFiZWwsCiAgICAgICAgICAgICAgICAgICAgY291bnQ6IGNvbnRlbnQyLm5iSGl0cwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCBfLmNsb25lRGVlcChmaXJzdCkpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgXy5lYWNoKGNvbnRlbnQyLmZhY2V0cywgZnVuY3Rpb24gKHZhbHVlcywgZmFjZXQpIHsKICAgICAgICAgICAgICAgIF8uZWFjaCh2YWx1ZXMsIGZ1bmN0aW9uIChjb3VudCwgdmFsdWUpIHsKICAgICAgICAgICAgICAgICAgc3VnZ2VzdGlvbnMucHVzaChfLm1peGluKHsKICAgICAgICAgICAgICAgICAgICBmYWNldDogewogICAgICAgICAgICAgICAgICAgICAgZmFjZXQ6IGZhY2V0LAogICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgY291bnQ6IGNvdW50CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCBfLmNsb25lRGVlcChmaXJzdCkpKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgY29udGVudC5oaXRzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgICAgICBzdWdnZXN0aW9ucy5wdXNoKGNvbnRlbnQuaGl0c1tpXSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGNiKHN1Z2dlc3Rpb25zLCBjb250ZW50KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIGNiKFtdKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfTsKICB9LCBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogICAgICB2YWx1ZTogdHJ1ZQogICAgfSk7CiAgICB2YXIgcHJlZml4ID0gImFsZ29saWEtZG9jc2VhcmNoIjsKICAgIHZhciBzdWdnZXN0aW9uUHJlZml4ID0gcHJlZml4ICsgIi1zdWdnZXN0aW9uIjsKICAgIHZhciBmb290ZXJQcmVmaXggPSBwcmVmaXggKyAiLWZvb3RlciI7CiAgICB2YXIgdGVtcGxhdGVzID0gewogICAgICBzdWdnZXN0aW9uOiAnXG4gIDxhIGNsYXNzPSInICsgc3VnZ2VzdGlvblByZWZpeCArICJcbiAgICB7eyNpc0NhdGVnb3J5SGVhZGVyfX0iICsgc3VnZ2VzdGlvblByZWZpeCArICJfX21haW57ey9pc0NhdGVnb3J5SGVhZGVyfX1cbiAgICB7eyNpc1N1YkNhdGVnb3J5SGVhZGVyfX0iICsgc3VnZ2VzdGlvblByZWZpeCArICdfX3NlY29uZGFyeXt7L2lzU3ViQ2F0ZWdvcnlIZWFkZXJ9fVxuICAgICJcbiAgICBhcmlhLWxhYmVsPSJMaW5rIHRvIHRoZSByZXN1bHQiXG4gICAgaHJlZj0ie3t7dXJsfX19IlxuICAgID5cbiAgICA8ZGl2IGNsYXNzPSInICsgc3VnZ2VzdGlvblByZWZpeCArICctLWNhdGVnb3J5LWhlYWRlciI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSInICsgc3VnZ2VzdGlvblByZWZpeCArICctLWNhdGVnb3J5LWhlYWRlci1sdmwwIj57e3tjYXRlZ29yeX19fTwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPSInICsgc3VnZ2VzdGlvblByZWZpeCArICctLXdyYXBwZXIiPlxuICAgICAgPGRpdiBjbGFzcz0iJyArIHN1Z2dlc3Rpb25QcmVmaXggKyAnLS1zdWJjYXRlZ29yeS1jb2x1bW4iPlxuICAgICAgICA8c3BhbiBjbGFzcz0iJyArIHN1Z2dlc3Rpb25QcmVmaXggKyAnLS1zdWJjYXRlZ29yeS1jb2x1bW4tdGV4dCI+e3t7c3ViY2F0ZWdvcnl9fX08L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIHt7I2lzVGV4dE9yU3ViY2F0ZWdvcnlOb25FbXB0eX19XG4gICAgICA8ZGl2IGNsYXNzPSInICsgc3VnZ2VzdGlvblByZWZpeCArICctLWNvbnRlbnQiPlxuICAgICAgICA8ZGl2IGNsYXNzPSInICsgc3VnZ2VzdGlvblByZWZpeCArICctLXN1YmNhdGVnb3J5LWlubGluZSI+e3t7c3ViY2F0ZWdvcnl9fX08L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz0iJyArIHN1Z2dlc3Rpb25QcmVmaXggKyAnLS10aXRsZSI+e3t7dGl0bGV9fX08L2Rpdj5cbiAgICAgICAge3sjdGV4dH19PGRpdiBjbGFzcz0iJyArIHN1Z2dlc3Rpb25QcmVmaXggKyAnLS10ZXh0Ij57e3t0ZXh0fX19PC9kaXY+e3svdGV4dH19XG4gICAgICA8L2Rpdj5cbiAgICAgIHt7L2lzVGV4dE9yU3ViY2F0ZWdvcnlOb25FbXB0eX19XG4gICAgPC9kaXY+XG4gIDwvYT5cbiAgJywKICAgICAgc3VnZ2VzdGlvblNpbXBsZTogJ1xuICA8ZGl2IGNsYXNzPSInICsgc3VnZ2VzdGlvblByZWZpeCArICJcbiAgICB7eyNpc0NhdGVnb3J5SGVhZGVyfX0iICsgc3VnZ2VzdGlvblByZWZpeCArICJfX21haW57ey9pc0NhdGVnb3J5SGVhZGVyfX1cbiAgICB7eyNpc1N1YkNhdGVnb3J5SGVhZGVyfX0iICsgc3VnZ2VzdGlvblByZWZpeCArICdfX3NlY29uZGFyeXt7L2lzU3ViQ2F0ZWdvcnlIZWFkZXJ9fVxuICAgIHN1Z2dlc3Rpb24tbGF5b3V0LXNpbXBsZVxuICAiPlxuICAgIDxkaXYgY2xhc3M9IicgKyBzdWdnZXN0aW9uUHJlZml4ICsgJy0tY2F0ZWdvcnktaGVhZGVyIj5cbiAgICAgICAge3teaXNMdmwwfX1cbiAgICAgICAgPHNwYW4gY2xhc3M9IicgKyBzdWdnZXN0aW9uUHJlZml4ICsgIi0tY2F0ZWdvcnktaGVhZGVyLWx2bDAgIiArIHN1Z2dlc3Rpb25QcmVmaXggKyAnLS1jYXRlZ29yeS1oZWFkZXItaXRlbSI+e3t7Y2F0ZWdvcnl9fX08L3NwYW4+XG4gICAgICAgICAge3teaXNMdmwxfX1cbiAgICAgICAgICB7e15pc0x2bDFFbXB0eU9yRHVwbGljYXRlfX1cbiAgICAgICAgICA8c3BhbiBjbGFzcz0iJyArIHN1Z2dlc3Rpb25QcmVmaXggKyAiLS1jYXRlZ29yeS1oZWFkZXItbHZsMSAiICsgc3VnZ2VzdGlvblByZWZpeCArICctLWNhdGVnb3J5LWhlYWRlci1pdGVtIj5cbiAgICAgICAgICAgICAge3t7c3ViY2F0ZWdvcnl9fX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge3svaXNMdmwxRW1wdHlPckR1cGxpY2F0ZX19XG4gICAgICAgICAge3svaXNMdmwxfX1cbiAgICAgICAge3svaXNMdmwwfX1cbiAgICAgICAgPGRpdiBjbGFzcz0iJyArIHN1Z2dlc3Rpb25QcmVmaXggKyAiLS10aXRsZSAiICsgc3VnZ2VzdGlvblByZWZpeCArICctLWNhdGVnb3J5LWhlYWRlci1pdGVtIj5cbiAgICAgICAgICAgIHt7I2lzTHZsMn19XG4gICAgICAgICAgICAgICAge3t7dGl0bGV9fX1cbiAgICAgICAgICAgIHt7L2lzTHZsMn19XG4gICAgICAgICAgICB7eyNpc0x2bDF9fVxuICAgICAgICAgICAgICAgIHt7e3N1YmNhdGVnb3J5fX19XG4gICAgICAgICAgICB7ey9pc0x2bDF9fVxuICAgICAgICAgICAge3sjaXNMdmwwfX1cbiAgICAgICAgICAgICAgICB7e3tjYXRlZ29yeX19fVxuICAgICAgICAgICAge3svaXNMdmwwfX1cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0iJyArIHN1Z2dlc3Rpb25QcmVmaXggKyAnLS13cmFwcGVyIj5cbiAgICAgIHt7I3RleHR9fVxuICAgICAgPGRpdiBjbGFzcz0iJyArIHN1Z2dlc3Rpb25QcmVmaXggKyAnLS1jb250ZW50Ij5cbiAgICAgICAgPGRpdiBjbGFzcz0iJyArIHN1Z2dlc3Rpb25QcmVmaXggKyAnLS10ZXh0Ij57e3t0ZXh0fX19PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIHt7L3RleHR9fVxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgJywKICAgICAgZm9vdGVyOiAnXG4gICAgPGRpdiBjbGFzcz0iJyArIGZvb3RlclByZWZpeCArICciPlxuICAgICAgU2VhcmNoIGJ5IDxhIGNsYXNzPSInICsgZm9vdGVyUHJlZml4ICsgJy0tbG9nbyIgaHJlZj0iaHR0cHM6Ly93d3cuYWxnb2xpYS5jb20vZG9jc2VhcmNoIj5BbGdvbGlhPC9hPlxuICAgIDwvZGl2PlxuICAnLAogICAgICBlbXB0eTogJ1xuICA8ZGl2IGNsYXNzPSInICsgc3VnZ2VzdGlvblByZWZpeCArICciPlxuICAgIDxkaXYgY2xhc3M9IicgKyBzdWdnZXN0aW9uUHJlZml4ICsgJy0td3JhcHBlciI+XG4gICAgICAgIDxkaXYgY2xhc3M9IicgKyBzdWdnZXN0aW9uUHJlZml4ICsgIi0tY29udGVudCAiICsgc3VnZ2VzdGlvblByZWZpeCArICctLW5vLXJlc3VsdHMiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0iJyArIHN1Z2dlc3Rpb25QcmVmaXggKyAnLS10aXRsZSI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iJyArIHN1Z2dlc3Rpb25QcmVmaXggKyAnLS10ZXh0Ij5cbiAgICAgICAgICAgICAgICAgICAgTm8gcmVzdWx0cyBmb3VuZCBmb3IgcXVlcnkgPGI+Int7cXVlcnl9fSI8L2I+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICAnLAogICAgICBzZWFyY2hCb3g6ICdcbiAgPGZvcm0gbm92YWxpZGF0ZT0ibm92YWxpZGF0ZSIgb25zdWJtaXQ9InJldHVybiBmYWxzZTsiIGNsYXNzPSJzZWFyY2hib3giPlxuICAgIDxkaXYgcm9sZT0ic2VhcmNoIiBjbGFzcz0ic2VhcmNoYm94X193cmFwcGVyIj5cbiAgICAgIDxpbnB1dCBpZD0iZG9jc2VhcmNoIiB0eXBlPSJzZWFyY2giIG5hbWU9InNlYXJjaCIgcGxhY2Vob2xkZXI9IlNlYXJjaCB0aGUgZG9jcyIgYXV0b2NvbXBsZXRlPSJvZmYiIHJlcXVpcmVkPSJyZXF1aXJlZCIgY2xhc3M9InNlYXJjaGJveF9faW5wdXQiLz5cbiAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiB0aXRsZT0iU3VibWl0IHlvdXIgc2VhcmNoIHF1ZXJ5LiIgY2xhc3M9InNlYXJjaGJveF9fc3VibWl0IiA+XG4gICAgICAgIDxzdmcgd2lkdGg9MTIgaGVpZ2h0PTEyIHJvbGU9ImltZyIgYXJpYS1sYWJlbD0iU2VhcmNoIj5cbiAgICAgICAgICA8dXNlIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bGluazpocmVmPSIjc2J4LWljb24tc2VhcmNoLTEzIj48L3VzZT5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxidXR0b24gdHlwZT0icmVzZXQiIHRpdGxlPSJDbGVhciB0aGUgc2VhcmNoIHF1ZXJ5LiIgY2xhc3M9InNlYXJjaGJveF9fcmVzZXQgaGlkZSI+XG4gICAgICAgIDxzdmcgd2lkdGg9MTIgaGVpZ2h0PTEyIHJvbGU9ImltZyIgYXJpYS1sYWJlbD0iUmVzZXQiPlxuICAgICAgICAgIDx1c2UgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhsaW5rOmhyZWY9IiNzYngtaWNvbi1jbGVhci0zIj48L3VzZT5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbjwvZm9ybT5cblxuPGRpdiBjbGFzcz0ic3ZnLWljb25zIiBzdHlsZT0iaGVpZ2h0OiAwOyB3aWR0aDogMDsgcG9zaXRpb246IGFic29sdXRlOyB2aXNpYmlsaXR5OiBoaWRkZW4iPlxuICA8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+XG4gICAgPHN5bWJvbCBpZD0ic2J4LWljb24tY2xlYXItMyIgdmlld0JveD0iMCAwIDQwIDQwIj48cGF0aCBkPSJNMTYuMjI4IDIwTDEuODg2IDUuNjU3IDAgMy43NzIgMy43NzIgMGwxLjg4NSAxLjg4NkwyMCAxNi4yMjggMzQuMzQzIDEuODg2IDM2LjIyOCAwIDQwIDMuNzcybC0xLjg4NiAxLjg4NUwyMy43NzIgMjBsMTQuMzQyIDE0LjM0M0w0MCAzNi4yMjggMzYuMjI4IDQwbC0xLjg4NS0xLjg4NkwyMCAyMy43NzIgNS42NTcgMzguMTE0IDMuNzcyIDQwIDAgMzYuMjI4bDEuODg2LTEuODg1TDE2LjIyOCAyMHoiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PC9zeW1ib2w+XG4gICAgPHN5bWJvbCBpZD0ic2J4LWljb24tc2VhcmNoLTEzIiB2aWV3Qm94PSIwIDAgNDAgNDAiPjxwYXRoIGQ9Ik0yNi44MDYgMjkuMDEyYTE2LjMxMiAxNi4zMTIgMCAwIDEtMTAuNDI3IDMuNzQ2QzcuMzMyIDMyLjc1OCAwIDI1LjQyNSAwIDE2LjM3OCAwIDcuMzM0IDcuMzMzIDAgMTYuMzggMGM5LjA0NSAwIDE2LjM3OCA3LjMzMyAxNi4zNzggMTYuMzggMCAzLjk2LTEuNDA2IDcuNTkzLTMuNzQ2IDEwLjQyNkwzOS41NDcgMzcuMzRjLjYwNy42MDguNjEgMS41OS0uMDA0IDIuMjAzYTEuNTYgMS41NiAwIDAgMS0yLjIwMi4wMDRMMjYuODA3IDI5LjAxMnptLTEwLjQyNy42MjdjNy4zMjIgMCAxMy4yNi01LjkzOCAxMy4yNi0xMy4yNiAwLTcuMzI0LTUuOTM4LTEzLjI2LTEzLjI2LTEzLjI2LTcuMzI0IDAtMTMuMjYgNS45MzYtMTMuMjYgMTMuMjYgMCA3LjMyMiA1LjkzNiAxMy4yNiAxMy4yNiAxMy4yNnoiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PC9zeW1ib2w+XG4gIDwvc3ZnPlxuPC9kaXY+XG4gICcKICAgIH07CiAgICBleHBvcnRzLmRlZmF1bHQgPSB0ZW1wbGF0ZXM7CiAgfSwgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgInVzZSBzdHJpY3QiOwoKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICAgICAgdmFsdWU6IHRydWUKICAgIH0pOwogICAgdmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiID8gZnVuY3Rpb24gKG9iaikgewogICAgICByZXR1cm4gdHlwZW9mIG9iajsKICAgIH0gOiBmdW5jdGlvbiAob2JqKSB7CiAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7CiAgICB9OwogICAgdmFyIF96ZXB0byA9IF9fd2VicGFja19yZXF1aXJlX18oMjApOwogICAgdmFyIF96ZXB0bzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF96ZXB0byk7CiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewogICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogewogICAgICAgIGRlZmF1bHQ6IG9iagogICAgICB9OwogICAgfQogICAgdmFyIHV0aWxzID0gewogICAgICBtZXJnZUtleVdpdGhQYXJlbnQ6IGZ1bmN0aW9uIG1lcmdlS2V5V2l0aFBhcmVudChvYmplY3QsIHByb3BlcnR5KSB7CiAgICAgICAgaWYgKG9iamVjdFtwcm9wZXJ0eV0gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgICAgICB9CiAgICAgICAgaWYgKF90eXBlb2Yob2JqZWN0W3Byb3BlcnR5XSkgIT09ICJvYmplY3QiKSB7CiAgICAgICAgICByZXR1cm4gb2JqZWN0OwogICAgICAgIH0KICAgICAgICB2YXIgbmV3T2JqZWN0ID0gX3plcHRvMi5kZWZhdWx0LmV4dGVuZCh7fSwgb2JqZWN0LCBvYmplY3RbcHJvcGVydHldKTsKICAgICAgICBkZWxldGUgbmV3T2JqZWN0W3Byb3BlcnR5XTsKICAgICAgICByZXR1cm4gbmV3T2JqZWN0OwogICAgICB9LAogICAgICBncm91cEJ5OiBmdW5jdGlvbiBncm91cEJ5KGNvbGxlY3Rpb24sIHByb3BlcnR5KSB7CiAgICAgICAgdmFyIG5ld0NvbGxlY3Rpb24gPSB7fTsKICAgICAgICBfemVwdG8yLmRlZmF1bHQuZWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbiAoaW5kZXgsIGl0ZW0pIHsKICAgICAgICAgIGlmIChpdGVtW3Byb3BlcnR5XSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiW2dyb3VwQnldOiBPYmplY3QgaGFzIG5vIGtleSAiICsgcHJvcGVydHkpOwogICAgICAgICAgfQogICAgICAgICAgdmFyIGtleSA9IGl0ZW1bcHJvcGVydHldOwogICAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICJzdHJpbmciKSB7CiAgICAgICAgICAgIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobmV3Q29sbGVjdGlvbiwga2V5KSkgewogICAgICAgICAgICBuZXdDb2xsZWN0aW9uW2tleV0gPSBbXTsKICAgICAgICAgIH0KICAgICAgICAgIG5ld0NvbGxlY3Rpb25ba2V5XS5wdXNoKGl0ZW0pOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBuZXdDb2xsZWN0aW9uOwogICAgICB9LAogICAgICB2YWx1ZXM6IGZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHsKICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KS5tYXAoZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgcmV0dXJuIG9iamVjdFtrZXldOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBmbGF0dGVuOiBmdW5jdGlvbiBmbGF0dGVuKGFycmF5KSB7CiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgICAgICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkgewogICAgICAgICAgICByZXN1bHRzLnB1c2godmFsdWUpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChzdWJ2YWx1ZSkgewogICAgICAgICAgICByZXN1bHRzLnB1c2goc3VidmFsdWUpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICAgIH0sCiAgICAgIGZsYXR0ZW5BbmRGbGFnRmlyc3Q6IGZ1bmN0aW9uIGZsYXR0ZW5BbmRGbGFnRmlyc3Qob2JqZWN0LCBmbGFnKSB7CiAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMudmFsdWVzKG9iamVjdCkubWFwKGZ1bmN0aW9uIChjb2xsZWN0aW9uKSB7CiAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICAgIGl0ZW1bZmxhZ10gPSBpbmRleCA9PT0gMDsKICAgICAgICAgICAgcmV0dXJuIGl0ZW07CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gdGhpcy5mbGF0dGVuKHZhbHVlcyk7CiAgICAgIH0sCiAgICAgIGNvbXBhY3Q6IGZ1bmN0aW9uIGNvbXBhY3QoYXJyYXkpIHsKICAgICAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgICAgIGFycmF5LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIHJlc3VsdHMucHVzaCh2YWx1ZSk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICAgIH0sCiAgICAgIGdldEhpZ2hsaWdodGVkVmFsdWU6IGZ1bmN0aW9uIGdldEhpZ2hsaWdodGVkVmFsdWUob2JqZWN0LCBwcm9wZXJ0eSkgewogICAgICAgIGlmIChvYmplY3QuX2hpZ2hsaWdodFJlc3VsdCAmJiBvYmplY3QuX2hpZ2hsaWdodFJlc3VsdC5oaWVyYXJjaHlfY2FtZWwgJiYgb2JqZWN0Ll9oaWdobGlnaHRSZXN1bHQuaGllcmFyY2h5X2NhbWVsW3Byb3BlcnR5XSAmJiBvYmplY3QuX2hpZ2hsaWdodFJlc3VsdC5oaWVyYXJjaHlfY2FtZWxbcHJvcGVydHldLm1hdGNoTGV2ZWwgJiYgb2JqZWN0Ll9oaWdobGlnaHRSZXN1bHQuaGllcmFyY2h5X2NhbWVsW3Byb3BlcnR5XS5tYXRjaExldmVsICE9PSAibm9uZSIgJiYgb2JqZWN0Ll9oaWdobGlnaHRSZXN1bHQuaGllcmFyY2h5X2NhbWVsW3Byb3BlcnR5XS52YWx1ZSkgewogICAgICAgICAgcmV0dXJuIG9iamVjdC5faGlnaGxpZ2h0UmVzdWx0LmhpZXJhcmNoeV9jYW1lbFtwcm9wZXJ0eV0udmFsdWU7CiAgICAgICAgfQogICAgICAgIGlmIChvYmplY3QuX2hpZ2hsaWdodFJlc3VsdCAmJiBvYmplY3QuX2hpZ2hsaWdodFJlc3VsdCAmJiBvYmplY3QuX2hpZ2hsaWdodFJlc3VsdFtwcm9wZXJ0eV0gJiYgb2JqZWN0Ll9oaWdobGlnaHRSZXN1bHRbcHJvcGVydHldLnZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gb2JqZWN0Ll9oaWdobGlnaHRSZXN1bHRbcHJvcGVydHldLnZhbHVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb2JqZWN0W3Byb3BlcnR5XTsKICAgICAgfSwKICAgICAgZ2V0U25pcHBldGVkVmFsdWU6IGZ1bmN0aW9uIGdldFNuaXBwZXRlZFZhbHVlKG9iamVjdCwgcHJvcGVydHkpIHsKICAgICAgICBpZiAoIW9iamVjdC5fc25pcHBldFJlc3VsdCB8fCAhb2JqZWN0Ll9zbmlwcGV0UmVzdWx0W3Byb3BlcnR5XSB8fCAhb2JqZWN0Ll9zbmlwcGV0UmVzdWx0W3Byb3BlcnR5XS52YWx1ZSkgewogICAgICAgICAgcmV0dXJuIG9iamVjdFtwcm9wZXJ0eV07CiAgICAgICAgfQogICAgICAgIHZhciBzbmlwcGV0ID0gb2JqZWN0Ll9zbmlwcGV0UmVzdWx0W3Byb3BlcnR5XS52YWx1ZTsKICAgICAgICBpZiAoc25pcHBldFswXSAhPT0gc25pcHBldFswXS50b1VwcGVyQ2FzZSgpKSB7CiAgICAgICAgICBzbmlwcGV0ID0gIuKApiIgKyBzbmlwcGV0OwogICAgICAgIH0KICAgICAgICBpZiAoWyIuIiwgIiEiLCAiPyJdLmluZGV4T2Yoc25pcHBldFtzbmlwcGV0Lmxlbmd0aCAtIDFdKSA9PT0gLTEpIHsKICAgICAgICAgIHNuaXBwZXQgPSBzbmlwcGV0ICsgIuKApiI7CiAgICAgICAgfQogICAgICAgIHJldHVybiBzbmlwcGV0OwogICAgICB9LAogICAgICBkZWVwQ2xvbmU6IGZ1bmN0aW9uIGRlZXBDbG9uZShvYmplY3QpIHsKICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmplY3QpKTsKICAgICAgfQogICAgfTsKICAgIGV4cG9ydHMuZGVmYXVsdCA9IHV0aWxzOwogIH1dKTsKfSk7"},{"version":3,"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","self","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","DOM","escapeRegExp","str","replace","isArray","isFunction","isObject","bind","each","map","mixin","isMsie","agentString","undefined","navigator","userAgent","test","match","escapeRegExChars","isNumber","obj","toStr","cloneDeep","clone","value","key","concat","error","msg","Error","every","result","val","any","found","getUniqueId","counter","templatify","$template","element","prop","template","text","String","defer","fn","setTimeout","noop","formatPrefix","prefix","noPrefix","className","clazz","skipDot","escapeHighlightedString","highlightPreTag","highlightPostTag","pre","document","createElement","appendChild","createTextNode","post","div","innerHTML","RegExp","hasOwn","toString","forEach","ctx","TypeError","length","k","JSON","parse","stringify","g","Function","eval","e","window","inherits","AlgoliaSearchError","message","extraProperties","captureStackTrace","constructor","stack","addToErrorObject","createCustomError","AlgoliaSearchCustomError","args","Array","slice","arguments","unshift","apply","UnparsableJSON","RequestTimeout","Network","JSONPScriptFail","JSONPScriptError","Unknown","arr","foreach","newArr","item","itemIndex","push","process","log","formatArgs","save","load","useColors","storage","chrome","local","localstorage","colors","type","documentElement","style","WebkitAppearance","console","firebug","exception","table","toLowerCase","parseInt","$1","formatters","j","v","err","namespace","humanize","diff","color","splice","index","lastC","namespaces","removeItem","debug","r","NODE_ENV","DEBUG","enable","localStorage","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","nextTick","Item","array","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","immediate","splitter","onSync","onAsync","trigger","method","types","cb","context","split","bindContext","_callbacks","shift","sync","async","callbacks","syncFlush","asyncFlush","getFlush","flush","cancelled","_","css","wrapper","position","display","hint","top","left","borderColor","boxShadow","opacity","input","verticalAlign","backgroundColor","inputWithNoHint","dropdown","zIndex","suggestions","suggestion","whiteSpace","cursor","suggestionChild","ltr","right","rtl","defaultClasses","dropdownMenu","dataset","empty","appendTo","backgroundImage","marginTop","create","ctor","superCtor","super_","writable","TempCtor","buildSearchMethod","errors","queryParam","url","search","query","callback","params","encodeURIComponent","additionalUA","as","_getSearchParams","_search","omit","keys","filtered","doFilter","keyName","global","Zepto","$","classList","emptyArray","filter","elementDisplay","classCache","cssNumber","columns","zoom","fragmentRE","singleTagRE","tagExpanderRE","rootNodeRE","capitalRE","methodAttributes","adjacencyOperators","tableRow","containers","tr","tbody","thead","tfoot","td","th","readyRE","simpleSelectorRE","class2type","zepto","camelize","uniq","tempParent","propMap","tabindex","readonly","for","class","maxlength","cellspacing","cellpadding","rowspan","colspan","usemap","frameborder","contenteditable","matches","selector","nodeType","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","parent","parentNode","temp","qsa","indexOf","removeChild","isWindow","isDocument","DOCUMENT_NODE","isPlainObject","getPrototypeOf","likeArray","compact","flatten","chr","toUpperCase","dasherize","idx","classRE","maybeAddPx","defaultDisplay","nodeName","body","getComputedStyle","getPropertyValue","children","childNodes","node","Z","dom","fragment","html","properties","nodes","container","attr","isZ","init","trim","find","ready","extend","target","source","deep","arg","maybeID","maybeClass","nameOnly","isSimple","getElementById","getElementsByClassName","getElementsByTagName","querySelectorAll","contains","funcArg","payload","setAttribute","removeAttribute","klass","svg","baseVal","deserializeValue","parseJSON","isEmptyObject","isNumeric","num","Number","isNaN","isFinite","inArray","elem","camelCase","uuid","support","expr","elements","values","grep","reduce","sort","toArray","el","readyState","addEventListener","size","remove","not","add","is","excludes","has","eq","first","last","$this","some","closest","collection","parents","ancestors","pluck","contents","contentDocument","siblings","child","show","replaceWith","newContent","before","wrap","structure","func","wrapAll","cloneNode","append","wrapInner","unwrap","hide","toggle","setting","prev","next","originHtml","newText","textContent","join","getAttribute","removeAttr","attribute","removeProp","data","attrName","multiple","selected","offset","coordinates","coords","parentOffset","offsetParent","props","getBoundingClientRect","pageXOffset","pageYOffset","width","Math","round","height","computedStyle","removeProperty","cssText","hasClass","addClass","cls","newName","removeClass","toggleClass","when","names","scrollTop","hasScrollTop","scrollTo","scrollX","scrollLeft","hasScrollLeft","scrollY","parseFloat","detach","dimension","dimensionProperty","traverseNode","operator","operatorIndex","inside","argType","copyByClone","nextSibling","firstChild","parentInDocument","insertBefore","src","ownerDocument","defaultView","_zid","isString","handlers","specialEvents","focusinSupported","focus","blur","hover","mouseenter","mouseleave","click","mousedown","mouseup","mousemove","zid","findHandlers","event","ns","matcher","matcherFor","handler","sel","parts","eventCapture","captureSetting","del","realEvent","events","delegator","capture","id","set","related","relatedTarget","proxy","compatible","isImmediatePropagationStopped","dataPropDescriptor","getOwnPropertyDescriptor","_args","preventDefault","stopPropagation","removeEventListener","proxyFn","unbind","one","returnTrue","returnFalse","ignoreProperties","eventMethods","stopImmediatePropagation","isDefaultPrevented","predicate","sourceMethod","timeStamp","Date","now","defaultPrevented","returnValue","getPreventDefault","createProxy","originalEvent","delegate","undelegate","live","die","autoRemove","evt","currentTarget","liveFired","Event","dispatchEvent","triggerHandler","createEvent","bubbles","initEvent","cache","tagName","dataAttr","exp","expando","getData","store","setData","camelName","attributeData","attributes","hasData","removeData","methodName","origFn","EventBus","$el","parseAlgoliaClientVersion","agent","parsed","_zepto","_zepto2","_interopRequireDefault","default","_main","_main2","_toFactory","_toFactory2","_DocSearch","_DocSearch2","_version","_version2","docsearch","_bind","toFactory","Class","Factory","_len","_key","__proto__","_extends","assign","_createClass","defineProperties","descriptor","Constructor","protoProps","staticProps","_hogan","_hogan2","_lite","_lite2","_autocomplete","_autocomplete2","_templates","_templates2","_utils","_utils2","_classCallCheck","instance","usage","DocSearch","_ref","apiKey","indexName","inputSelector","_ref$appId","appId","_ref$debug","_ref$algoliaOptions","algoliaOptions","_ref$queryDataCallbac","queryDataCallback","_ref$autocompleteOpti","autocompleteOptions","autoselect","_ref$transformData","transformData","_ref$queryHook","queryHook","_ref$handleSelected","handleSelected","_ref$enhancedSearchIn","enhancedSearchInput","_ref$layout","layout","checkArguments","getInputFromSelector","hitsPerPage","autocompleteOptionsDebug","cssClasses","inputAriaLabel","ariaLabel","isSimpleLayout","client","addAlgoliaAgent","injectSearchBox","autocomplete","getAutocompleteSource","templates","getSuggestionTemplate","footer","getEmptyTemplate","customHandleSelected","handleShown","bindSearchBoxEvent","_this","then","hits","results","formatHits","datasetNumber","selectionMethod","setVal","location","middleOfInput","middleOfWindow","alignClass","otherAlignClass","autocompleteWrapper","searchBox","newInput","searchbox","querySelector","reset","receivedHits","clonedHits","deepClone","hit","_highlightResult","mergeKeyWithParent","groupedHits","groupBy","level","groupedHitsByLvl1","flattenedHits","flattenAndFlagFirst","formatURL","category","getHighlightedValue","subcategory","displayTitle","getSnippetedValue","isTextOrSubcategoryNonEmpty","isLvl1EmptyOrDuplicate","isLvl2","isLvl1","isLvl0","isCategoryHeader","isSubCategoryHeader","anchor","containsAnchor","warn","compile","render","stringTemplate","suggestionSimple","Hogan","Template","rIsWhitespace","rQuot","rNewline","rCr","rSlash","rLineSep","rParagraphSep","tags","_v","_t","scan","delimiters","IN_TEXT","IN_TAG_TYPE","IN_TAG","state","tagType","tag","buf","tokens","seenTag","lineStart","otag","ctag","addBuf","lineIsWhitespace","isAllWhitespace","filterLine","haveSeenTag","noNewLine","indent","changeDelimiters","close","closeIndex","substring","tagChange","charAt","cleanTripleStache","token","substr","allowedInSuper","buildTree","kind","customTags","instructions","opener","tail","isOpener","pop","isCloser","end","open","stringifySubstitutions","items","esc","stringifyPartials","codeObj","partials","subs","options","wrapMain","code","serialNo","generate","tree","walk","asString","makeTemplate","makePartials","chooseMethod","createPartial","sym","codegen","#","^","<","inPartial","\n","write","tripleStache","nodelist","sectionTags","cacheKey","disableLambda","modelGet","compiler","hoganEscape","t","coerceToString","ri","ep","symbol","partial","base","stackText","activeSub","createSpecializedPartial","stackSubs","stackPartials","rp","rs","section","inverted","start","pass","ms","returnFound","f","doModelGet","cx","findInScope","mv","ls","oldTags","b","ct","fl","textSource","subsText","sub","scope","PartialTemplate","Substitutions","rAmp","rLt","rGt","rApos","hChars","a","AlgoliaSearchCore","createAlgoliasearch","exitPromise","IndexCore","MAX_API_KEY_LENGTH","RESET_APP_DATA_TIMER","applicationID","opts","_allowEmptyCredentials","hosts","read","_timeouts","timeouts","connect","protocol","_checkAppIdData","defaultHosts","_shuffleResult","hostNumber","mainSuffix","dsn","prepareHost","extraHeaders","_cache","_ua","_useCache","_useRequestCache","_useFallback","useFallback","_setTimeout","initIndex","setExtraHeader","getExtraHeader","unsetExtraHeader","algoliaAgent","_jsonRequest","initialOpts","requestDebug","cacheID","tries","usingFallback","hasFallback","_request","fallback","headers","requests","_computeRequestHeaders","withApiKey","safeJSONStringify","debugData","doRequest","requester","reqOpts","startTime","isCacheValidWithCurrentID","responseText","_promise","resolve","hostType","reject","jsonBody","_getTimeoutsForRequest","_setHostIndexByType","currentHost","_getHostByType","forceAuthHeaders","success","tryFallback","httpResponse","status","statusCode","httpResponseOk","floor","endTime","removeCredentials","content","contentLength","duration","shouldRetry","retryRequest","unrecoverableError","retryRequestWithHigherTimeout","_incrementHostIndex","_incrementTimeoutMultipler","useRequestCache","currentCache","currentCacheID","interopCallbackReturn","request","catch","okCb","nookCb","maybePromiseForCache","promiseForCache","ua","requestHeaders","userToken","securityTags","addToRequestHeaders","queries","postObj","prepareRequest","JSONPParams","prepareJSONPParams","requestId","strategy","searchForFacetValues","all","performQuery","facetName","facetQuery","filteredParams","searchParameters","setSecurityTags","strTags","oredTags","setUserToken","clearCache","setRequestTimeout","milliseconds","setTimeouts","getTimeouts","_getAppIdData","_cacheAppIdData","_setAppIdData","lastChange","getTime","_resetInitialAppIdData","newData","hostIndexes","timeoutMultiplier","shuffleResult","shuffle","_hostIndexes","_timeoutMultiplier","_partialAppIdDataUpdate","currentData","_getHostIndexByType","_getTimeoutMultiplier","hostIndex","newHostIndexes","max","complete","prepare","host","toJSON","out","currentIndex","temporaryValue","randomIndex","random","newHeaders","headerName","deprecate","deprecatedMessage","algoliasearch","typeAheadArgs","typeAheadValueOption","similarSearch","browse","queryParameters","merge","indexObj","page","browseFrom","searchFacet","getObject","objectID","attrs","getObjects","objectIDs","attributesToRetrieve","warned","deprecated","previousUsage","newUsage","githubAnchorLink","destination","sources","isArgs","isEnumerable","propertyIsEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","equalsConstructorPrototypeIfNotBuggy","keysShim","isArguments","theKeys","skipProto","skipConstructor","shim","shimObjectKeys","keysWorksWithArguments","originalKeys","callee","localStorageNamespace","moduleStore","localStorageStore","localStorageFailure","cleanup","supportsLocalStorage","getOrSet","setItem","createDebug","coerce","disable","enabled","skips","prevTime","selectColor","hash","charCodeAt","abs","curr","format","formatter","logFn","h","y","long","fmtLong","fmtShort","exec","plural","ceil","Promise","AlgoliaSearch","uaSuffix","inlineHeaders","jsonpRequest","places","require","AlgoliaSearchBrowser","initPlaces","__algolia","hasXMLHttpRequest","hasXDomainRequest","cors","XMLHttpRequest","wrapRequest","req","XDomainRequest","reqTimeout","timedOut","connected","onTimeout","onprogress","onProgress","onreadystatechange","onReadyStateChange","onload","onLoad","onerror","onError","setRequestHeader","send","getAllResponseHeaders","more","abort","onConnect","requestFallback","wrapJsonpRequest","jsonpRequestDone","rejectPromise","resolvePromise","delay","delayPromise","resolveOnTimeout","promises","win","ES6Promise","objectOrFunction","x","_isArray","vertxNext","customSchedulerFn","asap","scheduleFlush","setScheduler","scheduleFn","setAsap","asapFn","browserWindow","browserGlobal","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","isNode","isWorker","Uint8ClampedArray","importScripts","MessageChannel","useNextTick","useVertxTimer","useSetTimeout","useMutationObserver","iterations","observer","observe","characterData","useMessageChannel","channel","port1","onmessage","port2","postMessage","globalSetTimeout","attemptVertx","vertx","runOnLoop","runOnContext","onFulfillment","onRejection","PROMISE_ID","makePromise","_state","invokeCallback","_result","subscribe","resolve$1","promise","PENDING","FULFILLED","REJECTED","TRY_CATCH_ERROR","selfFulfillment","cannotReturnOwn","getThen","tryThen","then$$1","fulfillmentHandler","rejectionHandler","handleForeignThenable","thenable","sealed","fulfill","reason","_label","handleOwnThenable","handleMaybeThenable","maybeThenable","publishRejection","_onerror","publish","_subscribers","subscribers","settled","detail","tryCatch","hasCallback","succeeded","failed","initializePromise","resolver","nextId","validationError","Enumerator","_instanceConstructor","_remaining","_enumerate","_eachEntry","entry","resolve$$1","_then","_settledAt","Promise$1","_willSettleAt","enumerator","entries","race","reject$1","needsResolver","needsNew","_catch","finally","_finally","_setScheduler","_setAsap","_asap","polyfill","P","promiseToString","cast","encode","stringifyPrimitive","sep","objectKeys","ks","xs","res","JSONPCounter","cbCalled","head","script","cbName","done","removeGlobals","clean","ontimeout","readystatechange","createPlacesClient","appID","reverseArgs","typeaheadKey","Typeahead","datasets","typeaheadObject","inputs","$input","eventBus","typeahead","dropdownMenuContainer","minLength","autoselectOnBlur","tabAutocomplete","openOnFocus","clearOnSelected","keyboardShortcuts","autoWidth","methodArguments","wasAutocompleteSet","oldAutocomplete","noConflict","attrsKey","Input","Dropdown","$menu","$hint","isActivated","formattedPrefix","listboxId","domElts","buildDom","$node","menu","$e","active","activeElement","_onSuggestionClicked","_onCursorMoved","_onCursorRemoved","_onOpened","_onClosed","_onShown","_onEmpty","_onRedrawn","_onDatasetRendered","_onFocused","_onBlurred","_onEnterKeyed","_onTabKeyed","_onEscKeyed","_onUpKeyed","_onDownKeyed","_onLeftKeyed","_onRightKeyed","_onQueryChanged","_onWhitespaceChanged","_bindKeyboardShortcuts","_setLanguageDirection","keydown","elt","srcElement","isContentEditable","which","keyCode","onSuggestionClicked","datum","getDatumForSuggestion","_select","onCursorMoved","updateInput","getDatumForCursor","currentCursorId","getCurrentCursor","setActiveDescendant","setInputValue","raw","datasetName","onCursorRemoved","resetInputValue","_updateHint","onDatasetRendered","onOpened","expand","onEmpty","onRedrawn","inputRect","wrapperRect","bottom","onShown","cursorTopSuggestion","onClosed","clearHint","removeActiveDescendant","collapse","onFocused","getQuery","update","onBlurred","cursorDatum","topSuggestionDatum","getDatumForTopSuggestion","onEnterKeyed","onTabKeyed","onEscKeyed","onUpKeyed","isEmpty","moveCursorUp","onDownKeyed","moveCursorDown","onLeftKeyed","onRightKeyed","onQueryChanged","clearHintIfInvalid","onWhitespaceChanged","setLanguageDirection","getLanguageDirection","updateHint","escapedQuery","frontMatchRegEx","isVisible","hasOverflow","getInputValue","normalizeQuery","setHint","laxCursor","isCursorAtEnd","getHint","select","setQuery","getVal","destroy","destroyDomStructure","getWrapper","$container","$wrapper","$dropdown","dropdownHtml","role","getBackgroundStyles","spellcheck","displayKey","prepend","backgroundAttachment","backgroundClip","backgroundOrigin","backgroundPosition","backgroundRepeat","backgroundSize","insertAfter","specialKeyCodeMap","EventEmitter","that","onBlur","onFocus","onKeydown","onInput","_onBlur","_onFocus","_onKeydown","_onInput","$overflowHelper","buildOverflowHelper","_managePreventDefault","_shouldTrigger","_checkInputValue","managePreventDefault","hintValue","inputValue","withModifier","shouldTrigger","checkInputValue","areEquivalent","hasDifferentWhitespace","areQueriesEquivalent","silent","activedescendantId","valIsPrefixOfHint","isValid","constraint","valueLength","selectionStart","range","selection","createRange","moveStart","visibility","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","wordSpacing","letterSpacing","textIndent","textRendering","textTransform","altKey","ctrlKey","metaKey","shiftKey","scheduled","scheduleDrain","install","task","Mutation","handle","called","setImmediate","scriptEl","Dataset","onSuggestionClick","onSuggestionMouseEnter","onSuggestionMouseLeave","isOpen","_onSuggestionClick","_onSuggestionMouseEnter","_onSuggestionMouseLeave","cssClass","header","$empty","oDataset","initializeDataset","getRoot","_onRendered","resize","_redraw","_removeCursor","_setCursor","onRendered","isDatasetEmpty","_hide","_show","hasEmptyTemplate","redraw","_getSuggestions","getSuggestions","_getCursor","getCursor","setCursor","removeCursor","_moveCursor","moveCursor","increment","$suggestions","$oldCursor","newCursorIndex","$newCursor","_ensureVisible","ensureVisible","elTop","elBottom","menuScrollTop","menuHeight","extractDatum","extractValue","extractDatasetName","updateDataset","clearDataset","clear","destroyDataset","datasetKey","valueKey","datumKey","isValidName","_isEmpty","highlight","displayFn","getDisplayFn","debounce","getTemplates","clearCachedSuggestions","_render","hasSuggestions","renderArgs","getEmptyHtml","getHeaderHtml","getFooterHtml","getSuggestionsHtml","suggestionsHtml","getSuggestionNode","suggestionHtml","handleSuggestions","canceled","extraArgs","cacheSuggestions","shouldFetchFromCache","cachedSuggestions","cachedRenderExtraArgs","execSource","later","debounceTimeout","cachedQuery","cancel","suggestionTemplate","popularIn","algoliaVersion","sourceFn","details","detailsIndex","detailsParams","detailsAlgoliaVersion","error2","content2","includeAll","label","allTitle","facet","count","nbHits","facets","suggestionPrefix","footerPrefix","_typeof","Symbol","iterator","utils","newObject","newCollection","subvalue","flag","hierarchy_camel","matchLevel","_snippetResult","snippet"],"sources":["F:/fortivex/vuepress-tutorial/vuepress-tutorial/node_modules/docsearch.js/dist/cdn/docsearch.min.js"],"sourcesContent":["/*! docsearch 2.6.3 |  Algolia | github.com/algolia/docsearch */\n(function webpackUniversalModuleDefinition(root,factory){if(typeof exports===\"object\"&&typeof module===\"object\")module.exports=factory();else if(typeof define===\"function\"&&define.amd)define([],factory);else if(typeof exports===\"object\")exports[\"docsearch\"]=factory();else root[\"docsearch\"]=factory()})(typeof self!==\"undefined\"?self:this,function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter})}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module[\"default\"]}:function getModuleExports(){return module};__webpack_require__.d(getter,\"a\",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p=\"\";return __webpack_require__(__webpack_require__.s=22)}([function(module,exports,__webpack_require__){\"use strict\";var DOM=__webpack_require__(1);function escapeRegExp(str){return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\"\\\\$&\")}module.exports={isArray:null,isFunction:null,isObject:null,bind:null,each:null,map:null,mixin:null,isMsie:function(agentString){if(agentString===undefined){agentString=navigator.userAgent}if(/(msie|trident)/i.test(agentString)){var match=agentString.match(/(msie |rv:)(\\d+(.\\d+)?)/i);if(match){return match[2]}}return false},escapeRegExChars:function(str){return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\"\\\\$&\")},isNumber:function(obj){return typeof obj===\"number\"},toStr:function toStr(s){return s===undefined||s===null?\"\":s+\"\"},cloneDeep:function cloneDeep(obj){var clone=this.mixin({},obj);var self=this;this.each(clone,function(value,key){if(value){if(self.isArray(value)){clone[key]=[].concat(value)}else if(self.isObject(value)){clone[key]=self.cloneDeep(value)}}});return clone},error:function(msg){throw new Error(msg)},every:function(obj,test){var result=true;if(!obj){return result}this.each(obj,function(val,key){if(result){result=test.call(null,val,key,obj)&&result}});return!!result},any:function(obj,test){var found=false;if(!obj){return found}this.each(obj,function(val,key){if(test.call(null,val,key,obj)){found=true;return false}});return found},getUniqueId:function(){var counter=0;return function(){return counter++}}(),templatify:function templatify(obj){if(this.isFunction(obj)){return obj}var $template=DOM.element(obj);if($template.prop(\"tagName\")===\"SCRIPT\"){return function template(){return $template.text()}}return function template(){return String(obj)}},defer:function(fn){setTimeout(fn,0)},noop:function(){},formatPrefix:function(prefix,noPrefix){return noPrefix?\"\":prefix+\"-\"},className:function(prefix,clazz,skipDot){return(skipDot?\"\":\".\")+prefix+clazz},escapeHighlightedString:function(str,highlightPreTag,highlightPostTag){highlightPreTag=highlightPreTag||\"<em>\";var pre=document.createElement(\"div\");pre.appendChild(document.createTextNode(highlightPreTag));highlightPostTag=highlightPostTag||\"</em>\";var post=document.createElement(\"div\");post.appendChild(document.createTextNode(highlightPostTag));var div=document.createElement(\"div\");div.appendChild(document.createTextNode(str));return div.innerHTML.replace(RegExp(escapeRegExp(pre.innerHTML),\"g\"),highlightPreTag).replace(RegExp(escapeRegExp(post.innerHTML),\"g\"),highlightPostTag)}}},function(module,exports,__webpack_require__){\"use strict\";module.exports={element:null}},function(module,exports){var hasOwn=Object.prototype.hasOwnProperty;var toString=Object.prototype.toString;module.exports=function forEach(obj,fn,ctx){if(toString.call(fn)!==\"[object Function]\"){throw new TypeError(\"iterator must be a function\")}var l=obj.length;if(l===+l){for(var i=0;i<l;i++){fn.call(ctx,obj[i],i,obj)}}else{for(var k in obj){if(hasOwn.call(obj,k)){fn.call(ctx,obj[k],k,obj)}}}}},function(module,exports){module.exports=function clone(obj){return JSON.parse(JSON.stringify(obj))}},function(module,exports){var g;g=function(){return this}();try{g=g||Function(\"return this\")()||(1,eval)(\"this\")}catch(e){if(typeof window===\"object\")g=window}module.exports=g},function(module,exports,__webpack_require__){\"use strict\";var inherits=__webpack_require__(12);function AlgoliaSearchError(message,extraProperties){var forEach=__webpack_require__(2);var error=this;if(typeof Error.captureStackTrace===\"function\"){Error.captureStackTrace(this,this.constructor)}else{error.stack=(new Error).stack||\"Cannot get a stacktrace, browser is too old\"}this.name=\"AlgoliaSearchError\";this.message=message||\"Unknown error\";if(extraProperties){forEach(extraProperties,function addToErrorObject(value,key){error[key]=value})}}inherits(AlgoliaSearchError,Error);function createCustomError(name,message){function AlgoliaSearchCustomError(){var args=Array.prototype.slice.call(arguments,0);if(typeof args[0]!==\"string\"){args.unshift(message)}AlgoliaSearchError.apply(this,args);this.name=\"AlgoliaSearch\"+name+\"Error\"}inherits(AlgoliaSearchCustomError,AlgoliaSearchError);return AlgoliaSearchCustomError}module.exports={AlgoliaSearchError:AlgoliaSearchError,UnparsableJSON:createCustomError(\"UnparsableJSON\",\"Could not parse the incoming response as JSON, see err.more for details\"),RequestTimeout:createCustomError(\"RequestTimeout\",\"Request timedout before getting a response\"),Network:createCustomError(\"Network\",\"Network issue, see err.more for details\"),JSONPScriptFail:createCustomError(\"JSONPScriptFail\",\"<script> was loaded but did not call our provided callback\"),JSONPScriptError:createCustomError(\"JSONPScriptError\",\"<script> unable to load due to an `error` event on it\"),Unknown:createCustomError(\"Unknown\",\"Unknown error occured\")}},function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return toString.call(arr)==\"[object Array]\"}},function(module,exports,__webpack_require__){var foreach=__webpack_require__(2);module.exports=function map(arr,fn){var newArr=[];foreach(arr,function(item,itemIndex){newArr.push(fn(item,itemIndex,arr))});return newArr}},function(module,exports,__webpack_require__){(function(process){exports=module.exports=__webpack_require__(39);exports.log=log;exports.formatArgs=formatArgs;exports.save=save;exports.load=load;exports.useColors=useColors;exports.storage=\"undefined\"!=typeof chrome&&\"undefined\"!=typeof chrome.storage?chrome.storage.local:localstorage();exports.colors=[\"lightseagreen\",\"forestgreen\",\"goldenrod\",\"dodgerblue\",\"darkorchid\",\"crimson\"];function useColors(){if(typeof window!==\"undefined\"&&window.process&&window.process.type===\"renderer\"){return true}return typeof document!==\"undefined\"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!==\"undefined\"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!==\"undefined\"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!==\"undefined\"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/)}exports.formatters.j=function(v){try{return JSON.stringify(v)}catch(err){return\"[UnexpectedJSONParseError]: \"+err.message}};function formatArgs(args){var useColors=this.useColors;args[0]=(useColors?\"%c\":\"\")+this.namespace+(useColors?\" %c\":\" \")+args[0]+(useColors?\"%c \":\" \")+\"+\"+exports.humanize(this.diff);if(!useColors)return;var c=\"color: \"+this.color;args.splice(1,0,c,\"color: inherit\");var index=0;var lastC=0;args[0].replace(/%[a-zA-Z%]/g,function(match){if(\"%%\"===match)return;index++;if(\"%c\"===match){lastC=index}});args.splice(lastC,0,c)}function log(){return\"object\"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(namespaces){try{if(null==namespaces){exports.storage.removeItem(\"debug\")}else{exports.storage.debug=namespaces}}catch(e){}}function load(){var r;try{r=exports.storage.debug}catch(e){}if(!r&&typeof process!==\"undefined\"&&\"env\"in process){r=Object({NODE_ENV:\"production\"}).DEBUG}return r}exports.enable(load());function localstorage(){try{return window.localStorage}catch(e){}}}).call(exports,__webpack_require__(9))},function(module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error(\"setTimeout has not been defined\")}function defaultClearTimeout(){throw new Error(\"clearTimeout has not been defined\")}(function(){try{if(typeof setTimeout===\"function\"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout===\"function\"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title=\"browser\";process.browser=true;process.env={};process.argv=[];process.version=\"\";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error(\"process.binding is not supported\")};process.cwd=function(){return\"/\"};process.chdir=function(dir){throw new Error(\"process.chdir is not supported\")};process.umask=function(){return 0}},function(module,exports,__webpack_require__){\"use strict\";var immediate=__webpack_require__(53);var splitter=/\\s+/;module.exports={onSync:onSync,onAsync:onAsync,off:off,trigger:trigger};function on(method,types,cb,context){var type;if(!cb){return this}types=types.split(splitter);cb=context?bindContext(cb,context):cb;this._callbacks=this._callbacks||{};while(type=types.shift()){this._callbacks[type]=this._callbacks[type]||{sync:[],async:[]};this._callbacks[type][method].push(cb)}return this}function onAsync(types,cb,context){return on.call(this,\"async\",types,cb,context)}function onSync(types,cb,context){return on.call(this,\"sync\",types,cb,context)}function off(types){var type;if(!this._callbacks){return this}types=types.split(splitter);while(type=types.shift()){delete this._callbacks[type]}return this}function trigger(types){var type;var callbacks;var args;var syncFlush;var asyncFlush;if(!this._callbacks){return this}types=types.split(splitter);args=[].slice.call(arguments,1);while((type=types.shift())&&(callbacks=this._callbacks[type])){syncFlush=getFlush(callbacks.sync,this,[type].concat(args));asyncFlush=getFlush(callbacks.async,this,[type].concat(args));if(syncFlush()){immediate(asyncFlush)}}return this}function getFlush(callbacks,context,args){return flush;function flush(){var cancelled;for(var i=0,len=callbacks.length;!cancelled&&i<len;i+=1){cancelled=callbacks[i].apply(context,args)===false}return!cancelled}}function bindContext(fn,context){return fn.bind?fn.bind(context):function(){fn.apply(context,[].slice.call(arguments,0))}}},function(module,exports,__webpack_require__){\"use strict\";var _=__webpack_require__(0);var css={wrapper:{position:\"relative\",display:\"inline-block\"},hint:{position:\"absolute\",top:\"0\",left:\"0\",borderColor:\"transparent\",boxShadow:\"none\",opacity:\"1\"},input:{position:\"relative\",verticalAlign:\"top\",backgroundColor:\"transparent\"},inputWithNoHint:{position:\"relative\",verticalAlign:\"top\"},dropdown:{position:\"absolute\",top:\"100%\",left:\"0\",zIndex:\"100\",display:\"none\"},suggestions:{display:\"block\"},suggestion:{whiteSpace:\"nowrap\",cursor:\"pointer\"},suggestionChild:{whiteSpace:\"normal\"},ltr:{left:\"0\",right:\"auto\"},rtl:{left:\"auto\",right:\"0\"},defaultClasses:{root:\"algolia-autocomplete\",prefix:\"aa\",noPrefix:false,dropdownMenu:\"dropdown-menu\",input:\"input\",hint:\"hint\",suggestions:\"suggestions\",suggestion:\"suggestion\",cursor:\"cursor\",dataset:\"dataset\",empty:\"empty\"},appendTo:{wrapper:{position:\"absolute\",zIndex:\"100\",display:\"none\"},input:{},inputWithNoHint:{},dropdown:{display:\"block\"}}};if(_.isMsie()){_.mixin(css.input,{backgroundImage:\"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)\"})}if(_.isMsie()&&_.isMsie()<=7){_.mixin(css.input,{marginTop:\"-1px\"})}module.exports=css},function(module,exports){if(typeof Object.create===\"function\"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},function(module,exports,__webpack_require__){module.exports=buildSearchMethod;var errors=__webpack_require__(5);function buildSearchMethod(queryParam,url){return function search(query,args,callback){if(typeof query===\"function\"&&typeof args===\"object\"||typeof callback===\"object\"){throw new errors.AlgoliaSearchError(\"index.search usage is index.search(query, params, cb)\")}if(arguments.length===0||typeof query===\"function\"){callback=query;query=\"\"}else if(arguments.length===1||typeof args===\"function\"){callback=args;args=undefined}if(typeof query===\"object\"&&query!==null){args=query;query=undefined}else if(query===undefined||query===null){query=\"\"}var params=\"\";if(query!==undefined){params+=queryParam+\"=\"+encodeURIComponent(query)}var additionalUA;if(args!==undefined){if(args.additionalUA){additionalUA=args.additionalUA;delete args.additionalUA}params=this.as._getSearchParams(args,params)}return this._search(params,url,callback,additionalUA)}}},function(module,exports,__webpack_require__){module.exports=function omit(obj,test){var keys=__webpack_require__(36);var foreach=__webpack_require__(2);var filtered={};foreach(keys(obj),function doFilter(keyName){if(test(keyName)!==true){filtered[keyName]=obj[keyName]}});return filtered}},function(module,exports){(function(global,factory){module.exports=factory(global)})(window,function(window){var Zepto=function(){var undefined,key,$,classList,emptyArray=[],concat=emptyArray.concat,filter=emptyArray.filter,slice=emptyArray.slice,document=window.document,elementDisplay={},classCache={},cssNumber={\"column-count\":1,columns:1,\"font-weight\":1,\"line-height\":1,opacity:1,\"z-index\":1,zoom:1},fragmentRE=/^\\s*<(\\w+|!)[^>]*>/,singleTagRE=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,tagExpanderRE=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,rootNodeRE=/^(?:body|html)$/i,capitalRE=/([A-Z])/g,methodAttributes=[\"val\",\"css\",\"html\",\"text\",\"data\",\"width\",\"height\",\"offset\"],adjacencyOperators=[\"after\",\"prepend\",\"before\",\"append\"],table=document.createElement(\"table\"),tableRow=document.createElement(\"tr\"),containers={tr:document.createElement(\"tbody\"),tbody:table,thead:table,tfoot:table,td:tableRow,th:tableRow,\"*\":document.createElement(\"div\")},readyRE=/complete|loaded|interactive/,simpleSelectorRE=/^[\\w-]*$/,class2type={},toString=class2type.toString,zepto={},camelize,uniq,tempParent=document.createElement(\"div\"),propMap={tabindex:\"tabIndex\",readonly:\"readOnly\",for:\"htmlFor\",class:\"className\",maxlength:\"maxLength\",cellspacing:\"cellSpacing\",cellpadding:\"cellPadding\",rowspan:\"rowSpan\",colspan:\"colSpan\",usemap:\"useMap\",frameborder:\"frameBorder\",contenteditable:\"contentEditable\"},isArray=Array.isArray||function(object){return object instanceof Array};zepto.matches=function(element,selector){if(!selector||!element||element.nodeType!==1)return false;var matchesSelector=element.matches||element.webkitMatchesSelector||element.mozMatchesSelector||element.oMatchesSelector||element.matchesSelector;if(matchesSelector)return matchesSelector.call(element,selector);var match,parent=element.parentNode,temp=!parent;if(temp)(parent=tempParent).appendChild(element);match=~zepto.qsa(parent,selector).indexOf(element);temp&&tempParent.removeChild(element);return match};function type(obj){return obj==null?String(obj):class2type[toString.call(obj)]||\"object\"}function isFunction(value){return type(value)==\"function\"}function isWindow(obj){return obj!=null&&obj==obj.window}function isDocument(obj){return obj!=null&&obj.nodeType==obj.DOCUMENT_NODE}function isObject(obj){return type(obj)==\"object\"}function isPlainObject(obj){return isObject(obj)&&!isWindow(obj)&&Object.getPrototypeOf(obj)==Object.prototype}function likeArray(obj){var length=!!obj&&\"length\"in obj&&obj.length,type=$.type(obj);return\"function\"!=type&&!isWindow(obj)&&(\"array\"==type||length===0||typeof length==\"number\"&&length>0&&length-1 in obj)}function compact(array){return filter.call(array,function(item){return item!=null})}function flatten(array){return array.length>0?$.fn.concat.apply([],array):array}camelize=function(str){return str.replace(/-+(.)?/g,function(match,chr){return chr?chr.toUpperCase():\"\"})};function dasherize(str){return str.replace(/::/g,\"/\").replace(/([A-Z]+)([A-Z][a-z])/g,\"$1_$2\").replace(/([a-z\\d])([A-Z])/g,\"$1_$2\").replace(/_/g,\"-\").toLowerCase()}uniq=function(array){return filter.call(array,function(item,idx){return array.indexOf(item)==idx})};function classRE(name){return name in classCache?classCache[name]:classCache[name]=new RegExp(\"(^|\\\\s)\"+name+\"(\\\\s|$)\")}function maybeAddPx(name,value){return typeof value==\"number\"&&!cssNumber[dasherize(name)]?value+\"px\":value}function defaultDisplay(nodeName){var element,display;if(!elementDisplay[nodeName]){element=document.createElement(nodeName);document.body.appendChild(element);display=getComputedStyle(element,\"\").getPropertyValue(\"display\");element.parentNode.removeChild(element);display==\"none\"&&(display=\"block\");elementDisplay[nodeName]=display}return elementDisplay[nodeName]}function children(element){return\"children\"in element?slice.call(element.children):$.map(element.childNodes,function(node){if(node.nodeType==1)return node})}function Z(dom,selector){var i,len=dom?dom.length:0;for(i=0;i<len;i++)this[i]=dom[i];this.length=len;this.selector=selector||\"\"}zepto.fragment=function(html,name,properties){var dom,nodes,container;if(singleTagRE.test(html))dom=$(document.createElement(RegExp.$1));if(!dom){if(html.replace)html=html.replace(tagExpanderRE,\"<$1></$2>\");if(name===undefined)name=fragmentRE.test(html)&&RegExp.$1;if(!(name in containers))name=\"*\";container=containers[name];container.innerHTML=\"\"+html;dom=$.each(slice.call(container.childNodes),function(){container.removeChild(this)})}if(isPlainObject(properties)){nodes=$(dom);$.each(properties,function(key,value){if(methodAttributes.indexOf(key)>-1)nodes[key](value);else nodes.attr(key,value)})}return dom};zepto.Z=function(dom,selector){return new Z(dom,selector)};zepto.isZ=function(object){return object instanceof zepto.Z};zepto.init=function(selector,context){var dom;if(!selector)return zepto.Z();else if(typeof selector==\"string\"){selector=selector.trim();if(selector[0]==\"<\"&&fragmentRE.test(selector))dom=zepto.fragment(selector,RegExp.$1,context),selector=null;else if(context!==undefined)return $(context).find(selector);else dom=zepto.qsa(document,selector)}else if(isFunction(selector))return $(document).ready(selector);else if(zepto.isZ(selector))return selector;else{if(isArray(selector))dom=compact(selector);else if(isObject(selector))dom=[selector],selector=null;else if(fragmentRE.test(selector))dom=zepto.fragment(selector.trim(),RegExp.$1,context),selector=null;else if(context!==undefined)return $(context).find(selector);else dom=zepto.qsa(document,selector)}return zepto.Z(dom,selector)};$=function(selector,context){return zepto.init(selector,context)};function extend(target,source,deep){for(key in source)if(deep&&(isPlainObject(source[key])||isArray(source[key]))){if(isPlainObject(source[key])&&!isPlainObject(target[key]))target[key]={};if(isArray(source[key])&&!isArray(target[key]))target[key]=[];extend(target[key],source[key],deep)}else if(source[key]!==undefined)target[key]=source[key]}$.extend=function(target){var deep,args=slice.call(arguments,1);if(typeof target==\"boolean\"){deep=target;target=args.shift()}args.forEach(function(arg){extend(target,arg,deep)});return target};zepto.qsa=function(element,selector){var found,maybeID=selector[0]==\"#\",maybeClass=!maybeID&&selector[0]==\".\",nameOnly=maybeID||maybeClass?selector.slice(1):selector,isSimple=simpleSelectorRE.test(nameOnly);return element.getElementById&&isSimple&&maybeID?(found=element.getElementById(nameOnly))?[found]:[]:element.nodeType!==1&&element.nodeType!==9&&element.nodeType!==11?[]:slice.call(isSimple&&!maybeID&&element.getElementsByClassName?maybeClass?element.getElementsByClassName(nameOnly):element.getElementsByTagName(selector):element.querySelectorAll(selector))};function filtered(nodes,selector){return selector==null?$(nodes):$(nodes).filter(selector)}$.contains=document.documentElement.contains?function(parent,node){return parent!==node&&parent.contains(node)}:function(parent,node){while(node&&(node=node.parentNode))if(node===parent)return true;return false};function funcArg(context,arg,idx,payload){return isFunction(arg)?arg.call(context,idx,payload):arg}function setAttribute(node,name,value){value==null?node.removeAttribute(name):node.setAttribute(name,value)}function className(node,value){var klass=node.className||\"\",svg=klass&&klass.baseVal!==undefined;if(value===undefined)return svg?klass.baseVal:klass;svg?klass.baseVal=value:node.className=value}function deserializeValue(value){try{return value?value==\"true\"||(value==\"false\"?false:value==\"null\"?null:+value+\"\"==value?+value:/^[\\[\\{]/.test(value)?$.parseJSON(value):value):value}catch(e){return value}}$.type=type;$.isFunction=isFunction;$.isWindow=isWindow;$.isArray=isArray;$.isPlainObject=isPlainObject;$.isEmptyObject=function(obj){var name;for(name in obj)return false;return true};$.isNumeric=function(val){var num=Number(val),type=typeof val;return val!=null&&type!=\"boolean\"&&(type!=\"string\"||val.length)&&!isNaN(num)&&isFinite(num)||false};$.inArray=function(elem,array,i){return emptyArray.indexOf.call(array,elem,i)};$.camelCase=camelize;$.trim=function(str){return str==null?\"\":String.prototype.trim.call(str)};$.uuid=0;$.support={};$.expr={};$.noop=function(){};$.map=function(elements,callback){var value,values=[],i,key;if(likeArray(elements))for(i=0;i<elements.length;i++){value=callback(elements[i],i);if(value!=null)values.push(value)}else for(key in elements){value=callback(elements[key],key);if(value!=null)values.push(value)}return flatten(values)};$.each=function(elements,callback){var i,key;if(likeArray(elements)){for(i=0;i<elements.length;i++)if(callback.call(elements[i],i,elements[i])===false)return elements}else{for(key in elements)if(callback.call(elements[key],key,elements[key])===false)return elements}return elements};$.grep=function(elements,callback){return filter.call(elements,callback)};if(window.JSON)$.parseJSON=JSON.parse;$.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"),function(i,name){class2type[\"[object \"+name+\"]\"]=name.toLowerCase()});$.fn={constructor:zepto.Z,length:0,forEach:emptyArray.forEach,reduce:emptyArray.reduce,push:emptyArray.push,sort:emptyArray.sort,splice:emptyArray.splice,indexOf:emptyArray.indexOf,concat:function(){var i,value,args=[];for(i=0;i<arguments.length;i++){value=arguments[i];args[i]=zepto.isZ(value)?value.toArray():value}return concat.apply(zepto.isZ(this)?this.toArray():this,args)},map:function(fn){return $($.map(this,function(el,i){return fn.call(el,i,el)}))},slice:function(){return $(slice.apply(this,arguments))},ready:function(callback){if(readyRE.test(document.readyState)&&document.body)callback($);else document.addEventListener(\"DOMContentLoaded\",function(){callback($)},false);return this},get:function(idx){return idx===undefined?slice.call(this):this[idx>=0?idx:idx+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){if(this.parentNode!=null)this.parentNode.removeChild(this)})},each:function(callback){emptyArray.every.call(this,function(el,idx){return callback.call(el,idx,el)!==false});return this},filter:function(selector){if(isFunction(selector))return this.not(this.not(selector));return $(filter.call(this,function(element){return zepto.matches(element,selector)}))},add:function(selector,context){return $(uniq(this.concat($(selector,context))))},is:function(selector){return this.length>0&&zepto.matches(this[0],selector)},not:function(selector){var nodes=[];if(isFunction(selector)&&selector.call!==undefined)this.each(function(idx){if(!selector.call(this,idx))nodes.push(this)});else{var excludes=typeof selector==\"string\"?this.filter(selector):likeArray(selector)&&isFunction(selector.item)?slice.call(selector):$(selector);this.forEach(function(el){if(excludes.indexOf(el)<0)nodes.push(el)})}return $(nodes)},has:function(selector){return this.filter(function(){return isObject(selector)?$.contains(this,selector):$(this).find(selector).size()})},eq:function(idx){return idx===-1?this.slice(idx):this.slice(idx,+idx+1)},first:function(){var el=this[0];return el&&!isObject(el)?el:$(el)},last:function(){var el=this[this.length-1];return el&&!isObject(el)?el:$(el)},find:function(selector){var result,$this=this;if(!selector)result=$();else if(typeof selector==\"object\")result=$(selector).filter(function(){var node=this;return emptyArray.some.call($this,function(parent){return $.contains(parent,node)})});else if(this.length==1)result=$(zepto.qsa(this[0],selector));else result=this.map(function(){return zepto.qsa(this,selector)});return result},closest:function(selector,context){var nodes=[],collection=typeof selector==\"object\"&&$(selector);this.each(function(_,node){while(node&&!(collection?collection.indexOf(node)>=0:zepto.matches(node,selector)))node=node!==context&&!isDocument(node)&&node.parentNode;if(node&&nodes.indexOf(node)<0)nodes.push(node)});return $(nodes)},parents:function(selector){var ancestors=[],nodes=this;while(nodes.length>0)nodes=$.map(nodes,function(node){if((node=node.parentNode)&&!isDocument(node)&&ancestors.indexOf(node)<0){ancestors.push(node);return node}});return filtered(ancestors,selector)},parent:function(selector){return filtered(uniq(this.pluck(\"parentNode\")),selector)},children:function(selector){return filtered(this.map(function(){return children(this)}),selector)},contents:function(){return this.map(function(){return this.contentDocument||slice.call(this.childNodes)})},siblings:function(selector){return filtered(this.map(function(i,el){return filter.call(children(el.parentNode),function(child){return child!==el})}),selector)},empty:function(){return this.each(function(){this.innerHTML=\"\"})},pluck:function(property){return $.map(this,function(el){return el[property]})},show:function(){return this.each(function(){this.style.display==\"none\"&&(this.style.display=\"\");if(getComputedStyle(this,\"\").getPropertyValue(\"display\")==\"none\")this.style.display=defaultDisplay(this.nodeName)})},replaceWith:function(newContent){return this.before(newContent).remove()},wrap:function(structure){var func=isFunction(structure);if(this[0]&&!func)var dom=$(structure).get(0),clone=dom.parentNode||this.length>1;return this.each(function(index){$(this).wrapAll(func?structure.call(this,index):clone?dom.cloneNode(true):dom)})},wrapAll:function(structure){if(this[0]){$(this[0]).before(structure=$(structure));var children;while((children=structure.children()).length)structure=children.first();$(structure).append(this)}return this},wrapInner:function(structure){var func=isFunction(structure);return this.each(function(index){var self=$(this),contents=self.contents(),dom=func?structure.call(this,index):structure;contents.length?contents.wrapAll(dom):self.append(dom)})},unwrap:function(){this.parent().each(function(){$(this).replaceWith($(this).children())});return this},clone:function(){return this.map(function(){return this.cloneNode(true)})},hide:function(){return this.css(\"display\",\"none\")},toggle:function(setting){return this.each(function(){var el=$(this);(setting===undefined?el.css(\"display\")==\"none\":setting)?el.show():el.hide()})},prev:function(selector){return $(this.pluck(\"previousElementSibling\")).filter(selector||\"*\")},next:function(selector){return $(this.pluck(\"nextElementSibling\")).filter(selector||\"*\")},html:function(html){return 0 in arguments?this.each(function(idx){var originHtml=this.innerHTML;$(this).empty().append(funcArg(this,html,idx,originHtml))}):0 in this?this[0].innerHTML:null},text:function(text){return 0 in arguments?this.each(function(idx){var newText=funcArg(this,text,idx,this.textContent);this.textContent=newText==null?\"\":\"\"+newText}):0 in this?this.pluck(\"textContent\").join(\"\"):null},attr:function(name,value){var result;return typeof name==\"string\"&&!(1 in arguments)?0 in this&&this[0].nodeType==1&&(result=this[0].getAttribute(name))!=null?result:undefined:this.each(function(idx){if(this.nodeType!==1)return;if(isObject(name))for(key in name)setAttribute(this,key,name[key]);else setAttribute(this,name,funcArg(this,value,idx,this.getAttribute(name)))})},removeAttr:function(name){return this.each(function(){this.nodeType===1&&name.split(\" \").forEach(function(attribute){setAttribute(this,attribute)},this)})},prop:function(name,value){name=propMap[name]||name;return 1 in arguments?this.each(function(idx){this[name]=funcArg(this,value,idx,this[name])}):this[0]&&this[0][name]},removeProp:function(name){name=propMap[name]||name;return this.each(function(){delete this[name]})},data:function(name,value){var attrName=\"data-\"+name.replace(capitalRE,\"-$1\").toLowerCase();var data=1 in arguments?this.attr(attrName,value):this.attr(attrName);return data!==null?deserializeValue(data):undefined},val:function(value){if(0 in arguments){if(value==null)value=\"\";return this.each(function(idx){this.value=funcArg(this,value,idx,this.value)})}else{return this[0]&&(this[0].multiple?$(this[0]).find(\"option\").filter(function(){return this.selected}).pluck(\"value\"):this[0].value)}},offset:function(coordinates){if(coordinates)return this.each(function(index){var $this=$(this),coords=funcArg(this,coordinates,index,$this.offset()),parentOffset=$this.offsetParent().offset(),props={top:coords.top-parentOffset.top,left:coords.left-parentOffset.left};if($this.css(\"position\")==\"static\")props[\"position\"]=\"relative\";$this.css(props)});if(!this.length)return null;if(document.documentElement!==this[0]&&!$.contains(document.documentElement,this[0]))return{top:0,left:0};var obj=this[0].getBoundingClientRect();return{left:obj.left+window.pageXOffset,top:obj.top+window.pageYOffset,width:Math.round(obj.width),height:Math.round(obj.height)}},css:function(property,value){if(arguments.length<2){var element=this[0];if(typeof property==\"string\"){if(!element)return;return element.style[camelize(property)]||getComputedStyle(element,\"\").getPropertyValue(property)}else if(isArray(property)){if(!element)return;var props={};var computedStyle=getComputedStyle(element,\"\");$.each(property,function(_,prop){props[prop]=element.style[camelize(prop)]||computedStyle.getPropertyValue(prop)});return props}}var css=\"\";if(type(property)==\"string\"){if(!value&&value!==0)this.each(function(){this.style.removeProperty(dasherize(property))});else css=dasherize(property)+\":\"+maybeAddPx(property,value)}else{for(key in property)if(!property[key]&&property[key]!==0)this.each(function(){this.style.removeProperty(dasherize(key))});else css+=dasherize(key)+\":\"+maybeAddPx(key,property[key])+\";\"}return this.each(function(){this.style.cssText+=\";\"+css})},index:function(element){return element?this.indexOf($(element)[0]):this.parent().children().indexOf(this[0])},hasClass:function(name){if(!name)return false;return emptyArray.some.call(this,function(el){return this.test(className(el))},classRE(name))},addClass:function(name){if(!name)return this;return this.each(function(idx){if(!(\"className\"in this))return;classList=[];var cls=className(this),newName=funcArg(this,name,idx,cls);newName.split(/\\s+/g).forEach(function(klass){if(!$(this).hasClass(klass))classList.push(klass)},this);classList.length&&className(this,cls+(cls?\" \":\"\")+classList.join(\" \"))})},removeClass:function(name){return this.each(function(idx){if(!(\"className\"in this))return;if(name===undefined)return className(this,\"\");classList=className(this);funcArg(this,name,idx,classList).split(/\\s+/g).forEach(function(klass){classList=classList.replace(classRE(klass),\" \")});className(this,classList.trim())})},toggleClass:function(name,when){if(!name)return this;return this.each(function(idx){var $this=$(this),names=funcArg(this,name,idx,className(this));names.split(/\\s+/g).forEach(function(klass){(when===undefined?!$this.hasClass(klass):when)?$this.addClass(klass):$this.removeClass(klass)})})},scrollTop:function(value){if(!this.length)return;var hasScrollTop=\"scrollTop\"in this[0];if(value===undefined)return hasScrollTop?this[0].scrollTop:this[0].pageYOffset;return this.each(hasScrollTop?function(){this.scrollTop=value}:function(){this.scrollTo(this.scrollX,value)})},scrollLeft:function(value){if(!this.length)return;var hasScrollLeft=\"scrollLeft\"in this[0];if(value===undefined)return hasScrollLeft?this[0].scrollLeft:this[0].pageXOffset;return this.each(hasScrollLeft?function(){this.scrollLeft=value}:function(){this.scrollTo(value,this.scrollY)})},position:function(){if(!this.length)return;var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=rootNodeRE.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();offset.top-=parseFloat($(elem).css(\"margin-top\"))||0;offset.left-=parseFloat($(elem).css(\"margin-left\"))||0;parentOffset.top+=parseFloat($(offsetParent[0]).css(\"border-top-width\"))||0;parentOffset.left+=parseFloat($(offsetParent[0]).css(\"border-left-width\"))||0;return{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}},offsetParent:function(){return this.map(function(){var parent=this.offsetParent||document.body;while(parent&&!rootNodeRE.test(parent.nodeName)&&$(parent).css(\"position\")==\"static\")parent=parent.offsetParent;return parent})}};$.fn.detach=$.fn.remove;[\"width\",\"height\"].forEach(function(dimension){var dimensionProperty=dimension.replace(/./,function(m){return m[0].toUpperCase()});$.fn[dimension]=function(value){var offset,el=this[0];if(value===undefined)return isWindow(el)?el[\"inner\"+dimensionProperty]:isDocument(el)?el.documentElement[\"scroll\"+dimensionProperty]:(offset=this.offset())&&offset[dimension];else return this.each(function(idx){el=$(this);el.css(dimension,funcArg(this,value,idx,el[dimension]()))})}});function traverseNode(node,fun){fun(node);for(var i=0,len=node.childNodes.length;i<len;i++)traverseNode(node.childNodes[i],fun)}adjacencyOperators.forEach(function(operator,operatorIndex){var inside=operatorIndex%2;$.fn[operator]=function(){var argType,nodes=$.map(arguments,function(arg){var arr=[];argType=type(arg);if(argType==\"array\"){arg.forEach(function(el){if(el.nodeType!==undefined)return arr.push(el);else if($.zepto.isZ(el))return arr=arr.concat(el.get());arr=arr.concat(zepto.fragment(el))});return arr}return argType==\"object\"||arg==null?arg:zepto.fragment(arg)}),parent,copyByClone=this.length>1;if(nodes.length<1)return this;return this.each(function(_,target){parent=inside?target:target.parentNode;target=operatorIndex==0?target.nextSibling:operatorIndex==1?target.firstChild:operatorIndex==2?target:null;var parentInDocument=$.contains(document.documentElement,parent);nodes.forEach(function(node){if(copyByClone)node=node.cloneNode(true);else if(!parent)return $(node).remove();parent.insertBefore(node,target);if(parentInDocument)traverseNode(node,function(el){if(el.nodeName!=null&&el.nodeName.toUpperCase()===\"SCRIPT\"&&(!el.type||el.type===\"text/javascript\")&&!el.src){var target=el.ownerDocument?el.ownerDocument.defaultView:window;target[\"eval\"].call(target,el.innerHTML)}})})})};$.fn[inside?operator+\"To\":\"insert\"+(operatorIndex?\"Before\":\"After\")]=function(html){$(html)[operator](this);return this}});zepto.Z.prototype=Z.prototype=$.fn;zepto.uniq=uniq;zepto.deserializeValue=deserializeValue;$.zepto=zepto;return $}();(function($){var _zid=1,undefined,slice=Array.prototype.slice,isFunction=$.isFunction,isString=function(obj){return typeof obj==\"string\"},handlers={},specialEvents={},focusinSupported=\"onfocusin\"in window,focus={focus:\"focusin\",blur:\"focusout\"},hover={mouseenter:\"mouseover\",mouseleave:\"mouseout\"};specialEvents.click=specialEvents.mousedown=specialEvents.mouseup=specialEvents.mousemove=\"MouseEvents\";function zid(element){return element._zid||(element._zid=_zid++)}function findHandlers(element,event,fn,selector){event=parse(event);if(event.ns)var matcher=matcherFor(event.ns);return(handlers[zid(element)]||[]).filter(function(handler){return handler&&(!event.e||handler.e==event.e)&&(!event.ns||matcher.test(handler.ns))&&(!fn||zid(handler.fn)===zid(fn))&&(!selector||handler.sel==selector)})}function parse(event){var parts=(\"\"+event).split(\".\");return{e:parts[0],ns:parts.slice(1).sort().join(\" \")}}function matcherFor(ns){return new RegExp(\"(?:^| )\"+ns.replace(\" \",\" .* ?\")+\"(?: |$)\")}function eventCapture(handler,captureSetting){return handler.del&&(!focusinSupported&&handler.e in focus)||!!captureSetting}function realEvent(type){return hover[type]||focusinSupported&&focus[type]||type}function add(element,events,fn,data,selector,delegator,capture){var id=zid(element),set=handlers[id]||(handlers[id]=[]);events.split(/\\s/).forEach(function(event){if(event==\"ready\")return $(document).ready(fn);var handler=parse(event);handler.fn=fn;handler.sel=selector;if(handler.e in hover)fn=function(e){var related=e.relatedTarget;if(!related||related!==this&&!$.contains(this,related))return handler.fn.apply(this,arguments)};handler.del=delegator;var callback=delegator||fn;handler.proxy=function(e){e=compatible(e);if(e.isImmediatePropagationStopped())return;try{var dataPropDescriptor=Object.getOwnPropertyDescriptor(e,\"data\");if(!dataPropDescriptor||dataPropDescriptor.writable)e.data=data}catch(e){}var result=callback.apply(element,e._args==undefined?[e]:[e].concat(e._args));if(result===false)e.preventDefault(),e.stopPropagation();return result};handler.i=set.length;set.push(handler);if(\"addEventListener\"in element)element.addEventListener(realEvent(handler.e),handler.proxy,eventCapture(handler,capture))})}function remove(element,events,fn,selector,capture){var id=zid(element);(events||\"\").split(/\\s/).forEach(function(event){findHandlers(element,event,fn,selector).forEach(function(handler){delete handlers[id][handler.i];if(\"removeEventListener\"in element)element.removeEventListener(realEvent(handler.e),handler.proxy,eventCapture(handler,capture))})})}$.event={add:add,remove:remove};$.proxy=function(fn,context){var args=2 in arguments&&slice.call(arguments,2);if(isFunction(fn)){var proxyFn=function(){return fn.apply(context,args?args.concat(slice.call(arguments)):arguments)};proxyFn._zid=zid(fn);return proxyFn}else if(isString(context)){if(args){args.unshift(fn[context],fn);return $.proxy.apply(null,args)}else{return $.proxy(fn[context],fn)}}else{throw new TypeError(\"expected function\")}};$.fn.bind=function(event,data,callback){return this.on(event,data,callback)};$.fn.unbind=function(event,callback){return this.off(event,callback)};$.fn.one=function(event,selector,data,callback){return this.on(event,selector,data,callback,1)};var returnTrue=function(){return true},returnFalse=function(){return false},ignoreProperties=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,eventMethods={preventDefault:\"isDefaultPrevented\",stopImmediatePropagation:\"isImmediatePropagationStopped\",stopPropagation:\"isPropagationStopped\"};function compatible(event,source){if(source||!event.isDefaultPrevented){source||(source=event);$.each(eventMethods,function(name,predicate){var sourceMethod=source[name];event[name]=function(){this[predicate]=returnTrue;return sourceMethod&&sourceMethod.apply(source,arguments)};event[predicate]=returnFalse});event.timeStamp||(event.timeStamp=Date.now());if(source.defaultPrevented!==undefined?source.defaultPrevented:\"returnValue\"in source?source.returnValue===false:source.getPreventDefault&&source.getPreventDefault())event.isDefaultPrevented=returnTrue}return event}function createProxy(event){var key,proxy={originalEvent:event};for(key in event)if(!ignoreProperties.test(key)&&event[key]!==undefined)proxy[key]=event[key];return compatible(proxy,event)}$.fn.delegate=function(selector,event,callback){return this.on(event,selector,callback)};$.fn.undelegate=function(selector,event,callback){return this.off(event,selector,callback)};$.fn.live=function(event,callback){$(document.body).delegate(this.selector,event,callback);return this};$.fn.die=function(event,callback){$(document.body).undelegate(this.selector,event,callback);return this};$.fn.on=function(event,selector,data,callback,one){var autoRemove,delegator,$this=this;if(event&&!isString(event)){$.each(event,function(type,fn){$this.on(type,selector,data,fn,one)});return $this}if(!isString(selector)&&!isFunction(callback)&&callback!==false)callback=data,data=selector,selector=undefined;if(callback===undefined||data===false)callback=data,data=undefined;if(callback===false)callback=returnFalse;return $this.each(function(_,element){if(one)autoRemove=function(e){remove(element,e.type,callback);return callback.apply(this,arguments)};if(selector)delegator=function(e){var evt,match=$(e.target).closest(selector,element).get(0);if(match&&match!==element){evt=$.extend(createProxy(e),{currentTarget:match,liveFired:element});return(autoRemove||callback).apply(match,[evt].concat(slice.call(arguments,1)))}};add(element,event,callback,data,selector,delegator||autoRemove)})};$.fn.off=function(event,selector,callback){var $this=this;if(event&&!isString(event)){$.each(event,function(type,fn){$this.off(type,selector,fn)});return $this}if(!isString(selector)&&!isFunction(callback)&&callback!==false)callback=selector,selector=undefined;if(callback===false)callback=returnFalse;return $this.each(function(){remove(this,event,callback,selector)})};$.fn.trigger=function(event,args){event=isString(event)||$.isPlainObject(event)?$.Event(event):compatible(event);event._args=args;return this.each(function(){if(event.type in focus&&typeof this[event.type]==\"function\")this[event.type]();else if(\"dispatchEvent\"in this)this.dispatchEvent(event);else $(this).triggerHandler(event,args)})};$.fn.triggerHandler=function(event,args){var e,result;this.each(function(i,element){e=createProxy(isString(event)?$.Event(event):event);e._args=args;e.target=element;$.each(findHandlers(element,event.type||event),function(i,handler){result=handler.proxy(e);if(e.isImmediatePropagationStopped())return false})});return result};(\"focusin focusout focus blur load resize scroll unload click dblclick \"+\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \"+\"change select keydown keypress keyup error\").split(\" \").forEach(function(event){$.fn[event]=function(callback){return 0 in arguments?this.bind(event,callback):this.trigger(event)}});$.Event=function(type,props){if(!isString(type))props=type,type=props.type;var event=document.createEvent(specialEvents[type]||\"Events\"),bubbles=true;if(props)for(var name in props)name==\"bubbles\"?bubbles=!!props[name]:event[name]=props[name];event.initEvent(type,bubbles,true);return compatible(event)}})(Zepto);(function($){var cache=[],timeout;$.fn.remove=function(){return this.each(function(){if(this.parentNode){if(this.tagName===\"IMG\"){cache.push(this);this.src=\"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=\";if(timeout)clearTimeout(timeout);timeout=setTimeout(function(){cache=[]},6e4)}this.parentNode.removeChild(this)}})}})(Zepto);(function($){var data={},dataAttr=$.fn.data,camelize=$.camelCase,exp=$.expando=\"Zepto\"+ +new Date,emptyArray=[];function getData(node,name){var id=node[exp],store=id&&data[id];if(name===undefined)return store||setData(node);else{if(store){if(name in store)return store[name];var camelName=camelize(name);if(camelName in store)return store[camelName]}return dataAttr.call($(node),name)}}function setData(node,name,value){var id=node[exp]||(node[exp]=++$.uuid),store=data[id]||(data[id]=attributeData(node));if(name!==undefined)store[camelize(name)]=value;return store}function attributeData(node){var store={};$.each(node.attributes||emptyArray,function(i,attr){if(attr.name.indexOf(\"data-\")==0)store[camelize(attr.name.replace(\"data-\",\"\"))]=$.zepto.deserializeValue(attr.value)});return store}$.fn.data=function(name,value){return value===undefined?$.isPlainObject(name)?this.each(function(i,node){$.each(name,function(key,value){setData(node,key,value)})}):0 in this?getData(this[0],name):undefined:this.each(function(){setData(this,name,value)})};$.data=function(elem,name,value){return $(elem).data(name,value)};$.hasData=function(elem){var id=elem[exp],store=id&&data[id];return store?!$.isEmptyObject(store):false};$.fn.removeData=function(names){if(typeof names==\"string\")names=names.split(/\\s+/);return this.each(function(){var id=this[exp],store=id&&data[id];if(store)$.each(names||store,function(key){delete store[names?camelize(this):key]})})};[\"remove\",\"empty\"].forEach(function(methodName){var origFn=$.fn[methodName];$.fn[methodName]=function(){var elements=this.find(\"*\");if(methodName===\"remove\")elements=elements.add(this);elements.removeData();return origFn.call(this)}})})(Zepto);return Zepto})},function(module,exports,__webpack_require__){\"use strict\";var namespace=\"autocomplete:\";var _=__webpack_require__(0);var DOM=__webpack_require__(1);function EventBus(o){if(!o||!o.el){_.error(\"EventBus initialized without el\")}this.$el=DOM.element(o.el)}_.mixin(EventBus.prototype,{trigger:function(type,suggestion,dataset,context){var event=_.Event(namespace+type);this.$el.trigger(event,[suggestion,dataset,context]);return event}});module.exports=EventBus},function(module,exports,__webpack_require__){\"use strict\";module.exports={wrapper:'<span class=\"%ROOT%\"></span>',dropdown:'<span class=\"%PREFIX%%DROPDOWN_MENU%\"></span>',dataset:'<div class=\"%PREFIX%%DATASET%-%CLASS%\"></div>',suggestions:'<span class=\"%PREFIX%%SUGGESTIONS%\"></span>',suggestion:'<div class=\"%PREFIX%%SUGGESTION%\"></div>'}},function(module,exports){module.exports=\"0.36.0\"},function(module,exports,__webpack_require__){\"use strict\";module.exports=function parseAlgoliaClientVersion(agent){var parsed=agent.match(/Algolia for vanilla JavaScript (\\d+\\.)(\\d+\\.)(\\d+)/);if(parsed)return[parsed[1],parsed[2],parsed[3]];return undefined}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});var _zepto=__webpack_require__(15);var _zepto2=_interopRequireDefault(_zepto);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_zepto2.default},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=\"2.6.3\"},function(module,exports,__webpack_require__){\"use strict\";var _main=__webpack_require__(23);var _main2=_interopRequireDefault(_main);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}module.exports=_main2.default},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});var _toFactory=__webpack_require__(24);var _toFactory2=_interopRequireDefault(_toFactory);var _DocSearch=__webpack_require__(25);var _DocSearch2=_interopRequireDefault(_DocSearch);var _version=__webpack_require__(21);var _version2=_interopRequireDefault(_version);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var docsearch=(0,_toFactory2.default)(_DocSearch2.default);docsearch.version=_version2.default;exports.default=docsearch},function(module,exports,__webpack_require__){\"use strict\";var _bind=Function.prototype.bind;function toFactory(Class){var Factory=function Factory(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return new(_bind.apply(Class,[null].concat(args)))};Factory.__proto__=Class;Factory.prototype=Class.prototype;return Factory}module.exports=toFactory},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _hogan=__webpack_require__(26);var _hogan2=_interopRequireDefault(_hogan);var _lite=__webpack_require__(29);var _lite2=_interopRequireDefault(_lite);var _autocomplete=__webpack_require__(49);var _autocomplete2=_interopRequireDefault(_autocomplete);var _templates=__webpack_require__(64);var _templates2=_interopRequireDefault(_templates);var _utils=__webpack_require__(65);var _utils2=_interopRequireDefault(_utils);var _version=__webpack_require__(21);var _version2=_interopRequireDefault(_version);var _zepto=__webpack_require__(20);var _zepto2=_interopRequireDefault(_zepto);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\")}}var usage=\"Usage:\\n  documentationSearch({\\n  apiKey,\\n  indexName,\\n  inputSelector,\\n  [ appId ],\\n  [ algoliaOptions.{hitsPerPage} ]\\n  [ autocompleteOptions.{hint,debug} ]\\n})\";var DocSearch=function(){function DocSearch(_ref){var apiKey=_ref.apiKey,indexName=_ref.indexName,inputSelector=_ref.inputSelector,_ref$appId=_ref.appId,appId=_ref$appId===undefined?\"BH4D9OD16A\":_ref$appId,_ref$debug=_ref.debug,debug=_ref$debug===undefined?false:_ref$debug,_ref$algoliaOptions=_ref.algoliaOptions,algoliaOptions=_ref$algoliaOptions===undefined?{}:_ref$algoliaOptions,_ref$queryDataCallbac=_ref.queryDataCallback,queryDataCallback=_ref$queryDataCallbac===undefined?null:_ref$queryDataCallbac,_ref$autocompleteOpti=_ref.autocompleteOptions,autocompleteOptions=_ref$autocompleteOpti===undefined?{debug:false,hint:false,autoselect:true}:_ref$autocompleteOpti,_ref$transformData=_ref.transformData,transformData=_ref$transformData===undefined?false:_ref$transformData,_ref$queryHook=_ref.queryHook,queryHook=_ref$queryHook===undefined?false:_ref$queryHook,_ref$handleSelected=_ref.handleSelected,handleSelected=_ref$handleSelected===undefined?false:_ref$handleSelected,_ref$enhancedSearchIn=_ref.enhancedSearchInput,enhancedSearchInput=_ref$enhancedSearchIn===undefined?false:_ref$enhancedSearchIn,_ref$layout=_ref.layout,layout=_ref$layout===undefined?\"collumns\":_ref$layout;_classCallCheck(this,DocSearch);DocSearch.checkArguments({apiKey:apiKey,indexName:indexName,inputSelector:inputSelector,debug:debug,algoliaOptions:algoliaOptions,queryDataCallback:queryDataCallback,autocompleteOptions:autocompleteOptions,transformData:transformData,queryHook:queryHook,handleSelected:handleSelected,enhancedSearchInput:enhancedSearchInput,layout:layout});this.apiKey=apiKey;this.appId=appId;this.indexName=indexName;this.input=DocSearch.getInputFromSelector(inputSelector);this.algoliaOptions=_extends({hitsPerPage:5},algoliaOptions);this.queryDataCallback=queryDataCallback||null;var autocompleteOptionsDebug=autocompleteOptions&&autocompleteOptions.debug?autocompleteOptions.debug:false;autocompleteOptions.debug=debug||autocompleteOptionsDebug;this.autocompleteOptions=autocompleteOptions;this.autocompleteOptions.cssClasses=this.autocompleteOptions.cssClasses||{};this.autocompleteOptions.cssClasses.prefix=this.autocompleteOptions.cssClasses.prefix||\"ds\";var inputAriaLabel=this.input&&typeof this.input.attr===\"function\"&&this.input.attr(\"aria-label\");this.autocompleteOptions.ariaLabel=this.autocompleteOptions.ariaLabel||inputAriaLabel||\"search input\";this.isSimpleLayout=layout===\"simple\";this.client=(0,_lite2.default)(this.appId,this.apiKey);this.client.addAlgoliaAgent(\"docsearch.js \"+_version2.default);if(enhancedSearchInput){this.input=DocSearch.injectSearchBox(this.input)}this.autocomplete=(0,_autocomplete2.default)(this.input,autocompleteOptions,[{source:this.getAutocompleteSource(transformData,queryHook),templates:{suggestion:DocSearch.getSuggestionTemplate(this.isSimpleLayout),footer:_templates2.default.footer,empty:DocSearch.getEmptyTemplate()}}]);var customHandleSelected=handleSelected;this.handleSelected=customHandleSelected||this.handleSelected;if(customHandleSelected){(0,_zepto2.default)(\".algolia-autocomplete\").on(\"click\",\".ds-suggestions a\",function(event){event.preventDefault()})}this.autocomplete.on(\"autocomplete:selected\",this.handleSelected.bind(null,this.autocomplete.autocomplete));this.autocomplete.on(\"autocomplete:shown\",this.handleShown.bind(null,this.input));if(enhancedSearchInput){DocSearch.bindSearchBoxEvent()}}_createClass(DocSearch,[{key:\"getAutocompleteSource\",value:function getAutocompleteSource(transformData,queryHook){var _this=this;return function(query,callback){if(queryHook){query=queryHook(query)||query}_this.client.search([{indexName:_this.indexName,query:query,params:_this.algoliaOptions}]).then(function(data){if(_this.queryDataCallback&&typeof _this.queryDataCallback==\"function\"){_this.queryDataCallback(data)}var hits=data.results[0].hits;if(transformData){hits=transformData(hits)||hits}callback(DocSearch.formatHits(hits))})}}},{key:\"handleSelected\",value:function handleSelected(input,event,suggestion,datasetNumber){var context=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{};if(context.selectionMethod===\"click\"){return}input.setVal(\"\");window.location.assign(suggestion.url)}},{key:\"handleShown\",value:function handleShown(input){var middleOfInput=input.offset().left+input.width()/2;var middleOfWindow=(0,_zepto2.default)(document).width()/2;if(isNaN(middleOfWindow)){middleOfWindow=900}var alignClass=middleOfInput-middleOfWindow>=0?\"algolia-autocomplete-right\":\"algolia-autocomplete-left\";var otherAlignClass=middleOfInput-middleOfWindow<0?\"algolia-autocomplete-right\":\"algolia-autocomplete-left\";var autocompleteWrapper=(0,_zepto2.default)(\".algolia-autocomplete\");if(!autocompleteWrapper.hasClass(alignClass)){autocompleteWrapper.addClass(alignClass)}if(autocompleteWrapper.hasClass(otherAlignClass)){autocompleteWrapper.removeClass(otherAlignClass)}}}],[{key:\"checkArguments\",value:function checkArguments(args){if(!args.apiKey||!args.indexName){throw new Error(usage)}if(typeof args.inputSelector!==\"string\"){throw new Error(\"Error: inputSelector:\"+args.inputSelector+\"  must be a string. Each selector must match only one element and separated by ','\")}if(!DocSearch.getInputFromSelector(args.inputSelector)){throw new Error(\"Error: No input element in the page matches \"+args.inputSelector)}}},{key:\"injectSearchBox\",value:function injectSearchBox(input){input.before(_templates2.default.searchBox);var newInput=input.prev().prev().find(\"input\");input.remove();return newInput}},{key:\"bindSearchBoxEvent\",value:function bindSearchBoxEvent(){(0,_zepto2.default)('.searchbox [type=\"reset\"]').on(\"click\",function(){(0,_zepto2.default)(\"input#docsearch\").focus();(0,_zepto2.default)(this).addClass(\"hide\");_autocomplete2.default.autocomplete.setVal(\"\")});(0,_zepto2.default)(\"input#docsearch\").on(\"keyup\",function(){var searchbox=document.querySelector(\"input#docsearch\");var reset=document.querySelector('.searchbox [type=\"reset\"]');reset.className=\"searchbox__reset\";if(searchbox.value.length===0){reset.className+=\" hide\"}})}},{key:\"getInputFromSelector\",value:function getInputFromSelector(selector){var input=(0,_zepto2.default)(selector).filter(\"input\");return input.length?(0,_zepto2.default)(input[0]):null}},{key:\"formatHits\",value:function formatHits(receivedHits){var clonedHits=_utils2.default.deepClone(receivedHits);var hits=clonedHits.map(function(hit){if(hit._highlightResult){hit._highlightResult=_utils2.default.mergeKeyWithParent(hit._highlightResult,\"hierarchy\")}return _utils2.default.mergeKeyWithParent(hit,\"hierarchy\")});var groupedHits=_utils2.default.groupBy(hits,\"lvl0\");_zepto2.default.each(groupedHits,function(level,collection){var groupedHitsByLvl1=_utils2.default.groupBy(collection,\"lvl1\");var flattenedHits=_utils2.default.flattenAndFlagFirst(groupedHitsByLvl1,\"isSubCategoryHeader\");groupedHits[level]=flattenedHits});groupedHits=_utils2.default.flattenAndFlagFirst(groupedHits,\"isCategoryHeader\");return groupedHits.map(function(hit){var url=DocSearch.formatURL(hit);var category=_utils2.default.getHighlightedValue(hit,\"lvl0\");var subcategory=_utils2.default.getHighlightedValue(hit,\"lvl1\")||category;var displayTitle=_utils2.default.compact([_utils2.default.getHighlightedValue(hit,\"lvl2\")||subcategory,_utils2.default.getHighlightedValue(hit,\"lvl3\"),_utils2.default.getHighlightedValue(hit,\"lvl4\"),_utils2.default.getHighlightedValue(hit,\"lvl5\"),_utils2.default.getHighlightedValue(hit,\"lvl6\")]).join('<span class=\"aa-suggestion-title-separator\" aria-hidden=\"true\">  </span>');var text=_utils2.default.getSnippetedValue(hit,\"content\");var isTextOrSubcategoryNonEmpty=subcategory&&subcategory!==\"\"||displayTitle&&displayTitle!==\"\";var isLvl1EmptyOrDuplicate=!subcategory||subcategory===\"\"||subcategory===category;var isLvl2=displayTitle&&displayTitle!==\"\"&&displayTitle!==subcategory;var isLvl1=!isLvl2&&subcategory&&subcategory!==\"\"&&subcategory!==category;var isLvl0=!isLvl1&&!isLvl2;return{isLvl0:isLvl0,isLvl1:isLvl1,isLvl2:isLvl2,isLvl1EmptyOrDuplicate:isLvl1EmptyOrDuplicate,isCategoryHeader:hit.isCategoryHeader,isSubCategoryHeader:hit.isSubCategoryHeader,isTextOrSubcategoryNonEmpty:isTextOrSubcategoryNonEmpty,category:category,subcategory:subcategory,title:displayTitle,text:text,url:url}})}},{key:\"formatURL\",value:function formatURL(hit){var url=hit.url,anchor=hit.anchor;if(url){var containsAnchor=url.indexOf(\"#\")!==-1;if(containsAnchor)return url;else if(anchor)return hit.url+\"#\"+hit.anchor;return url}else if(anchor)return\"#\"+hit.anchor;console.warn(\"no anchor nor url for : \",JSON.stringify(hit));return null}},{key:\"getEmptyTemplate\",value:function getEmptyTemplate(){return function(args){return _hogan2.default.compile(_templates2.default.empty).render(args)}}},{key:\"getSuggestionTemplate\",value:function getSuggestionTemplate(isSimpleLayout){var stringTemplate=isSimpleLayout?_templates2.default.suggestionSimple:_templates2.default.suggestion;var template=_hogan2.default.compile(stringTemplate);return function(suggestion){return template.render(suggestion)}}}]);return DocSearch}();exports.default=DocSearch},function(module,exports,__webpack_require__){var Hogan=__webpack_require__(27);Hogan.Template=__webpack_require__(28).Template;Hogan.template=Hogan.Template;module.exports=Hogan},function(module,exports,__webpack_require__){(function(Hogan){var rIsWhitespace=/\\S/,rQuot=/\\\"/g,rNewline=/\\n/g,rCr=/\\r/g,rSlash=/\\\\/g,rLineSep=/\\u2028/,rParagraphSep=/\\u2029/;Hogan.tags={\"#\":1,\"^\":2,\"<\":3,$:4,\"/\":5,\"!\":6,\">\":7,\"=\":8,_v:9,\"{\":10,\"&\":11,_t:12};Hogan.scan=function scan(text,delimiters){var len=text.length,IN_TEXT=0,IN_TAG_TYPE=1,IN_TAG=2,state=IN_TEXT,tagType=null,tag=null,buf=\"\",tokens=[],seenTag=false,i=0,lineStart=0,otag=\"{{\",ctag=\"}}\";function addBuf(){if(buf.length>0){tokens.push({tag:\"_t\",text:new String(buf)});buf=\"\"}}function lineIsWhitespace(){var isAllWhitespace=true;for(var j=lineStart;j<tokens.length;j++){isAllWhitespace=Hogan.tags[tokens[j].tag]<Hogan.tags[\"_v\"]||tokens[j].tag==\"_t\"&&tokens[j].text.match(rIsWhitespace)===null;if(!isAllWhitespace){return false}}return isAllWhitespace}function filterLine(haveSeenTag,noNewLine){addBuf();if(haveSeenTag&&lineIsWhitespace()){for(var j=lineStart,next;j<tokens.length;j++){if(tokens[j].text){if((next=tokens[j+1])&&next.tag==\">\"){next.indent=tokens[j].text.toString()}tokens.splice(j,1)}}}else if(!noNewLine){tokens.push({tag:\"\\n\"})}seenTag=false;lineStart=tokens.length}function changeDelimiters(text,index){var close=\"=\"+ctag,closeIndex=text.indexOf(close,index),delimiters=trim(text.substring(text.indexOf(\"=\",index)+1,closeIndex)).split(\" \");otag=delimiters[0];ctag=delimiters[delimiters.length-1];return closeIndex+close.length-1}if(delimiters){delimiters=delimiters.split(\" \");otag=delimiters[0];ctag=delimiters[1]}for(i=0;i<len;i++){if(state==IN_TEXT){if(tagChange(otag,text,i)){--i;addBuf();state=IN_TAG_TYPE}else{if(text.charAt(i)==\"\\n\"){filterLine(seenTag)}else{buf+=text.charAt(i)}}}else if(state==IN_TAG_TYPE){i+=otag.length-1;tag=Hogan.tags[text.charAt(i+1)];tagType=tag?text.charAt(i+1):\"_v\";if(tagType==\"=\"){i=changeDelimiters(text,i);state=IN_TEXT}else{if(tag){i++}state=IN_TAG}seenTag=i}else{if(tagChange(ctag,text,i)){tokens.push({tag:tagType,n:trim(buf),otag:otag,ctag:ctag,i:tagType==\"/\"?seenTag-otag.length:i+ctag.length});buf=\"\";i+=ctag.length-1;state=IN_TEXT;if(tagType==\"{\"){if(ctag==\"}}\"){i++}else{cleanTripleStache(tokens[tokens.length-1])}}}else{buf+=text.charAt(i)}}}filterLine(seenTag,true);return tokens};function cleanTripleStache(token){if(token.n.substr(token.n.length-1)===\"}\"){token.n=token.n.substring(0,token.n.length-1)}}function trim(s){if(s.trim){return s.trim()}return s.replace(/^\\s*|\\s*$/g,\"\")}function tagChange(tag,text,index){if(text.charAt(index)!=tag.charAt(0)){return false}for(var i=1,l=tag.length;i<l;i++){if(text.charAt(index+i)!=tag.charAt(i)){return false}}return true}var allowedInSuper={_t:true,\"\\n\":true,$:true,\"/\":true};function buildTree(tokens,kind,stack,customTags){var instructions=[],opener=null,tail=null,token=null;tail=stack[stack.length-1];while(tokens.length>0){token=tokens.shift();if(tail&&tail.tag==\"<\"&&!(token.tag in allowedInSuper)){throw new Error(\"Illegal content in < super tag.\")}if(Hogan.tags[token.tag]<=Hogan.tags[\"$\"]||isOpener(token,customTags)){stack.push(token);token.nodes=buildTree(tokens,token.tag,stack,customTags)}else if(token.tag==\"/\"){if(stack.length===0){throw new Error(\"Closing tag without opener: /\"+token.n)}opener=stack.pop();if(token.n!=opener.n&&!isCloser(token.n,opener.n,customTags)){throw new Error(\"Nesting error: \"+opener.n+\" vs. \"+token.n)}opener.end=token.i;return instructions}else if(token.tag==\"\\n\"){token.last=tokens.length==0||tokens[0].tag==\"\\n\"}instructions.push(token)}if(stack.length>0){throw new Error(\"missing closing tag: \"+stack.pop().n)}return instructions}function isOpener(token,tags){for(var i=0,l=tags.length;i<l;i++){if(tags[i].o==token.n){token.tag=\"#\";return true}}}function isCloser(close,open,tags){for(var i=0,l=tags.length;i<l;i++){if(tags[i].c==close&&tags[i].o==open){return true}}}function stringifySubstitutions(obj){var items=[];for(var key in obj){items.push('\"'+esc(key)+'\": function(c,p,t,i) {'+obj[key]+\"}\")}return\"{ \"+items.join(\",\")+\" }\"}function stringifyPartials(codeObj){var partials=[];for(var key in codeObj.partials){partials.push('\"'+esc(key)+'\":{name:\"'+esc(codeObj.partials[key].name)+'\", '+stringifyPartials(codeObj.partials[key])+\"}\")}return\"partials: {\"+partials.join(\",\")+\"}, subs: \"+stringifySubstitutions(codeObj.subs)}Hogan.stringify=function(codeObj,text,options){return\"{code: function (c,p,i) { \"+Hogan.wrapMain(codeObj.code)+\" },\"+stringifyPartials(codeObj)+\"}\"};var serialNo=0;Hogan.generate=function(tree,text,options){serialNo=0;var context={code:\"\",subs:{},partials:{}};Hogan.walk(tree,context);if(options.asString){return this.stringify(context,text,options)}return this.makeTemplate(context,text,options)};Hogan.wrapMain=function(code){return'var t=this;t.b(i=i||\"\");'+code+\"return t.fl();\"};Hogan.template=Hogan.Template;Hogan.makeTemplate=function(codeObj,text,options){var template=this.makePartials(codeObj);template.code=new Function(\"c\",\"p\",\"i\",this.wrapMain(codeObj.code));return new this.template(template,text,this,options)};Hogan.makePartials=function(codeObj){var key,template={subs:{},partials:codeObj.partials,name:codeObj.name};for(key in template.partials){template.partials[key]=this.makePartials(template.partials[key])}for(key in codeObj.subs){template.subs[key]=new Function(\"c\",\"p\",\"t\",\"i\",codeObj.subs[key])}return template};function esc(s){return s.replace(rSlash,\"\\\\\\\\\").replace(rQuot,'\\\\\"').replace(rNewline,\"\\\\n\").replace(rCr,\"\\\\r\").replace(rLineSep,\"\\\\u2028\").replace(rParagraphSep,\"\\\\u2029\")}function chooseMethod(s){return~s.indexOf(\".\")?\"d\":\"f\"}function createPartial(node,context){var prefix=\"<\"+(context.prefix||\"\");var sym=prefix+node.n+serialNo++;context.partials[sym]={name:node.n,partials:{}};context.code+='t.b(t.rp(\"'+esc(sym)+'\",c,p,\"'+(node.indent||\"\")+'\"));';return sym}Hogan.codegen={\"#\":function(node,context){context.code+=\"if(t.s(t.\"+chooseMethod(node.n)+'(\"'+esc(node.n)+'\",c,p,1),'+\"c,p,0,\"+node.i+\",\"+node.end+',\"'+node.otag+\" \"+node.ctag+'\")){'+\"t.rs(c,p,\"+\"function(c,p,t){\";Hogan.walk(node.nodes,context);context.code+=\"});c.pop();}\"},\"^\":function(node,context){context.code+=\"if(!t.s(t.\"+chooseMethod(node.n)+'(\"'+esc(node.n)+'\",c,p,1),c,p,1,0,0,\"\")){';Hogan.walk(node.nodes,context);context.code+=\"};\"},\">\":createPartial,\"<\":function(node,context){var ctx={partials:{},code:\"\",subs:{},inPartial:true};Hogan.walk(node.nodes,ctx);var template=context.partials[createPartial(node,context)];template.subs=ctx.subs;template.partials=ctx.partials},$:function(node,context){var ctx={subs:{},code:\"\",partials:context.partials,prefix:node.n};Hogan.walk(node.nodes,ctx);context.subs[node.n]=ctx.code;if(!context.inPartial){context.code+='t.sub(\"'+esc(node.n)+'\",c,p,i);'}},\"\\n\":function(node,context){context.code+=write('\"\\\\n\"'+(node.last?\"\":\" + i\"))},_v:function(node,context){context.code+=\"t.b(t.v(t.\"+chooseMethod(node.n)+'(\"'+esc(node.n)+'\",c,p,0)));'},_t:function(node,context){context.code+=write('\"'+esc(node.text)+'\"')},\"{\":tripleStache,\"&\":tripleStache};function tripleStache(node,context){context.code+=\"t.b(t.t(t.\"+chooseMethod(node.n)+'(\"'+esc(node.n)+'\",c,p,0)));'}function write(s){return\"t.b(\"+s+\");\"}Hogan.walk=function(nodelist,context){var func;for(var i=0,l=nodelist.length;i<l;i++){func=Hogan.codegen[nodelist[i].tag];func&&func(nodelist[i],context)}return context};Hogan.parse=function(tokens,text,options){options=options||{};return buildTree(tokens,\"\",[],options.sectionTags||[])};Hogan.cache={};Hogan.cacheKey=function(text,options){return[text,!!options.asString,!!options.disableLambda,options.delimiters,!!options.modelGet].join(\"||\")};Hogan.compile=function(text,options){options=options||{};var key=Hogan.cacheKey(text,options);var template=this.cache[key];if(template){var partials=template.partials;for(var name in partials){delete partials[name].instance}return template}template=this.generate(this.parse(this.scan(text,options.delimiters),text,options),text,options);return this.cache[key]=template}})(true?exports:Hogan)},function(module,exports,__webpack_require__){var Hogan={};(function(Hogan){Hogan.Template=function(codeObj,text,compiler,options){codeObj=codeObj||{};this.r=codeObj.code||this.r;this.c=compiler;this.options=options||{};this.text=text||\"\";this.partials=codeObj.partials||{};this.subs=codeObj.subs||{};this.buf=\"\"};Hogan.Template.prototype={r:function(context,partials,indent){return\"\"},v:hoganEscape,t:coerceToString,render:function render(context,partials,indent){return this.ri([context],partials||{},indent)},ri:function(context,partials,indent){return this.r(context,partials,indent)},ep:function(symbol,partials){var partial=this.partials[symbol];var template=partials[partial.name];if(partial.instance&&partial.base==template){return partial.instance}if(typeof template==\"string\"){if(!this.c){throw new Error(\"No compiler available.\")}template=this.c.compile(template,this.options)}if(!template){return null}this.partials[symbol].base=template;if(partial.subs){if(!partials.stackText)partials.stackText={};for(key in partial.subs){if(!partials.stackText[key]){partials.stackText[key]=this.activeSub!==undefined&&partials.stackText[this.activeSub]?partials.stackText[this.activeSub]:this.text}}template=createSpecializedPartial(template,partial.subs,partial.partials,this.stackSubs,this.stackPartials,partials.stackText)}this.partials[symbol].instance=template;return template},rp:function(symbol,context,partials,indent){var partial=this.ep(symbol,partials);if(!partial){return\"\"}return partial.ri(context,partials,indent)},rs:function(context,partials,section){var tail=context[context.length-1];if(!isArray(tail)){section(context,partials,this);return}for(var i=0;i<tail.length;i++){context.push(tail[i]);section(context,partials,this);context.pop()}},s:function(val,ctx,partials,inverted,start,end,tags){var pass;if(isArray(val)&&val.length===0){return false}if(typeof val==\"function\"){val=this.ms(val,ctx,partials,inverted,start,end,tags)}pass=!!val;if(!inverted&&pass&&ctx){ctx.push(typeof val==\"object\"?val:ctx[ctx.length-1])}return pass},d:function(key,ctx,partials,returnFound){var found,names=key.split(\".\"),val=this.f(names[0],ctx,partials,returnFound),doModelGet=this.options.modelGet,cx=null;if(key===\".\"&&isArray(ctx[ctx.length-2])){val=ctx[ctx.length-1]}else{for(var i=1;i<names.length;i++){found=findInScope(names[i],val,doModelGet);if(found!==undefined){cx=val;val=found}else{val=\"\"}}}if(returnFound&&!val){return false}if(!returnFound&&typeof val==\"function\"){ctx.push(cx);val=this.mv(val,ctx,partials);ctx.pop()}return val},f:function(key,ctx,partials,returnFound){var val=false,v=null,found=false,doModelGet=this.options.modelGet;for(var i=ctx.length-1;i>=0;i--){v=ctx[i];val=findInScope(key,v,doModelGet);if(val!==undefined){found=true;break}}if(!found){return returnFound?false:\"\"}if(!returnFound&&typeof val==\"function\"){val=this.mv(val,ctx,partials)}return val},ls:function(func,cx,partials,text,tags){var oldTags=this.options.delimiters;this.options.delimiters=tags;this.b(this.ct(coerceToString(func.call(cx,text)),cx,partials));this.options.delimiters=oldTags;return false},ct:function(text,cx,partials){if(this.options.disableLambda){throw new Error(\"Lambda features disabled.\")}return this.c.compile(text,this.options).render(cx,partials)},b:function(s){this.buf+=s},fl:function(){var r=this.buf;this.buf=\"\";return r},ms:function(func,ctx,partials,inverted,start,end,tags){var textSource,cx=ctx[ctx.length-1],result=func.call(cx);if(typeof result==\"function\"){if(inverted){return true}else{textSource=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text;return this.ls(result,cx,partials,textSource.substring(start,end),tags)}}return result},mv:function(func,ctx,partials){var cx=ctx[ctx.length-1];var result=func.call(cx);if(typeof result==\"function\"){return this.ct(coerceToString(result.call(cx)),cx,partials)}return result},sub:function(name,context,partials,indent){var f=this.subs[name];if(f){this.activeSub=name;f(context,partials,this,indent);this.activeSub=false}}};function findInScope(key,scope,doModelGet){var val;if(scope&&typeof scope==\"object\"){if(scope[key]!==undefined){val=scope[key]}else if(doModelGet&&scope.get&&typeof scope.get==\"function\"){val=scope.get(key)}}return val}function createSpecializedPartial(instance,subs,partials,stackSubs,stackPartials,stackText){function PartialTemplate(){}PartialTemplate.prototype=instance;function Substitutions(){}Substitutions.prototype=instance.subs;var key;var partial=new PartialTemplate;partial.subs=new Substitutions;partial.subsText={};partial.buf=\"\";stackSubs=stackSubs||{};partial.stackSubs=stackSubs;partial.subsText=stackText;for(key in subs){if(!stackSubs[key])stackSubs[key]=subs[key]}for(key in stackSubs){partial.subs[key]=stackSubs[key]}stackPartials=stackPartials||{};partial.stackPartials=stackPartials;for(key in partials){if(!stackPartials[key])stackPartials[key]=partials[key]}for(key in stackPartials){partial.partials[key]=stackPartials[key]}return partial}var rAmp=/&/g,rLt=/</g,rGt=/>/g,rApos=/\\'/g,rQuot=/\\\"/g,hChars=/[&<>\\\"\\']/;function coerceToString(val){return String(val===null||val===undefined?\"\":val)}function hoganEscape(str){str=coerceToString(str);return hChars.test(str)?str.replace(rAmp,\"&amp;\").replace(rLt,\"&lt;\").replace(rGt,\"&gt;\").replace(rApos,\"&#39;\").replace(rQuot,\"&quot;\"):str}var isArray=Array.isArray||function(a){return Object.prototype.toString.call(a)===\"[object Array]\"}})(true?exports:Hogan)},function(module,exports,__webpack_require__){\"use strict\";var AlgoliaSearchCore=__webpack_require__(30);var createAlgoliasearch=__webpack_require__(41);module.exports=createAlgoliasearch(AlgoliaSearchCore,\"(lite) \")},function(module,exports,__webpack_require__){module.exports=AlgoliaSearchCore;var errors=__webpack_require__(5);var exitPromise=__webpack_require__(31);var IndexCore=__webpack_require__(32);var store=__webpack_require__(38);var MAX_API_KEY_LENGTH=500;var RESET_APP_DATA_TIMER=Object({NODE_ENV:\"production\"}).RESET_APP_DATA_TIMER&&parseInt(Object({NODE_ENV:\"production\"}).RESET_APP_DATA_TIMER,10)||60*2*1e3;function AlgoliaSearchCore(applicationID,apiKey,opts){var debug=__webpack_require__(8)(\"algoliasearch\");var clone=__webpack_require__(3);var isArray=__webpack_require__(6);var map=__webpack_require__(7);var usage=\"Usage: algoliasearch(applicationID, apiKey, opts)\";if(opts._allowEmptyCredentials!==true&&!applicationID){throw new errors.AlgoliaSearchError(\"Please provide an application ID. \"+usage)}if(opts._allowEmptyCredentials!==true&&!apiKey){throw new errors.AlgoliaSearchError(\"Please provide an API key. \"+usage)}this.applicationID=applicationID;this.apiKey=apiKey;this.hosts={read:[],write:[]};opts=opts||{};this._timeouts=opts.timeouts||{connect:1*1e3,read:2*1e3,write:30*1e3};if(opts.timeout){this._timeouts.connect=this._timeouts.read=this._timeouts.write=opts.timeout}var protocol=opts.protocol||\"https:\";if(!/:$/.test(protocol)){protocol=protocol+\":\"}if(protocol!==\"http:\"&&protocol!==\"https:\"){throw new errors.AlgoliaSearchError(\"protocol must be `http:` or `https:` (was `\"+opts.protocol+\"`)\")}this._checkAppIdData();if(!opts.hosts){var defaultHosts=map(this._shuffleResult,function(hostNumber){return applicationID+\"-\"+hostNumber+\".algolianet.com\"});var mainSuffix=(opts.dsn===false?\"\":\"-dsn\")+\".algolia.net\";this.hosts.read=[this.applicationID+mainSuffix].concat(defaultHosts);this.hosts.write=[this.applicationID+\".algolia.net\"].concat(defaultHosts)}else if(isArray(opts.hosts)){this.hosts.read=clone(opts.hosts);this.hosts.write=clone(opts.hosts)}else{this.hosts.read=clone(opts.hosts.read);this.hosts.write=clone(opts.hosts.write)}this.hosts.read=map(this.hosts.read,prepareHost(protocol));this.hosts.write=map(this.hosts.write,prepareHost(protocol));this.extraHeaders={};this.cache=opts._cache||{};this._ua=opts._ua;this._useCache=opts._useCache===undefined||opts._cache?true:opts._useCache;this._useRequestCache=this._useCache&&opts._useRequestCache;this._useFallback=opts.useFallback===undefined?true:opts.useFallback;this._setTimeout=opts._setTimeout;debug(\"init done, %j\",this)}AlgoliaSearchCore.prototype.initIndex=function(indexName){return new IndexCore(this,indexName)};AlgoliaSearchCore.prototype.setExtraHeader=function(name,value){this.extraHeaders[name.toLowerCase()]=value};AlgoliaSearchCore.prototype.getExtraHeader=function(name){return this.extraHeaders[name.toLowerCase()]};AlgoliaSearchCore.prototype.unsetExtraHeader=function(name){delete this.extraHeaders[name.toLowerCase()]};AlgoliaSearchCore.prototype.addAlgoliaAgent=function(algoliaAgent){if(this._ua.indexOf(\";\"+algoliaAgent)===-1){this._ua+=\";\"+algoliaAgent}};AlgoliaSearchCore.prototype._jsonRequest=function(initialOpts){this._checkAppIdData();var requestDebug=__webpack_require__(8)(\"algoliasearch:\"+initialOpts.url);var body;var cacheID;var additionalUA=initialOpts.additionalUA||\"\";var cache=initialOpts.cache;var client=this;var tries=0;var usingFallback=false;var hasFallback=client._useFallback&&client._request.fallback&&initialOpts.fallback;var headers;if(this.apiKey.length>MAX_API_KEY_LENGTH&&initialOpts.body!==undefined&&(initialOpts.body.params!==undefined||initialOpts.body.requests!==undefined)){initialOpts.body.apiKey=this.apiKey;headers=this._computeRequestHeaders({additionalUA:additionalUA,withApiKey:false,headers:initialOpts.headers})}else{headers=this._computeRequestHeaders({additionalUA:additionalUA,headers:initialOpts.headers})}if(initialOpts.body!==undefined){body=safeJSONStringify(initialOpts.body)}requestDebug(\"request start\");var debugData=[];function doRequest(requester,reqOpts){client._checkAppIdData();var startTime=new Date;if(client._useCache&&!client._useRequestCache){cacheID=initialOpts.url}if(client._useCache&&!client._useRequestCache&&body){cacheID+=\"_body_\"+reqOpts.body}if(isCacheValidWithCurrentID(!client._useRequestCache,cache,cacheID)){requestDebug(\"serving response from cache\");var responseText=cache[cacheID];return client._promise.resolve({body:JSON.parse(responseText),responseText:responseText})}if(tries>=client.hosts[initialOpts.hostType].length){if(!hasFallback||usingFallback){requestDebug(\"could not get any response\");return client._promise.reject(new errors.AlgoliaSearchError(\"Cannot connect to the AlgoliaSearch API.\"+\" Send an email to support@algolia.com to report and resolve the issue.\"+\" Application id was: \"+client.applicationID,{debugData:debugData}))}requestDebug(\"switching to fallback\");tries=0;reqOpts.method=initialOpts.fallback.method;reqOpts.url=initialOpts.fallback.url;reqOpts.jsonBody=initialOpts.fallback.body;if(reqOpts.jsonBody){reqOpts.body=safeJSONStringify(reqOpts.jsonBody)}headers=client._computeRequestHeaders({additionalUA:additionalUA,headers:initialOpts.headers});reqOpts.timeouts=client._getTimeoutsForRequest(initialOpts.hostType);client._setHostIndexByType(0,initialOpts.hostType);usingFallback=true;return doRequest(client._request.fallback,reqOpts)}var currentHost=client._getHostByType(initialOpts.hostType);var url=currentHost+reqOpts.url;var options={body:reqOpts.body,jsonBody:reqOpts.jsonBody,method:reqOpts.method,headers:headers,timeouts:reqOpts.timeouts,debug:requestDebug,forceAuthHeaders:reqOpts.forceAuthHeaders};requestDebug(\"method: %s, url: %s, headers: %j, timeouts: %d\",options.method,url,options.headers,options.timeouts);if(requester===client._request.fallback){requestDebug(\"using fallback\")}return requester.call(client,url,options).then(success,tryFallback);function success(httpResponse){var status=httpResponse&&httpResponse.body&&httpResponse.body.message&&httpResponse.body.status||httpResponse.statusCode||httpResponse&&httpResponse.body&&200;requestDebug(\"received response: statusCode: %s, computed statusCode: %d, headers: %j\",httpResponse.statusCode,status,httpResponse.headers);var httpResponseOk=Math.floor(status/100)===2;var endTime=new Date;debugData.push({currentHost:currentHost,headers:removeCredentials(headers),content:body||null,contentLength:body!==undefined?body.length:null,method:reqOpts.method,timeouts:reqOpts.timeouts,url:reqOpts.url,startTime:startTime,endTime:endTime,duration:endTime-startTime,statusCode:status});if(httpResponseOk){if(client._useCache&&!client._useRequestCache&&cache){cache[cacheID]=httpResponse.responseText}return{responseText:httpResponse.responseText,body:httpResponse.body}}var shouldRetry=Math.floor(status/100)!==4;if(shouldRetry){tries+=1;return retryRequest()}requestDebug(\"unrecoverable error\");var unrecoverableError=new errors.AlgoliaSearchError(httpResponse.body&&httpResponse.body.message,{debugData:debugData,statusCode:status});return client._promise.reject(unrecoverableError)}function tryFallback(err){requestDebug(\"error: %s, stack: %s\",err.message,err.stack);var endTime=new Date;debugData.push({currentHost:currentHost,headers:removeCredentials(headers),content:body||null,contentLength:body!==undefined?body.length:null,method:reqOpts.method,timeouts:reqOpts.timeouts,url:reqOpts.url,startTime:startTime,endTime:endTime,duration:endTime-startTime});if(!(err instanceof errors.AlgoliaSearchError)){err=new errors.Unknown(err&&err.message,err)}tries+=1;if(err instanceof errors.Unknown||err instanceof errors.UnparsableJSON||tries>=client.hosts[initialOpts.hostType].length&&(usingFallback||!hasFallback)){err.debugData=debugData;return client._promise.reject(err)}if(err instanceof errors.RequestTimeout){return retryRequestWithHigherTimeout()}return retryRequest()}function retryRequest(){requestDebug(\"retrying request\");client._incrementHostIndex(initialOpts.hostType);return doRequest(requester,reqOpts)}function retryRequestWithHigherTimeout(){requestDebug(\"retrying request with higher timeout\");client._incrementHostIndex(initialOpts.hostType);client._incrementTimeoutMultipler();reqOpts.timeouts=client._getTimeoutsForRequest(initialOpts.hostType);return doRequest(requester,reqOpts)}}function isCacheValidWithCurrentID(useRequestCache,currentCache,currentCacheID){return client._useCache&&useRequestCache&&currentCache&&currentCache[currentCacheID]!==undefined}function interopCallbackReturn(request,callback){if(isCacheValidWithCurrentID(client._useRequestCache,cache,cacheID)){request.catch(function(){delete cache[cacheID]})}if(typeof initialOpts.callback===\"function\"){request.then(function okCb(content){exitPromise(function(){initialOpts.callback(null,callback(content))},client._setTimeout||setTimeout)},function nookCb(err){exitPromise(function(){initialOpts.callback(err)},client._setTimeout||setTimeout)})}else{return request.then(callback)}}if(client._useCache&&client._useRequestCache){cacheID=initialOpts.url}if(client._useCache&&client._useRequestCache&&body){cacheID+=\"_body_\"+body}if(isCacheValidWithCurrentID(client._useRequestCache,cache,cacheID)){requestDebug(\"serving request from cache\");var maybePromiseForCache=cache[cacheID];var promiseForCache=typeof maybePromiseForCache.then!==\"function\"?client._promise.resolve({responseText:maybePromiseForCache}):maybePromiseForCache;return interopCallbackReturn(promiseForCache,function(content){return JSON.parse(content.responseText)})}var request=doRequest(client._request,{url:initialOpts.url,method:initialOpts.method,body:body,jsonBody:initialOpts.body,timeouts:client._getTimeoutsForRequest(initialOpts.hostType),forceAuthHeaders:initialOpts.forceAuthHeaders});if(client._useCache&&client._useRequestCache&&cache){cache[cacheID]=request}return interopCallbackReturn(request,function(content){return content.body})};AlgoliaSearchCore.prototype._getSearchParams=function(args,params){if(args===undefined||args===null){return params}for(var key in args){if(key!==null&&args[key]!==undefined&&args.hasOwnProperty(key)){params+=params===\"\"?\"\":\"&\";params+=key+\"=\"+encodeURIComponent(Object.prototype.toString.call(args[key])===\"[object Array]\"?safeJSONStringify(args[key]):args[key])}}return params};AlgoliaSearchCore.prototype._computeRequestHeaders=function(options){var forEach=__webpack_require__(2);var ua=options.additionalUA?this._ua+\";\"+options.additionalUA:this._ua;var requestHeaders={\"x-algolia-agent\":ua,\"x-algolia-application-id\":this.applicationID};if(options.withApiKey!==false){requestHeaders[\"x-algolia-api-key\"]=this.apiKey}if(this.userToken){requestHeaders[\"x-algolia-usertoken\"]=this.userToken}if(this.securityTags){requestHeaders[\"x-algolia-tagfilters\"]=this.securityTags}forEach(this.extraHeaders,function addToRequestHeaders(value,key){requestHeaders[key]=value});if(options.headers){forEach(options.headers,function addToRequestHeaders(value,key){requestHeaders[key]=value})}return requestHeaders};AlgoliaSearchCore.prototype.search=function(queries,opts,callback){var isArray=__webpack_require__(6);var map=__webpack_require__(7);var usage=\"Usage: client.search(arrayOfQueries[, callback])\";if(!isArray(queries)){throw new Error(usage)}if(typeof opts===\"function\"){callback=opts;opts={}}else if(opts===undefined){opts={}}var client=this;var postObj={requests:map(queries,function prepareRequest(query){var params=\"\";if(query.query!==undefined){params+=\"query=\"+encodeURIComponent(query.query)}return{indexName:query.indexName,params:client._getSearchParams(query.params,params)}})};var JSONPParams=map(postObj.requests,function prepareJSONPParams(request,requestId){return requestId+\"=\"+encodeURIComponent(\"/1/indexes/\"+encodeURIComponent(request.indexName)+\"?\"+request.params)}).join(\"&\");var url=\"/1/indexes/*/queries\";if(opts.strategy!==undefined){postObj.strategy=opts.strategy}return this._jsonRequest({cache:this.cache,method:\"POST\",url:url,body:postObj,hostType:\"read\",fallback:{method:\"GET\",url:\"/1/indexes/*\",body:{params:JSONPParams}},callback:callback})};AlgoliaSearchCore.prototype.searchForFacetValues=function(queries){var isArray=__webpack_require__(6);var map=__webpack_require__(7);var usage=\"Usage: client.searchForFacetValues([{indexName, params: {facetName, facetQuery, ...params}}, ...queries])\";if(!isArray(queries)){throw new Error(usage)}var client=this;return client._promise.all(map(queries,function performQuery(query){if(!query||query.indexName===undefined||query.params.facetName===undefined||query.params.facetQuery===undefined){throw new Error(usage)}var clone=__webpack_require__(3);var omit=__webpack_require__(14);var indexName=query.indexName;var params=query.params;var facetName=params.facetName;var filteredParams=omit(clone(params),function(keyName){return keyName===\"facetName\"});var searchParameters=client._getSearchParams(filteredParams,\"\");return client._jsonRequest({cache:client.cache,method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(indexName)+\"/facets/\"+encodeURIComponent(facetName)+\"/query\",hostType:\"read\",body:{params:searchParameters}})}))};AlgoliaSearchCore.prototype.setSecurityTags=function(tags){if(Object.prototype.toString.call(tags)===\"[object Array]\"){var strTags=[];for(var i=0;i<tags.length;++i){if(Object.prototype.toString.call(tags[i])===\"[object Array]\"){var oredTags=[];for(var j=0;j<tags[i].length;++j){oredTags.push(tags[i][j])}strTags.push(\"(\"+oredTags.join(\",\")+\")\")}else{strTags.push(tags[i])}}tags=strTags.join(\",\")}this.securityTags=tags};AlgoliaSearchCore.prototype.setUserToken=function(userToken){this.userToken=userToken};AlgoliaSearchCore.prototype.clearCache=function(){this.cache={}};AlgoliaSearchCore.prototype.setRequestTimeout=function(milliseconds){if(milliseconds){this._timeouts.connect=this._timeouts.read=this._timeouts.write=milliseconds}};AlgoliaSearchCore.prototype.setTimeouts=function(timeouts){this._timeouts=timeouts};AlgoliaSearchCore.prototype.getTimeouts=function(){return this._timeouts};AlgoliaSearchCore.prototype._getAppIdData=function(){var data=store.get(this.applicationID);if(data!==null)this._cacheAppIdData(data);return data};AlgoliaSearchCore.prototype._setAppIdData=function(data){data.lastChange=(new Date).getTime();this._cacheAppIdData(data);return store.set(this.applicationID,data)};AlgoliaSearchCore.prototype._checkAppIdData=function(){var data=this._getAppIdData();var now=(new Date).getTime();if(data===null||now-data.lastChange>RESET_APP_DATA_TIMER){return this._resetInitialAppIdData(data)}return data};AlgoliaSearchCore.prototype._resetInitialAppIdData=function(data){var newData=data||{};newData.hostIndexes={read:0,write:0};newData.timeoutMultiplier=1;newData.shuffleResult=newData.shuffleResult||shuffle([1,2,3]);return this._setAppIdData(newData)};AlgoliaSearchCore.prototype._cacheAppIdData=function(data){this._hostIndexes=data.hostIndexes;this._timeoutMultiplier=data.timeoutMultiplier;this._shuffleResult=data.shuffleResult};AlgoliaSearchCore.prototype._partialAppIdDataUpdate=function(newData){var foreach=__webpack_require__(2);var currentData=this._getAppIdData();foreach(newData,function(value,key){currentData[key]=value});return this._setAppIdData(currentData)};AlgoliaSearchCore.prototype._getHostByType=function(hostType){return this.hosts[hostType][this._getHostIndexByType(hostType)]};AlgoliaSearchCore.prototype._getTimeoutMultiplier=function(){return this._timeoutMultiplier};AlgoliaSearchCore.prototype._getHostIndexByType=function(hostType){return this._hostIndexes[hostType]};AlgoliaSearchCore.prototype._setHostIndexByType=function(hostIndex,hostType){var clone=__webpack_require__(3);var newHostIndexes=clone(this._hostIndexes);newHostIndexes[hostType]=hostIndex;this._partialAppIdDataUpdate({hostIndexes:newHostIndexes});return hostIndex};AlgoliaSearchCore.prototype._incrementHostIndex=function(hostType){return this._setHostIndexByType((this._getHostIndexByType(hostType)+1)%this.hosts[hostType].length,hostType)};AlgoliaSearchCore.prototype._incrementTimeoutMultipler=function(){var timeoutMultiplier=Math.max(this._timeoutMultiplier+1,4);return this._partialAppIdDataUpdate({timeoutMultiplier:timeoutMultiplier})};AlgoliaSearchCore.prototype._getTimeoutsForRequest=function(hostType){return{connect:this._timeouts.connect*this._timeoutMultiplier,complete:this._timeouts[hostType]*this._timeoutMultiplier}};function prepareHost(protocol){return function prepare(host){return protocol+\"//\"+host.toLowerCase()}}function safeJSONStringify(obj){if(Array.prototype.toJSON===undefined){return JSON.stringify(obj)}var toJSON=Array.prototype.toJSON;delete Array.prototype.toJSON;var out=JSON.stringify(obj);Array.prototype.toJSON=toJSON;return out}function shuffle(array){var currentIndex=array.length;var temporaryValue;var randomIndex;while(currentIndex!==0){randomIndex=Math.floor(Math.random()*currentIndex);currentIndex-=1;temporaryValue=array[currentIndex];array[currentIndex]=array[randomIndex];array[randomIndex]=temporaryValue}return array}function removeCredentials(headers){var newHeaders={};for(var headerName in headers){if(Object.prototype.hasOwnProperty.call(headers,headerName)){var value;if(headerName===\"x-algolia-api-key\"||headerName===\"x-algolia-application-id\"){value=\"**hidden for security purposes**\"}else{value=headers[headerName]}newHeaders[headerName]=value}}return newHeaders}},function(module,exports){module.exports=function exitPromise(fn,_setTimeout){_setTimeout(fn,0)}},function(module,exports,__webpack_require__){var buildSearchMethod=__webpack_require__(13);var deprecate=__webpack_require__(33);var deprecatedMessage=__webpack_require__(34);module.exports=IndexCore;function IndexCore(algoliasearch,indexName){this.indexName=indexName;this.as=algoliasearch;this.typeAheadArgs=null;this.typeAheadValueOption=null;this.cache={}}IndexCore.prototype.clearCache=function(){this.cache={}};IndexCore.prototype.search=buildSearchMethod(\"query\");IndexCore.prototype.similarSearch=buildSearchMethod(\"similarQuery\");IndexCore.prototype.browse=function(query,queryParameters,callback){var merge=__webpack_require__(35);var indexObj=this;var page;var hitsPerPage;if(arguments.length===0||arguments.length===1&&typeof arguments[0]===\"function\"){page=0;callback=arguments[0];query=undefined}else if(typeof arguments[0]===\"number\"){page=arguments[0];if(typeof arguments[1]===\"number\"){hitsPerPage=arguments[1]}else if(typeof arguments[1]===\"function\"){callback=arguments[1];hitsPerPage=undefined}query=undefined;queryParameters=undefined}else if(typeof arguments[0]===\"object\"){if(typeof arguments[1]===\"function\"){callback=arguments[1]}queryParameters=arguments[0];query=undefined}else if(typeof arguments[0]===\"string\"&&typeof arguments[1]===\"function\"){callback=arguments[1];queryParameters=undefined}queryParameters=merge({},queryParameters||{},{page:page,hitsPerPage:hitsPerPage,query:query});var params=this.as._getSearchParams(queryParameters,\"\");return this.as._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(indexObj.indexName)+\"/browse\",body:{params:params},hostType:\"read\",callback:callback})};IndexCore.prototype.browseFrom=function(cursor,callback){return this.as._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(this.indexName)+\"/browse\",body:{cursor:cursor},hostType:\"read\",callback:callback})};IndexCore.prototype.searchForFacetValues=function(params,callback){var clone=__webpack_require__(3);var omit=__webpack_require__(14);var usage=\"Usage: index.searchForFacetValues({facetName, facetQuery, ...params}[, callback])\";if(params.facetName===undefined||params.facetQuery===undefined){throw new Error(usage)}var facetName=params.facetName;var filteredParams=omit(clone(params),function(keyName){return keyName===\"facetName\"});var searchParameters=this.as._getSearchParams(filteredParams,\"\");return this.as._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(this.indexName)+\"/facets/\"+encodeURIComponent(facetName)+\"/query\",hostType:\"read\",body:{params:searchParameters},callback:callback})};IndexCore.prototype.searchFacet=deprecate(function(params,callback){return this.searchForFacetValues(params,callback)},deprecatedMessage(\"index.searchFacet(params[, callback])\",\"index.searchForFacetValues(params[, callback])\"));IndexCore.prototype._search=function(params,url,callback,additionalUA){return this.as._jsonRequest({cache:this.cache,method:\"POST\",url:url||\"/1/indexes/\"+encodeURIComponent(this.indexName)+\"/query\",body:{params:params},hostType:\"read\",fallback:{method:\"GET\",url:\"/1/indexes/\"+encodeURIComponent(this.indexName),body:{params:params}},callback:callback,additionalUA:additionalUA})};IndexCore.prototype.getObject=function(objectID,attrs,callback){var indexObj=this;if(arguments.length===1||typeof attrs===\"function\"){callback=attrs;attrs=undefined}var params=\"\";if(attrs!==undefined){params=\"?attributes=\";for(var i=0;i<attrs.length;++i){if(i!==0){params+=\",\"}params+=attrs[i]}}return this.as._jsonRequest({method:\"GET\",url:\"/1/indexes/\"+encodeURIComponent(indexObj.indexName)+\"/\"+encodeURIComponent(objectID)+params,hostType:\"read\",callback:callback})};IndexCore.prototype.getObjects=function(objectIDs,attributesToRetrieve,callback){var isArray=__webpack_require__(6);var map=__webpack_require__(7);var usage=\"Usage: index.getObjects(arrayOfObjectIDs[, callback])\";if(!isArray(objectIDs)){throw new Error(usage)}var indexObj=this;if(arguments.length===1||typeof attributesToRetrieve===\"function\"){callback=attributesToRetrieve;attributesToRetrieve=undefined}var body={requests:map(objectIDs,function prepareRequest(objectID){var request={indexName:indexObj.indexName,objectID:objectID};if(attributesToRetrieve){request.attributesToRetrieve=attributesToRetrieve.join(\",\")}return request})};return this.as._jsonRequest({method:\"POST\",url:\"/1/indexes/*/objects\",hostType:\"read\",body:body,callback:callback})};IndexCore.prototype.as=null;IndexCore.prototype.indexName=null;IndexCore.prototype.typeAheadArgs=null;IndexCore.prototype.typeAheadValueOption=null},function(module,exports){module.exports=function deprecate(fn,message){var warned=false;function deprecated(){if(!warned){console.warn(message);warned=true}return fn.apply(this,arguments)}return deprecated}},function(module,exports){module.exports=function deprecatedMessage(previousUsage,newUsage){var githubAnchorLink=previousUsage.toLowerCase().replace(/[\\.\\(\\)]/g,\"\");return\"algoliasearch: `\"+previousUsage+\"` was replaced by `\"+newUsage+\"`. Please see https://github.com/algolia/algoliasearch-client-javascript/wiki/Deprecated#\"+githubAnchorLink}},function(module,exports,__webpack_require__){var foreach=__webpack_require__(2);module.exports=function merge(destination){var sources=Array.prototype.slice.call(arguments);foreach(sources,function(source){for(var keyName in source){if(source.hasOwnProperty(keyName)){if(typeof destination[keyName]===\"object\"&&typeof source[keyName]===\"object\"){destination[keyName]=merge({},destination[keyName],source[keyName])}else if(source[keyName]!==undefined){destination[keyName]=source[keyName]}}}});return destination}},function(module,exports,__webpack_require__){\"use strict\";var has=Object.prototype.hasOwnProperty;var toStr=Object.prototype.toString;var slice=Array.prototype.slice;var isArgs=__webpack_require__(37);var isEnumerable=Object.prototype.propertyIsEnumerable;var hasDontEnumBug=!isEnumerable.call({toString:null},\"toString\");var hasProtoEnumBug=isEnumerable.call(function(){},\"prototype\");var dontEnums=[\"toString\",\"toLocaleString\",\"valueOf\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"constructor\"];var equalsConstructorPrototype=function(o){var ctor=o.constructor;return ctor&&ctor.prototype===o};var excludedKeys={$applicationCache:true,$console:true,$external:true,$frame:true,$frameElement:true,$frames:true,$innerHeight:true,$innerWidth:true,$outerHeight:true,$outerWidth:true,$pageXOffset:true,$pageYOffset:true,$parent:true,$scrollLeft:true,$scrollTop:true,$scrollX:true,$scrollY:true,$self:true,$webkitIndexedDB:true,$webkitStorageInfo:true,$window:true};var hasAutomationEqualityBug=function(){if(typeof window===\"undefined\"){return false}for(var k in window){try{if(!excludedKeys[\"$\"+k]&&has.call(window,k)&&window[k]!==null&&typeof window[k]===\"object\"){try{equalsConstructorPrototype(window[k])}catch(e){return true}}}catch(e){return true}}return false}();var equalsConstructorPrototypeIfNotBuggy=function(o){if(typeof window===\"undefined\"||!hasAutomationEqualityBug){return equalsConstructorPrototype(o)}try{return equalsConstructorPrototype(o)}catch(e){return false}};var keysShim=function keys(object){var isObject=object!==null&&typeof object===\"object\";var isFunction=toStr.call(object)===\"[object Function]\";var isArguments=isArgs(object);var isString=isObject&&toStr.call(object)===\"[object String]\";var theKeys=[];if(!isObject&&!isFunction&&!isArguments){throw new TypeError(\"Object.keys called on a non-object\")}var skipProto=hasProtoEnumBug&&isFunction;if(isString&&object.length>0&&!has.call(object,0)){for(var i=0;i<object.length;++i){theKeys.push(String(i))}}if(isArguments&&object.length>0){for(var j=0;j<object.length;++j){theKeys.push(String(j))}}else{for(var name in object){if(!(skipProto&&name===\"prototype\")&&has.call(object,name)){theKeys.push(String(name))}}}if(hasDontEnumBug){var skipConstructor=equalsConstructorPrototypeIfNotBuggy(object);for(var k=0;k<dontEnums.length;++k){if(!(skipConstructor&&dontEnums[k]===\"constructor\")&&has.call(object,dontEnums[k])){theKeys.push(dontEnums[k])}}}return theKeys};keysShim.shim=function shimObjectKeys(){if(Object.keys){var keysWorksWithArguments=function(){return(Object.keys(arguments)||\"\").length===2}(1,2);if(!keysWorksWithArguments){var originalKeys=Object.keys;Object.keys=function keys(object){if(isArgs(object)){return originalKeys(slice.call(object))}else{return originalKeys(object)}}}}else{Object.keys=keysShim}return Object.keys||keysShim};module.exports=keysShim},function(module,exports,__webpack_require__){\"use strict\";var toStr=Object.prototype.toString;module.exports=function isArguments(value){var str=toStr.call(value);var isArgs=str===\"[object Arguments]\";if(!isArgs){isArgs=str!==\"[object Array]\"&&value!==null&&typeof value===\"object\"&&typeof value.length===\"number\"&&value.length>=0&&toStr.call(value.callee)===\"[object Function]\"}return isArgs}},function(module,exports,__webpack_require__){(function(global){var debug=__webpack_require__(8)(\"algoliasearch:src/hostIndexState.js\");var localStorageNamespace=\"algoliasearch-client-js\";var store;var moduleStore={state:{},set:function(key,data){this.state[key]=data;return this.state[key]},get:function(key){return this.state[key]||null}};var localStorageStore={set:function(key,data){moduleStore.set(key,data);try{var namespace=JSON.parse(global.localStorage[localStorageNamespace]);namespace[key]=data;global.localStorage[localStorageNamespace]=JSON.stringify(namespace);return namespace[key]}catch(e){return localStorageFailure(key,e)}},get:function(key){try{return JSON.parse(global.localStorage[localStorageNamespace])[key]||null}catch(e){return localStorageFailure(key,e)}}};function localStorageFailure(key,e){debug(\"localStorage failed with\",e);cleanup();store=moduleStore;return store.get(key)}store=supportsLocalStorage()?localStorageStore:moduleStore;module.exports={get:getOrSet,set:getOrSet,supportsLocalStorage:supportsLocalStorage};function getOrSet(key,data){if(arguments.length===1){return store.get(key)}return store.set(key,data)}function supportsLocalStorage(){try{if(\"localStorage\"in global&&global.localStorage!==null){if(!global.localStorage[localStorageNamespace]){global.localStorage.setItem(localStorageNamespace,JSON.stringify({}))}return true}return false}catch(_){return false}}function cleanup(){try{global.localStorage.removeItem(localStorageNamespace)}catch(_){}}}).call(exports,__webpack_require__(4))},function(module,exports,__webpack_require__){exports=module.exports=createDebug.debug=createDebug[\"default\"]=createDebug;exports.coerce=coerce;exports.disable=disable;exports.enable=enable;exports.enabled=enabled;exports.humanize=__webpack_require__(40);exports.names=[];exports.skips=[];exports.formatters={};var prevTime;function selectColor(namespace){var hash=0,i;for(i in namespace){hash=(hash<<5)-hash+namespace.charCodeAt(i);hash|=0}return exports.colors[Math.abs(hash)%exports.colors.length]}function createDebug(namespace){function debug(){if(!debug.enabled)return;var self=debug;var curr=+new Date;var ms=curr-(prevTime||curr);self.diff=ms;self.prev=prevTime;self.curr=curr;prevTime=curr;var args=new Array(arguments.length);for(var i=0;i<args.length;i++){args[i]=arguments[i]}args[0]=exports.coerce(args[0]);if(\"string\"!==typeof args[0]){args.unshift(\"%O\")}var index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,function(match,format){if(match===\"%%\")return match;index++;var formatter=exports.formatters[format];if(\"function\"===typeof formatter){var val=args[index];match=formatter.call(self,val);args.splice(index,1);index--}return match});exports.formatArgs.call(self,args);var logFn=debug.log||exports.log||console.log.bind(console);logFn.apply(self,args)}debug.namespace=namespace;debug.enabled=exports.enabled(namespace);debug.useColors=exports.useColors();debug.color=selectColor(namespace);if(\"function\"===typeof exports.init){exports.init(debug)}return debug}function enable(namespaces){exports.save(namespaces);exports.names=[];exports.skips=[];var split=(typeof namespaces===\"string\"?namespaces:\"\").split(/[\\s,]+/);var len=split.length;for(var i=0;i<len;i++){if(!split[i])continue;namespaces=split[i].replace(/\\*/g,\".*?\");if(namespaces[0]===\"-\"){exports.skips.push(new RegExp(\"^\"+namespaces.substr(1)+\"$\"))}else{exports.names.push(new RegExp(\"^\"+namespaces+\"$\"))}}}function disable(){exports.enable(\"\")}function enabled(name){var i,len;for(i=0,len=exports.skips.length;i<len;i++){if(exports.skips[i].test(name)){return false}}for(i=0,len=exports.names.length;i<len;i++){if(exports.names[i].test(name)){return true}}return false}function coerce(val){if(val instanceof Error)return val.stack||val.message;return val}},function(module,exports){var s=1e3;var m=s*60;var h=m*60;var d=h*24;var y=d*365.25;module.exports=function(val,options){options=options||{};var type=typeof val;if(type===\"string\"&&val.length>0){return parse(val)}else if(type===\"number\"&&isNaN(val)===false){return options.long?fmtLong(val):fmtShort(val)}throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(val))};function parse(str){str=String(str);if(str.length>100){return}var match=/^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);if(!match){return}var n=parseFloat(match[1]);var type=(match[2]||\"ms\").toLowerCase();switch(type){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return n*y;case\"days\":case\"day\":case\"d\":return n*d;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return n*h;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return n*m;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return n*s;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return n;default:return undefined}}function fmtShort(ms){if(ms>=d){return Math.round(ms/d)+\"d\"}if(ms>=h){return Math.round(ms/h)+\"h\"}if(ms>=m){return Math.round(ms/m)+\"m\"}if(ms>=s){return Math.round(ms/s)+\"s\"}return ms+\"ms\"}function fmtLong(ms){return plural(ms,d,\"day\")||plural(ms,h,\"hour\")||plural(ms,m,\"minute\")||plural(ms,s,\"second\")||ms+\" ms\"}function plural(ms,n,name){if(ms<n){return}if(ms<n*1.5){return Math.floor(ms/n)+\" \"+name}return Math.ceil(ms/n)+\" \"+name+\"s\"}},function(module,exports,__webpack_require__){\"use strict\";var global=__webpack_require__(42);var Promise=global.Promise||__webpack_require__(43).Promise;module.exports=function createAlgoliasearch(AlgoliaSearch,uaSuffix){var inherits=__webpack_require__(12);var errors=__webpack_require__(5);var inlineHeaders=__webpack_require__(44);var jsonpRequest=__webpack_require__(46);var places=__webpack_require__(47);uaSuffix=uaSuffix||\"\";if(false){require(\"debug\").enable(\"algoliasearch*\")}function algoliasearch(applicationID,apiKey,opts){var cloneDeep=__webpack_require__(3);opts=cloneDeep(opts||{});opts._ua=opts._ua||algoliasearch.ua;return new AlgoliaSearchBrowser(applicationID,apiKey,opts)}algoliasearch.version=__webpack_require__(48);algoliasearch.ua=\"Algolia for vanilla JavaScript \"+uaSuffix+algoliasearch.version;algoliasearch.initPlaces=places(algoliasearch);global.__algolia={debug:__webpack_require__(8),algoliasearch:algoliasearch};var support={hasXMLHttpRequest:\"XMLHttpRequest\"in global,hasXDomainRequest:\"XDomainRequest\"in global};if(support.hasXMLHttpRequest){support.cors=\"withCredentials\"in new XMLHttpRequest}function AlgoliaSearchBrowser(){AlgoliaSearch.apply(this,arguments)}inherits(AlgoliaSearchBrowser,AlgoliaSearch);AlgoliaSearchBrowser.prototype._request=function request(url,opts){return new Promise(function wrapRequest(resolve,reject){if(!support.cors&&!support.hasXDomainRequest){reject(new errors.Network(\"CORS not supported\"));return}url=inlineHeaders(url,opts.headers);var body=opts.body;var req=support.cors?new XMLHttpRequest:new XDomainRequest;var reqTimeout;var timedOut;var connected=false;reqTimeout=setTimeout(onTimeout,opts.timeouts.connect);req.onprogress=onProgress;if(\"onreadystatechange\"in req)req.onreadystatechange=onReadyStateChange;req.onload=onLoad;req.onerror=onError;if(req instanceof XMLHttpRequest){req.open(opts.method,url,true);if(opts.forceAuthHeaders){req.setRequestHeader(\"x-algolia-application-id\",opts.headers[\"x-algolia-application-id\"]);req.setRequestHeader(\"x-algolia-api-key\",opts.headers[\"x-algolia-api-key\"])}}else{req.open(opts.method,url)}if(support.cors){if(body){if(opts.method===\"POST\"){req.setRequestHeader(\"content-type\",\"application/x-www-form-urlencoded\")}else{req.setRequestHeader(\"content-type\",\"application/json\")}}req.setRequestHeader(\"accept\",\"application/json\")}if(body){req.send(body)}else{req.send()}function onLoad(){if(timedOut){return}clearTimeout(reqTimeout);var out;try{out={body:JSON.parse(req.responseText),responseText:req.responseText,statusCode:req.status,headers:req.getAllResponseHeaders&&req.getAllResponseHeaders()||{}}}catch(e){out=new errors.UnparsableJSON({more:req.responseText})}if(out instanceof errors.UnparsableJSON){reject(out)}else{resolve(out)}}function onError(event){if(timedOut){return}clearTimeout(reqTimeout);reject(new errors.Network({more:event}))}function onTimeout(){timedOut=true;req.abort();reject(new errors.RequestTimeout)}function onConnect(){connected=true;clearTimeout(reqTimeout);reqTimeout=setTimeout(onTimeout,opts.timeouts.complete)}function onProgress(){if(!connected)onConnect()}function onReadyStateChange(){if(!connected&&req.readyState>1)onConnect()}})};AlgoliaSearchBrowser.prototype._request.fallback=function requestFallback(url,opts){url=inlineHeaders(url,opts.headers);return new Promise(function wrapJsonpRequest(resolve,reject){jsonpRequest(url,opts,function jsonpRequestDone(err,content){if(err){reject(err);return}resolve(content)})})};AlgoliaSearchBrowser.prototype._promise={reject:function rejectPromise(val){return Promise.reject(val)},resolve:function resolvePromise(val){return Promise.resolve(val)},delay:function delayPromise(ms){return new Promise(function resolveOnTimeout(resolve){setTimeout(resolve,ms)})},all:function all(promises){return Promise.all(promises)}};return algoliasearch}},function(module,exports,__webpack_require__){(function(global){var win;if(typeof window!==\"undefined\"){win=window}else if(typeof global!==\"undefined\"){win=global}else if(typeof self!==\"undefined\"){win=self}else{win={}}module.exports=win}).call(exports,__webpack_require__(4))},function(module,exports,__webpack_require__){(function(process,global){(function(global,factory){true?module.exports=factory():typeof define===\"function\"&&define.amd?define(factory):global.ES6Promise=factory()})(this,function(){\"use strict\";function objectOrFunction(x){var type=typeof x;return x!==null&&(type===\"object\"||type===\"function\")}function isFunction(x){return typeof x===\"function\"}var _isArray=void 0;if(Array.isArray){_isArray=Array.isArray}else{_isArray=function(x){return Object.prototype.toString.call(x)===\"[object Array]\"}}var isArray=_isArray;var len=0;var vertxNext=void 0;var customSchedulerFn=void 0;var asap=function asap(callback,arg){queue[len]=callback;queue[len+1]=arg;len+=2;if(len===2){if(customSchedulerFn){customSchedulerFn(flush)}else{scheduleFlush()}}};function setScheduler(scheduleFn){customSchedulerFn=scheduleFn}function setAsap(asapFn){asap=asapFn}var browserWindow=typeof window!==\"undefined\"?window:undefined;var browserGlobal=browserWindow||{};var BrowserMutationObserver=browserGlobal.MutationObserver||browserGlobal.WebKitMutationObserver;var isNode=typeof self===\"undefined\"&&typeof process!==\"undefined\"&&{}.toString.call(process)===\"[object process]\";var isWorker=typeof Uint8ClampedArray!==\"undefined\"&&typeof importScripts!==\"undefined\"&&typeof MessageChannel!==\"undefined\";function useNextTick(){return function(){return process.nextTick(flush)}}function useVertxTimer(){if(typeof vertxNext!==\"undefined\"){return function(){vertxNext(flush)}}return useSetTimeout()}function useMutationObserver(){var iterations=0;var observer=new BrowserMutationObserver(flush);var node=document.createTextNode(\"\");observer.observe(node,{characterData:true});return function(){node.data=iterations=++iterations%2}}function useMessageChannel(){var channel=new MessageChannel;channel.port1.onmessage=flush;return function(){return channel.port2.postMessage(0)}}function useSetTimeout(){var globalSetTimeout=setTimeout;return function(){return globalSetTimeout(flush,1)}}var queue=new Array(1e3);function flush(){for(var i=0;i<len;i+=2){var callback=queue[i];var arg=queue[i+1];callback(arg);queue[i]=undefined;queue[i+1]=undefined}len=0}function attemptVertx(){try{var vertx=Function(\"return this\")().require(\"vertx\");vertxNext=vertx.runOnLoop||vertx.runOnContext;return useVertxTimer()}catch(e){return useSetTimeout()}}var scheduleFlush=void 0;if(isNode){scheduleFlush=useNextTick()}else if(BrowserMutationObserver){scheduleFlush=useMutationObserver()}else if(isWorker){scheduleFlush=useMessageChannel()}else if(browserWindow===undefined&&\"function\"===\"function\"){scheduleFlush=attemptVertx()}else{scheduleFlush=useSetTimeout()}function then(onFulfillment,onRejection){var parent=this;var child=new this.constructor(noop);if(child[PROMISE_ID]===undefined){makePromise(child)}var _state=parent._state;if(_state){var callback=arguments[_state-1];asap(function(){return invokeCallback(_state,child,callback,parent._result)})}else{subscribe(parent,child,onFulfillment,onRejection)}return child}function resolve$1(object){var Constructor=this;if(object&&typeof object===\"object\"&&object.constructor===Constructor){return object}var promise=new Constructor(noop);resolve(promise,object);return promise}var PROMISE_ID=Math.random().toString(36).substring(2);function noop(){}var PENDING=void 0;var FULFILLED=1;var REJECTED=2;var TRY_CATCH_ERROR={error:null};function selfFulfillment(){return new TypeError(\"You cannot resolve a promise with itself\")}function cannotReturnOwn(){return new TypeError(\"A promises callback cannot return that same promise.\")}function getThen(promise){try{return promise.then}catch(error){TRY_CATCH_ERROR.error=error;return TRY_CATCH_ERROR}}function tryThen(then$$1,value,fulfillmentHandler,rejectionHandler){try{then$$1.call(value,fulfillmentHandler,rejectionHandler)}catch(e){return e}}function handleForeignThenable(promise,thenable,then$$1){asap(function(promise){var sealed=false;var error=tryThen(then$$1,thenable,function(value){if(sealed){return}sealed=true;if(thenable!==value){resolve(promise,value)}else{fulfill(promise,value)}},function(reason){if(sealed){return}sealed=true;reject(promise,reason)},\"Settle: \"+(promise._label||\" unknown promise\"));if(!sealed&&error){sealed=true;reject(promise,error)}},promise)}function handleOwnThenable(promise,thenable){if(thenable._state===FULFILLED){fulfill(promise,thenable._result)}else if(thenable._state===REJECTED){reject(promise,thenable._result)}else{subscribe(thenable,undefined,function(value){return resolve(promise,value)},function(reason){return reject(promise,reason)})}}function handleMaybeThenable(promise,maybeThenable,then$$1){if(maybeThenable.constructor===promise.constructor&&then$$1===then&&maybeThenable.constructor.resolve===resolve$1){handleOwnThenable(promise,maybeThenable)}else{if(then$$1===TRY_CATCH_ERROR){reject(promise,TRY_CATCH_ERROR.error);TRY_CATCH_ERROR.error=null}else if(then$$1===undefined){fulfill(promise,maybeThenable)}else if(isFunction(then$$1)){handleForeignThenable(promise,maybeThenable,then$$1)}else{fulfill(promise,maybeThenable)}}}function resolve(promise,value){if(promise===value){reject(promise,selfFulfillment())}else if(objectOrFunction(value)){handleMaybeThenable(promise,value,getThen(value))}else{fulfill(promise,value)}}function publishRejection(promise){if(promise._onerror){promise._onerror(promise._result)}publish(promise)}function fulfill(promise,value){if(promise._state!==PENDING){return}promise._result=value;promise._state=FULFILLED;if(promise._subscribers.length!==0){asap(publish,promise)}}function reject(promise,reason){if(promise._state!==PENDING){return}promise._state=REJECTED;promise._result=reason;asap(publishRejection,promise)}function subscribe(parent,child,onFulfillment,onRejection){var _subscribers=parent._subscribers;var length=_subscribers.length;parent._onerror=null;_subscribers[length]=child;_subscribers[length+FULFILLED]=onFulfillment;_subscribers[length+REJECTED]=onRejection;if(length===0&&parent._state){asap(publish,parent)}}function publish(promise){var subscribers=promise._subscribers;var settled=promise._state;if(subscribers.length===0){return}var child=void 0,callback=void 0,detail=promise._result;for(var i=0;i<subscribers.length;i+=3){child=subscribers[i];callback=subscribers[i+settled];if(child){invokeCallback(settled,child,callback,detail)}else{callback(detail)}}promise._subscribers.length=0}function tryCatch(callback,detail){try{return callback(detail)}catch(e){TRY_CATCH_ERROR.error=e;return TRY_CATCH_ERROR}}function invokeCallback(settled,promise,callback,detail){var hasCallback=isFunction(callback),value=void 0,error=void 0,succeeded=void 0,failed=void 0;if(hasCallback){value=tryCatch(callback,detail);if(value===TRY_CATCH_ERROR){failed=true;error=value.error;value.error=null}else{succeeded=true}if(promise===value){reject(promise,cannotReturnOwn());return}}else{value=detail;succeeded=true}if(promise._state!==PENDING){}else if(hasCallback&&succeeded){resolve(promise,value)}else if(failed){reject(promise,error)}else if(settled===FULFILLED){fulfill(promise,value)}else if(settled===REJECTED){reject(promise,value)}}function initializePromise(promise,resolver){try{resolver(function resolvePromise(value){resolve(promise,value)},function rejectPromise(reason){reject(promise,reason)})}catch(e){reject(promise,e)}}var id=0;function nextId(){return id++}function makePromise(promise){promise[PROMISE_ID]=id++;promise._state=undefined;promise._result=undefined;promise._subscribers=[]}function validationError(){return new Error(\"Array Methods must be provided an Array\")}var Enumerator=function(){function Enumerator(Constructor,input){this._instanceConstructor=Constructor;this.promise=new Constructor(noop);if(!this.promise[PROMISE_ID]){makePromise(this.promise)}if(isArray(input)){this.length=input.length;this._remaining=input.length;this._result=new Array(this.length);if(this.length===0){fulfill(this.promise,this._result)}else{this.length=this.length||0;this._enumerate(input);if(this._remaining===0){fulfill(this.promise,this._result)}}}else{reject(this.promise,validationError())}}Enumerator.prototype._enumerate=function _enumerate(input){for(var i=0;this._state===PENDING&&i<input.length;i++){this._eachEntry(input[i],i)}};Enumerator.prototype._eachEntry=function _eachEntry(entry,i){var c=this._instanceConstructor;var resolve$$1=c.resolve;if(resolve$$1===resolve$1){var _then=getThen(entry);if(_then===then&&entry._state!==PENDING){this._settledAt(entry._state,i,entry._result)}else if(typeof _then!==\"function\"){this._remaining--;this._result[i]=entry}else if(c===Promise$1){var promise=new c(noop);handleMaybeThenable(promise,entry,_then);this._willSettleAt(promise,i)}else{this._willSettleAt(new c(function(resolve$$1){return resolve$$1(entry)}),i)}}else{this._willSettleAt(resolve$$1(entry),i)}};Enumerator.prototype._settledAt=function _settledAt(state,i,value){var promise=this.promise;if(promise._state===PENDING){this._remaining--;if(state===REJECTED){reject(promise,value)}else{this._result[i]=value}}if(this._remaining===0){fulfill(promise,this._result)}};Enumerator.prototype._willSettleAt=function _willSettleAt(promise,i){var enumerator=this;subscribe(promise,undefined,function(value){return enumerator._settledAt(FULFILLED,i,value)},function(reason){return enumerator._settledAt(REJECTED,i,reason)})};return Enumerator}();function all(entries){return new Enumerator(this,entries).promise}function race(entries){var Constructor=this;if(!isArray(entries)){return new Constructor(function(_,reject){return reject(new TypeError(\"You must pass an array to race.\"))})}else{return new Constructor(function(resolve,reject){var length=entries.length;for(var i=0;i<length;i++){Constructor.resolve(entries[i]).then(resolve,reject)}})}}function reject$1(reason){var Constructor=this;var promise=new Constructor(noop);reject(promise,reason);return promise}function needsResolver(){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}function needsNew(){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}var Promise$1=function(){function Promise(resolver){this[PROMISE_ID]=nextId();this._result=this._state=undefined;this._subscribers=[];if(noop!==resolver){typeof resolver!==\"function\"&&needsResolver();this instanceof Promise?initializePromise(this,resolver):needsNew()}}Promise.prototype.catch=function _catch(onRejection){return this.then(null,onRejection)};Promise.prototype.finally=function _finally(callback){var promise=this;var constructor=promise.constructor;return promise.then(function(value){return constructor.resolve(callback()).then(function(){return value})},function(reason){return constructor.resolve(callback()).then(function(){throw reason})})};return Promise}();Promise$1.prototype.then=then;Promise$1.all=all;Promise$1.race=race;Promise$1.resolve=resolve$1;Promise$1.reject=reject$1;Promise$1._setScheduler=setScheduler;Promise$1._setAsap=setAsap;Promise$1._asap=asap;function polyfill(){var local=void 0;if(typeof global!==\"undefined\"){local=global}else if(typeof self!==\"undefined\"){local=self}else{try{local=Function(\"return this\")()}catch(e){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}}var P=local.Promise;if(P){var promiseToString=null;try{promiseToString=Object.prototype.toString.call(P.resolve())}catch(e){}if(promiseToString===\"[object Promise]\"&&!P.cast){return}}local.Promise=Promise$1}Promise$1.polyfill=polyfill;Promise$1.Promise=Promise$1;return Promise$1})}).call(exports,__webpack_require__(9),__webpack_require__(4))},function(module,exports,__webpack_require__){\"use strict\";module.exports=inlineHeaders;var encode=__webpack_require__(45);function inlineHeaders(url,headers){if(/\\?/.test(url)){url+=\"&\"}else{url+=\"?\"}return url+encode(headers)}},function(module,exports,__webpack_require__){\"use strict\";var stringifyPrimitive=function(v){switch(typeof v){case\"string\":return v;case\"boolean\":return v?\"true\":\"false\";case\"number\":return isFinite(v)?v:\"\";default:return\"\"}};module.exports=function(obj,sep,eq,name){sep=sep||\"&\";eq=eq||\"=\";if(obj===null){obj=undefined}if(typeof obj===\"object\"){return map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;if(isArray(obj[k])){return map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep)}else{return ks+encodeURIComponent(stringifyPrimitive(obj[k]))}}).join(sep)}if(!name)return\"\";return encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj))};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)===\"[object Array]\"};function map(xs,f){if(xs.map)return xs.map(f);var res=[];for(var i=0;i<xs.length;i++){res.push(f(xs[i],i))}return res}var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))res.push(key)}return res}},function(module,exports,__webpack_require__){\"use strict\";module.exports=jsonpRequest;var errors=__webpack_require__(5);var JSONPCounter=0;function jsonpRequest(url,opts,cb){if(opts.method!==\"GET\"){cb(new Error(\"Method \"+opts.method+\" \"+url+\" is not supported by JSONP.\"));return}opts.debug(\"JSONP: start\");var cbCalled=false;var timedOut=false;JSONPCounter+=1;var head=document.getElementsByTagName(\"head\")[0];var script=document.createElement(\"script\");var cbName=\"algoliaJSONP_\"+JSONPCounter;var done=false;window[cbName]=function(data){removeGlobals();if(timedOut){opts.debug(\"JSONP: Late answer, ignoring\");return}cbCalled=true;clean();cb(null,{body:data,responseText:JSON.stringify(data)})};url+=\"&callback=\"+cbName;if(opts.jsonBody&&opts.jsonBody.params){url+=\"&\"+opts.jsonBody.params}var ontimeout=setTimeout(timeout,opts.timeouts.complete);script.onreadystatechange=readystatechange;script.onload=success;script.onerror=error;script.async=true;script.defer=true;script.src=url;head.appendChild(script);function success(){opts.debug(\"JSONP: success\");if(done||timedOut){return}done=true;if(!cbCalled){opts.debug(\"JSONP: Fail. Script loaded but did not call the callback\");clean();cb(new errors.JSONPScriptFail)}}function readystatechange(){if(this.readyState===\"loaded\"||this.readyState===\"complete\"){success()}}function clean(){clearTimeout(ontimeout);script.onload=null;script.onreadystatechange=null;script.onerror=null;head.removeChild(script)}function removeGlobals(){try{delete window[cbName];delete window[cbName+\"_loaded\"]}catch(e){window[cbName]=window[cbName+\"_loaded\"]=undefined}}function timeout(){opts.debug(\"JSONP: Script timeout\");timedOut=true;clean();cb(new errors.RequestTimeout)}function error(){opts.debug(\"JSONP: Script error\");if(done||timedOut){return}clean();cb(new errors.JSONPScriptError)}}},function(module,exports,__webpack_require__){module.exports=createPlacesClient;var buildSearchMethod=__webpack_require__(13);function createPlacesClient(algoliasearch){return function places(appID,apiKey,opts){var cloneDeep=__webpack_require__(3);opts=opts&&cloneDeep(opts)||{};opts.hosts=opts.hosts||[\"places-dsn.algolia.net\",\"places-1.algolianet.com\",\"places-2.algolianet.com\",\"places-3.algolianet.com\"];if(arguments.length===0||typeof appID===\"object\"||appID===undefined){appID=\"\";apiKey=\"\";opts._allowEmptyCredentials=true}var client=algoliasearch(appID,apiKey,opts);var index=client.initIndex(\"places\");index.search=buildSearchMethod(\"query\",\"/1/places/query\");index.getObject=function(objectID,callback){return this.as._jsonRequest({method:\"GET\",url:\"/1/places/\"+encodeURIComponent(objectID),hostType:\"read\",callback:callback})};return index}}},function(module,exports,__webpack_require__){\"use strict\";module.exports=\"3.30.0\"},function(module,exports,__webpack_require__){\"use strict\";module.exports=__webpack_require__(50)},function(module,exports,__webpack_require__){\"use strict\";var zepto=__webpack_require__(15);var DOM=__webpack_require__(1);DOM.element=zepto;var _=__webpack_require__(0);_.isArray=zepto.isArray;_.isFunction=zepto.isFunction;_.isObject=zepto.isPlainObject;_.bind=zepto.proxy;_.each=function(collection,cb){zepto.each(collection,reverseArgs);function reverseArgs(index,value){return cb(value,index)}};_.map=zepto.map;_.mixin=zepto.extend;_.Event=zepto.Event;var typeaheadKey=\"aaAutocomplete\";var Typeahead=__webpack_require__(51);var EventBus=__webpack_require__(16);function autocomplete(selector,options,datasets,typeaheadObject){datasets=_.isArray(datasets)?datasets:[].slice.call(arguments,2);var inputs=zepto(selector).each(function(i,input){var $input=zepto(input);var eventBus=new EventBus({el:$input});var typeahead=typeaheadObject||new Typeahead({input:$input,eventBus:eventBus,dropdownMenuContainer:options.dropdownMenuContainer,hint:options.hint===undefined?true:!!options.hint,minLength:options.minLength,autoselect:options.autoselect,autoselectOnBlur:options.autoselectOnBlur,tabAutocomplete:options.tabAutocomplete,openOnFocus:options.openOnFocus,templates:options.templates,debug:options.debug,clearOnSelected:options.clearOnSelected,cssClasses:options.cssClasses,datasets:datasets,keyboardShortcuts:options.keyboardShortcuts,appendTo:options.appendTo,autoWidth:options.autoWidth,ariaLabel:options.ariaLabel||input.getAttribute(\"aria-label\")});$input.data(typeaheadKey,typeahead)});inputs.autocomplete={};_.each([\"open\",\"close\",\"getVal\",\"setVal\",\"destroy\",\"getWrapper\"],function(method){inputs.autocomplete[method]=function(){var methodArguments=arguments;var result;inputs.each(function(j,input){var typeahead=zepto(input).data(typeaheadKey);result=typeahead[method].apply(typeahead,methodArguments)});return result}});return inputs}autocomplete.sources=Typeahead.sources;autocomplete.escapeHighlightedString=_.escapeHighlightedString;var wasAutocompleteSet=\"autocomplete\"in window;var oldAutocomplete=window.autocomplete;autocomplete.noConflict=function noConflict(){if(wasAutocompleteSet){window.autocomplete=oldAutocomplete}else{delete window.autocomplete}return autocomplete};module.exports=autocomplete},function(module,exports,__webpack_require__){\"use strict\";var attrsKey=\"aaAttrs\";var _=__webpack_require__(0);var DOM=__webpack_require__(1);var EventBus=__webpack_require__(16);var Input=__webpack_require__(52);var Dropdown=__webpack_require__(59);var html=__webpack_require__(17);var css=__webpack_require__(11);function Typeahead(o){var $menu;var $hint;o=o||{};if(!o.input){_.error(\"missing input\")}this.isActivated=false;this.debug=!!o.debug;this.autoselect=!!o.autoselect;this.autoselectOnBlur=!!o.autoselectOnBlur;this.openOnFocus=!!o.openOnFocus;this.minLength=_.isNumber(o.minLength)?o.minLength:1;this.autoWidth=o.autoWidth===undefined?true:!!o.autoWidth;this.clearOnSelected=!!o.clearOnSelected;this.tabAutocomplete=o.tabAutocomplete===undefined?true:!!o.tabAutocomplete;o.hint=!!o.hint;if(o.hint&&o.appendTo){throw new Error(\"[autocomplete.js] hint and appendTo options can't be used at the same time\")}this.css=o.css=_.mixin({},css,o.appendTo?css.appendTo:{});this.cssClasses=o.cssClasses=_.mixin({},css.defaultClasses,o.cssClasses||{});this.cssClasses.prefix=o.cssClasses.formattedPrefix=_.formatPrefix(this.cssClasses.prefix,this.cssClasses.noPrefix);this.listboxId=o.listboxId=[this.cssClasses.root,\"listbox\",_.getUniqueId()].join(\"-\");var domElts=buildDom(o);this.$node=domElts.wrapper;var $input=this.$input=domElts.input;$menu=domElts.menu;$hint=domElts.hint;if(o.dropdownMenuContainer){DOM.element(o.dropdownMenuContainer).css(\"position\",\"relative\").append($menu.css(\"top\",\"0\"))}$input.on(\"blur.aa\",function($e){var active=document.activeElement;if(_.isMsie()&&($menu[0]===active||$menu[0].contains(active))){$e.preventDefault();$e.stopImmediatePropagation();_.defer(function(){$input.focus()})}});$menu.on(\"mousedown.aa\",function($e){$e.preventDefault()});this.eventBus=o.eventBus||new EventBus({el:$input});this.dropdown=new Typeahead.Dropdown({appendTo:o.appendTo,wrapper:this.$node,menu:$menu,datasets:o.datasets,templates:o.templates,cssClasses:o.cssClasses,minLength:this.minLength}).onSync(\"suggestionClicked\",this._onSuggestionClicked,this).onSync(\"cursorMoved\",this._onCursorMoved,this).onSync(\"cursorRemoved\",this._onCursorRemoved,this).onSync(\"opened\",this._onOpened,this).onSync(\"closed\",this._onClosed,this).onSync(\"shown\",this._onShown,this).onSync(\"empty\",this._onEmpty,this).onSync(\"redrawn\",this._onRedrawn,this).onAsync(\"datasetRendered\",this._onDatasetRendered,this);this.input=new Typeahead.Input({input:$input,hint:$hint}).onSync(\"focused\",this._onFocused,this).onSync(\"blurred\",this._onBlurred,this).onSync(\"enterKeyed\",this._onEnterKeyed,this).onSync(\"tabKeyed\",this._onTabKeyed,this).onSync(\"escKeyed\",this._onEscKeyed,this).onSync(\"upKeyed\",this._onUpKeyed,this).onSync(\"downKeyed\",this._onDownKeyed,this).onSync(\"leftKeyed\",this._onLeftKeyed,this).onSync(\"rightKeyed\",this._onRightKeyed,this).onSync(\"queryChanged\",this._onQueryChanged,this).onSync(\"whitespaceChanged\",this._onWhitespaceChanged,this);this._bindKeyboardShortcuts(o);this._setLanguageDirection()}_.mixin(Typeahead.prototype,{_bindKeyboardShortcuts:function(options){if(!options.keyboardShortcuts){return}var $input=this.$input;var keyboardShortcuts=[];_.each(options.keyboardShortcuts,function(key){if(typeof key===\"string\"){key=key.toUpperCase().charCodeAt(0)}keyboardShortcuts.push(key)});DOM.element(document).keydown(function(event){var elt=event.target||event.srcElement;var tagName=elt.tagName;if(elt.isContentEditable||tagName===\"INPUT\"||tagName===\"SELECT\"||tagName===\"TEXTAREA\"){return}var which=event.which||event.keyCode;if(keyboardShortcuts.indexOf(which)===-1){return}$input.focus();event.stopPropagation();event.preventDefault()})},_onSuggestionClicked:function onSuggestionClicked(type,$el){var datum;var context={selectionMethod:\"click\"};if(datum=this.dropdown.getDatumForSuggestion($el)){this._select(datum,context)}},_onCursorMoved:function onCursorMoved(event,updateInput){var datum=this.dropdown.getDatumForCursor();var currentCursorId=this.dropdown.getCurrentCursor().attr(\"id\");this.input.setActiveDescendant(currentCursorId);if(datum){if(updateInput){this.input.setInputValue(datum.value,true)}this.eventBus.trigger(\"cursorchanged\",datum.raw,datum.datasetName)}},_onCursorRemoved:function onCursorRemoved(){this.input.resetInputValue();this._updateHint();this.eventBus.trigger(\"cursorremoved\")},_onDatasetRendered:function onDatasetRendered(){this._updateHint();this.eventBus.trigger(\"updated\")},_onOpened:function onOpened(){this._updateHint();this.input.expand();this.eventBus.trigger(\"opened\")},_onEmpty:function onEmpty(){this.eventBus.trigger(\"empty\")},_onRedrawn:function onRedrawn(){this.$node.css(\"top\",0+\"px\");this.$node.css(\"left\",0+\"px\");var inputRect=this.$input[0].getBoundingClientRect();if(this.autoWidth){this.$node.css(\"width\",inputRect.width+\"px\")}var wrapperRect=this.$node[0].getBoundingClientRect();var top=inputRect.bottom-wrapperRect.top;this.$node.css(\"top\",top+\"px\");var left=inputRect.left-wrapperRect.left;this.$node.css(\"left\",left+\"px\");this.eventBus.trigger(\"redrawn\")},_onShown:function onShown(){this.eventBus.trigger(\"shown\");if(this.autoselect){this.dropdown.cursorTopSuggestion()}},_onClosed:function onClosed(){this.input.clearHint();this.input.removeActiveDescendant();this.input.collapse();this.eventBus.trigger(\"closed\")},_onFocused:function onFocused(){this.isActivated=true;if(this.openOnFocus){var query=this.input.getQuery();if(query.length>=this.minLength){this.dropdown.update(query)}else{this.dropdown.empty()}this.dropdown.open()}},_onBlurred:function onBlurred(){var cursorDatum;var topSuggestionDatum;cursorDatum=this.dropdown.getDatumForCursor();topSuggestionDatum=this.dropdown.getDatumForTopSuggestion();var context={selectionMethod:\"blur\"};if(!this.debug){if(this.autoselectOnBlur&&cursorDatum){this._select(cursorDatum,context)}else if(this.autoselectOnBlur&&topSuggestionDatum){this._select(topSuggestionDatum,context)}else{this.isActivated=false;this.dropdown.empty();this.dropdown.close()}}},_onEnterKeyed:function onEnterKeyed(type,$e){var cursorDatum;var topSuggestionDatum;cursorDatum=this.dropdown.getDatumForCursor();topSuggestionDatum=this.dropdown.getDatumForTopSuggestion();var context={selectionMethod:\"enterKey\"};if(cursorDatum){this._select(cursorDatum,context);$e.preventDefault()}else if(this.autoselect&&topSuggestionDatum){this._select(topSuggestionDatum,context);$e.preventDefault()}},_onTabKeyed:function onTabKeyed(type,$e){if(!this.tabAutocomplete){this.dropdown.close();return}var datum;var context={selectionMethod:\"tabKey\"};if(datum=this.dropdown.getDatumForCursor()){this._select(datum,context);$e.preventDefault()}else{this._autocomplete(true)}},_onEscKeyed:function onEscKeyed(){this.dropdown.close();this.input.resetInputValue()},_onUpKeyed:function onUpKeyed(){var query=this.input.getQuery();if(this.dropdown.isEmpty&&query.length>=this.minLength){this.dropdown.update(query)}else{this.dropdown.moveCursorUp()}this.dropdown.open()},_onDownKeyed:function onDownKeyed(){var query=this.input.getQuery();if(this.dropdown.isEmpty&&query.length>=this.minLength){this.dropdown.update(query)}else{this.dropdown.moveCursorDown()}this.dropdown.open()},_onLeftKeyed:function onLeftKeyed(){if(this.dir===\"rtl\"){this._autocomplete()}},_onRightKeyed:function onRightKeyed(){if(this.dir===\"ltr\"){this._autocomplete()}},_onQueryChanged:function onQueryChanged(e,query){this.input.clearHintIfInvalid();if(query.length>=this.minLength){this.dropdown.update(query)}else{this.dropdown.empty()}this.dropdown.open();this._setLanguageDirection()},_onWhitespaceChanged:function onWhitespaceChanged(){this._updateHint();this.dropdown.open()},_setLanguageDirection:function setLanguageDirection(){var dir=this.input.getLanguageDirection();if(this.dir!==dir){this.dir=dir;this.$node.css(\"direction\",dir);this.dropdown.setLanguageDirection(dir)}},_updateHint:function updateHint(){var datum;var val;var query;var escapedQuery;var frontMatchRegEx;var match;datum=this.dropdown.getDatumForTopSuggestion();if(datum&&this.dropdown.isVisible()&&!this.input.hasOverflow()){val=this.input.getInputValue();query=Input.normalizeQuery(val);escapedQuery=_.escapeRegExChars(query);frontMatchRegEx=new RegExp(\"^(?:\"+escapedQuery+\")(.+$)\",\"i\");match=frontMatchRegEx.exec(datum.value);if(match){this.input.setHint(val+match[1])}else{this.input.clearHint()}}else{this.input.clearHint()}},_autocomplete:function autocomplete(laxCursor){var hint;var query;var isCursorAtEnd;var datum;hint=this.input.getHint();query=this.input.getQuery();isCursorAtEnd=laxCursor||this.input.isCursorAtEnd();if(hint&&query!==hint&&isCursorAtEnd){datum=this.dropdown.getDatumForTopSuggestion();if(datum){this.input.setInputValue(datum.value)}this.eventBus.trigger(\"autocompleted\",datum.raw,datum.datasetName)}},_select:function select(datum,context){if(typeof datum.value!==\"undefined\"){this.input.setQuery(datum.value)}if(this.clearOnSelected){this.setVal(\"\")}else{this.input.setInputValue(datum.value,true)}this._setLanguageDirection();var event=this.eventBus.trigger(\"selected\",datum.raw,datum.datasetName,context);if(event.isDefaultPrevented()===false){this.dropdown.close();_.defer(_.bind(this.dropdown.empty,this.dropdown))}},open:function open(){if(!this.isActivated){var query=this.input.getInputValue();if(query.length>=this.minLength){this.dropdown.update(query)}else{this.dropdown.empty()}}this.dropdown.open()},close:function close(){this.dropdown.close()},setVal:function setVal(val){val=_.toStr(val);if(this.isActivated){this.input.setInputValue(val)}else{this.input.setQuery(val);this.input.setInputValue(val,true)}this._setLanguageDirection()},getVal:function getVal(){return this.input.getQuery()},destroy:function destroy(){this.input.destroy();this.dropdown.destroy();destroyDomStructure(this.$node,this.cssClasses);this.$node=null},getWrapper:function getWrapper(){return this.dropdown.$container[0]}});function buildDom(options){var $input;var $wrapper;var $dropdown;var $hint;$input=DOM.element(options.input);$wrapper=DOM.element(html.wrapper.replace(\"%ROOT%\",options.cssClasses.root)).css(options.css.wrapper);if(!options.appendTo&&$input.css(\"display\")===\"block\"&&$input.parent().css(\"display\")===\"table\"){$wrapper.css(\"display\",\"table-cell\")}var dropdownHtml=html.dropdown.replace(\"%PREFIX%\",options.cssClasses.prefix).replace(\"%DROPDOWN_MENU%\",options.cssClasses.dropdownMenu);$dropdown=DOM.element(dropdownHtml).css(options.css.dropdown).attr({role:\"listbox\",id:options.listboxId});if(options.templates&&options.templates.dropdownMenu){$dropdown.html(_.templatify(options.templates.dropdownMenu)())}$hint=$input.clone().css(options.css.hint).css(getBackgroundStyles($input));$hint.val(\"\").addClass(_.className(options.cssClasses.prefix,options.cssClasses.hint,true)).removeAttr(\"id name placeholder required\").prop(\"readonly\",true).attr({\"aria-hidden\":\"true\",autocomplete:\"off\",spellcheck:\"false\",tabindex:-1});if($hint.removeData){$hint.removeData()}$input.data(attrsKey,{\"aria-autocomplete\":$input.attr(\"aria-autocomplete\"),\"aria-expanded\":$input.attr(\"aria-expanded\"),\"aria-owns\":$input.attr(\"aria-owns\"),autocomplete:$input.attr(\"autocomplete\"),dir:$input.attr(\"dir\"),role:$input.attr(\"role\"),spellcheck:$input.attr(\"spellcheck\"),style:$input.attr(\"style\"),type:$input.attr(\"type\")});$input.addClass(_.className(options.cssClasses.prefix,options.cssClasses.input,true)).attr({autocomplete:\"off\",spellcheck:false,role:\"combobox\",\"aria-autocomplete\":options.datasets&&options.datasets[0]&&options.datasets[0].displayKey?\"both\":\"list\",\"aria-expanded\":\"false\",\"aria-label\":options.ariaLabel,\"aria-owns\":options.listboxId}).css(options.hint?options.css.input:options.css.inputWithNoHint);try{if(!$input.attr(\"dir\")){$input.attr(\"dir\",\"auto\")}}catch(e){}$wrapper=options.appendTo?$wrapper.appendTo(DOM.element(options.appendTo).eq(0)).eq(0):$input.wrap($wrapper).parent();$wrapper.prepend(options.hint?$hint:null).append($dropdown);return{wrapper:$wrapper,input:$input,hint:$hint,menu:$dropdown}}function getBackgroundStyles($el){return{backgroundAttachment:$el.css(\"background-attachment\"),backgroundClip:$el.css(\"background-clip\"),backgroundColor:$el.css(\"background-color\"),backgroundImage:$el.css(\"background-image\"),backgroundOrigin:$el.css(\"background-origin\"),backgroundPosition:$el.css(\"background-position\"),backgroundRepeat:$el.css(\"background-repeat\"),backgroundSize:$el.css(\"background-size\")}}function destroyDomStructure($node,cssClasses){var $input=$node.find(_.className(cssClasses.prefix,cssClasses.input));_.each($input.data(attrsKey),function(val,key){if(val===undefined){$input.removeAttr(key)}else{$input.attr(key,val)}});$input.detach().removeClass(_.className(cssClasses.prefix,cssClasses.input,true)).insertAfter($node);if($input.removeData){$input.removeData(attrsKey)}$node.remove()}Typeahead.Dropdown=Dropdown;Typeahead.Input=Input;Typeahead.sources=__webpack_require__(61);module.exports=Typeahead},function(module,exports,__webpack_require__){\"use strict\";var specialKeyCodeMap;specialKeyCodeMap={9:\"tab\",27:\"esc\",37:\"left\",39:\"right\",13:\"enter\",38:\"up\",40:\"down\"};var _=__webpack_require__(0);var DOM=__webpack_require__(1);var EventEmitter=__webpack_require__(10);function Input(o){var that=this;var onBlur;var onFocus;var onKeydown;var onInput;o=o||{};if(!o.input){_.error(\"input is missing\")}onBlur=_.bind(this._onBlur,this);onFocus=_.bind(this._onFocus,this);onKeydown=_.bind(this._onKeydown,this);onInput=_.bind(this._onInput,this);this.$hint=DOM.element(o.hint);this.$input=DOM.element(o.input).on(\"blur.aa\",onBlur).on(\"focus.aa\",onFocus).on(\"keydown.aa\",onKeydown);if(this.$hint.length===0){this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=_.noop}if(!_.isMsie()){this.$input.on(\"input.aa\",onInput)}else{this.$input.on(\"keydown.aa keypress.aa cut.aa paste.aa\",function($e){if(specialKeyCodeMap[$e.which||$e.keyCode]){return}_.defer(_.bind(that._onInput,that,$e))})}this.query=this.$input.val();this.$overflowHelper=buildOverflowHelper(this.$input)}Input.normalizeQuery=function(str){return(str||\"\").replace(/^\\s*/g,\"\").replace(/\\s{2,}/g,\" \")};_.mixin(Input.prototype,EventEmitter,{_onBlur:function onBlur(){this.resetInputValue();this.$input.removeAttr(\"aria-activedescendant\");this.trigger(\"blurred\")},_onFocus:function onFocus(){this.trigger(\"focused\")},_onKeydown:function onKeydown($e){var keyName=specialKeyCodeMap[$e.which||$e.keyCode];this._managePreventDefault(keyName,$e);if(keyName&&this._shouldTrigger(keyName,$e)){this.trigger(keyName+\"Keyed\",$e)}},_onInput:function onInput(){this._checkInputValue()},_managePreventDefault:function managePreventDefault(keyName,$e){var preventDefault;var hintValue;var inputValue;switch(keyName){case\"tab\":hintValue=this.getHint();inputValue=this.getInputValue();preventDefault=hintValue&&hintValue!==inputValue&&!withModifier($e);break;case\"up\":case\"down\":preventDefault=!withModifier($e);break;default:preventDefault=false}if(preventDefault){$e.preventDefault()}},_shouldTrigger:function shouldTrigger(keyName,$e){var trigger;switch(keyName){case\"tab\":trigger=!withModifier($e);break;default:trigger=true}return trigger},_checkInputValue:function checkInputValue(){var inputValue;var areEquivalent;var hasDifferentWhitespace;inputValue=this.getInputValue();areEquivalent=areQueriesEquivalent(inputValue,this.query);hasDifferentWhitespace=areEquivalent&&this.query?this.query.length!==inputValue.length:false;this.query=inputValue;if(!areEquivalent){this.trigger(\"queryChanged\",this.query)}else if(hasDifferentWhitespace){this.trigger(\"whitespaceChanged\",this.query)}},focus:function focus(){this.$input.focus()},blur:function blur(){this.$input.blur()},getQuery:function getQuery(){return this.query},setQuery:function setQuery(query){this.query=query},getInputValue:function getInputValue(){return this.$input.val()},setInputValue:function setInputValue(value,silent){if(typeof value===\"undefined\"){value=this.query}this.$input.val(value);if(silent){this.clearHint()}else{this._checkInputValue()}},expand:function expand(){this.$input.attr(\"aria-expanded\",\"true\")},collapse:function collapse(){this.$input.attr(\"aria-expanded\",\"false\")},setActiveDescendant:function setActiveDescendant(activedescendantId){this.$input.attr(\"aria-activedescendant\",activedescendantId)},removeActiveDescendant:function removeActiveDescendant(){this.$input.removeAttr(\"aria-activedescendant\")},resetInputValue:function resetInputValue(){this.setInputValue(this.query,true)},getHint:function getHint(){return this.$hint.val()},setHint:function setHint(value){this.$hint.val(value)},clearHint:function clearHint(){this.setHint(\"\")},clearHintIfInvalid:function clearHintIfInvalid(){var val;var hint;var valIsPrefixOfHint;var isValid;val=this.getInputValue();hint=this.getHint();valIsPrefixOfHint=val!==hint&&hint.indexOf(val)===0;isValid=val!==\"\"&&valIsPrefixOfHint&&!this.hasOverflow();if(!isValid){this.clearHint()}},getLanguageDirection:function getLanguageDirection(){return(this.$input.css(\"direction\")||\"ltr\").toLowerCase()},hasOverflow:function hasOverflow(){var constraint=this.$input.width()-2;this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>=constraint},isCursorAtEnd:function(){var valueLength;var selectionStart;var range;valueLength=this.$input.val().length;selectionStart=this.$input[0].selectionStart;if(_.isNumber(selectionStart)){return selectionStart===valueLength}else if(document.selection){range=document.selection.createRange();range.moveStart(\"character\",-valueLength);return valueLength===range.text.length}return true},destroy:function destroy(){this.$hint.off(\".aa\");this.$input.off(\".aa\");this.$hint=this.$input=this.$overflowHelper=null}});function buildOverflowHelper($input){return DOM.element('<pre aria-hidden=\"true\"></pre>').css({position:\"absolute\",visibility:\"hidden\",whiteSpace:\"pre\",fontFamily:$input.css(\"font-family\"),fontSize:$input.css(\"font-size\"),fontStyle:$input.css(\"font-style\"),fontVariant:$input.css(\"font-variant\"),fontWeight:$input.css(\"font-weight\"),wordSpacing:$input.css(\"word-spacing\"),letterSpacing:$input.css(\"letter-spacing\"),textIndent:$input.css(\"text-indent\"),textRendering:$input.css(\"text-rendering\"),textTransform:$input.css(\"text-transform\")}).insertAfter($input)}function areQueriesEquivalent(a,b){return Input.normalizeQuery(a)===Input.normalizeQuery(b)}function withModifier($e){return $e.altKey||$e.ctrlKey||$e.metaKey||$e.shiftKey}module.exports=Input},function(module,exports,__webpack_require__){\"use strict\";var types=[__webpack_require__(54),__webpack_require__(55),__webpack_require__(56),__webpack_require__(57),__webpack_require__(58)];var draining;var currentQueue;var queueIndex=-1;var queue=[];var scheduled=false;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){nextTick()}}function nextTick(){if(draining){return}scheduled=false;draining=true;var len=queue.length;var timeout=setTimeout(cleanUpNextTick);while(len){currentQueue=queue;queue=[];while(currentQueue&&++queueIndex<len){currentQueue[queueIndex].run()}queueIndex=-1;len=queue.length}currentQueue=null;queueIndex=-1;draining=false;clearTimeout(timeout)}var scheduleDrain;var i=-1;var len=types.length;while(++i<len){if(types[i]&&types[i].test&&types[i].test()){scheduleDrain=types[i].install(nextTick);break}}function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){var fun=this.fun;var array=this.array;switch(array.length){case 0:return fun();case 1:return fun(array[0]);case 2:return fun(array[0],array[1]);case 3:return fun(array[0],array[1],array[2]);default:return fun.apply(null,array)}};module.exports=immediate;function immediate(task){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(task,args));if(!scheduled&&!draining){scheduled=true;scheduleDrain()}}},function(module,exports,__webpack_require__){\"use strict\";(function(process){exports.test=function(){return typeof process!==\"undefined\"&&!process.browser};exports.install=function(func){return function(){process.nextTick(func)}}}).call(exports,__webpack_require__(9))},function(module,exports,__webpack_require__){\"use strict\";(function(global){var Mutation=global.MutationObserver||global.WebKitMutationObserver;exports.test=function(){return Mutation};exports.install=function(handle){var called=0;var observer=new Mutation(handle);var element=global.document.createTextNode(\"\");observer.observe(element,{characterData:true});return function(){element.data=called=++called%2}}}).call(exports,__webpack_require__(4))},function(module,exports,__webpack_require__){\"use strict\";(function(global){exports.test=function(){if(global.setImmediate){return false}return typeof global.MessageChannel!==\"undefined\"};exports.install=function(func){var channel=new global.MessageChannel;channel.port1.onmessage=func;return function(){channel.port2.postMessage(0)}}}).call(exports,__webpack_require__(4))},function(module,exports,__webpack_require__){\"use strict\";(function(global){exports.test=function(){return\"document\"in global&&\"onreadystatechange\"in global.document.createElement(\"script\")};exports.install=function(handle){return function(){var scriptEl=global.document.createElement(\"script\");scriptEl.onreadystatechange=function(){handle();scriptEl.onreadystatechange=null;scriptEl.parentNode.removeChild(scriptEl);scriptEl=null};global.document.documentElement.appendChild(scriptEl);return handle}}}).call(exports,__webpack_require__(4))},function(module,exports,__webpack_require__){\"use strict\";exports.test=function(){return true};exports.install=function(t){return function(){setTimeout(t,0)}}},function(module,exports,__webpack_require__){\"use strict\";var _=__webpack_require__(0);var DOM=__webpack_require__(1);var EventEmitter=__webpack_require__(10);var Dataset=__webpack_require__(60);var css=__webpack_require__(11);function Dropdown(o){var that=this;var onSuggestionClick;var onSuggestionMouseEnter;var onSuggestionMouseLeave;o=o||{};if(!o.menu){_.error(\"menu is required\")}if(!_.isArray(o.datasets)&&!_.isObject(o.datasets)){_.error(\"1 or more datasets required\")}if(!o.datasets){_.error(\"datasets is required\")}this.isOpen=false;this.isEmpty=true;this.minLength=o.minLength||0;this.templates={};this.appendTo=o.appendTo||false;this.css=_.mixin({},css,o.appendTo?css.appendTo:{});this.cssClasses=o.cssClasses=_.mixin({},css.defaultClasses,o.cssClasses||{});this.cssClasses.prefix=o.cssClasses.formattedPrefix||_.formatPrefix(this.cssClasses.prefix,this.cssClasses.noPrefix);onSuggestionClick=_.bind(this._onSuggestionClick,this);onSuggestionMouseEnter=_.bind(this._onSuggestionMouseEnter,this);onSuggestionMouseLeave=_.bind(this._onSuggestionMouseLeave,this);var cssClass=_.className(this.cssClasses.prefix,this.cssClasses.suggestion);this.$menu=DOM.element(o.menu).on(\"mouseenter.aa\",cssClass,onSuggestionMouseEnter).on(\"mouseleave.aa\",cssClass,onSuggestionMouseLeave).on(\"click.aa\",cssClass,onSuggestionClick);this.$container=o.appendTo?o.wrapper:this.$menu;if(o.templates&&o.templates.header){this.templates.header=_.templatify(o.templates.header);this.$menu.prepend(this.templates.header())}if(o.templates&&o.templates.empty){this.templates.empty=_.templatify(o.templates.empty);this.$empty=DOM.element('<div class=\"'+_.className(this.cssClasses.prefix,this.cssClasses.empty,true)+'\">'+\"</div>\");this.$menu.append(this.$empty);this.$empty.hide()}this.datasets=_.map(o.datasets,function(oDataset){return initializeDataset(that.$menu,oDataset,o.cssClasses)});_.each(this.datasets,function(dataset){var root=dataset.getRoot();if(root&&root.parent().length===0){that.$menu.append(root)}dataset.onSync(\"rendered\",that._onRendered,that)});if(o.templates&&o.templates.footer){this.templates.footer=_.templatify(o.templates.footer);this.$menu.append(this.templates.footer())}var self=this;DOM.element(window).resize(function(){self._redraw()})}_.mixin(Dropdown.prototype,EventEmitter,{_onSuggestionClick:function onSuggestionClick($e){this.trigger(\"suggestionClicked\",DOM.element($e.currentTarget))},_onSuggestionMouseEnter:function onSuggestionMouseEnter($e){var elt=DOM.element($e.currentTarget);if(elt.hasClass(_.className(this.cssClasses.prefix,this.cssClasses.cursor,true))){return}this._removeCursor();var suggestion=this;setTimeout(function(){suggestion._setCursor(elt,false)},0)},_onSuggestionMouseLeave:function onSuggestionMouseLeave($e){if($e.relatedTarget){var elt=DOM.element($e.relatedTarget);if(elt.closest(\".\"+_.className(this.cssClasses.prefix,this.cssClasses.cursor,true)).length>0){return}}this._removeCursor();this.trigger(\"cursorRemoved\")},_onRendered:function onRendered(e,query){this.isEmpty=_.every(this.datasets,isDatasetEmpty);if(this.isEmpty){if(query.length>=this.minLength){this.trigger(\"empty\")}if(this.$empty){if(query.length<this.minLength){this._hide()}else{var html=this.templates.empty({query:this.datasets[0]&&this.datasets[0].query});this.$empty.html(html);this.$empty.show();this._show()}}else if(_.any(this.datasets,hasEmptyTemplate)){if(query.length<this.minLength){this._hide()}else{this._show()}}else{this._hide()}}else if(this.isOpen){if(this.$empty){this.$empty.empty();this.$empty.hide()}if(query.length>=this.minLength){this._show()}else{this._hide()}}this.trigger(\"datasetRendered\");function isDatasetEmpty(dataset){return dataset.isEmpty()}function hasEmptyTemplate(dataset){return dataset.templates&&dataset.templates.empty}},_hide:function(){this.$container.hide()},_show:function(){this.$container.css(\"display\",\"block\");this._redraw();this.trigger(\"shown\")},_redraw:function redraw(){if(!this.isOpen||!this.appendTo)return;this.trigger(\"redrawn\")},_getSuggestions:function getSuggestions(){return this.$menu.find(_.className(this.cssClasses.prefix,this.cssClasses.suggestion))},_getCursor:function getCursor(){return this.$menu.find(_.className(this.cssClasses.prefix,this.cssClasses.cursor)).first()},_setCursor:function setCursor($el,updateInput){$el.first().addClass(_.className(this.cssClasses.prefix,this.cssClasses.cursor,true)).attr(\"aria-selected\",\"true\");this.trigger(\"cursorMoved\",updateInput)},_removeCursor:function removeCursor(){this._getCursor().removeClass(_.className(this.cssClasses.prefix,this.cssClasses.cursor,true)).removeAttr(\"aria-selected\")},_moveCursor:function moveCursor(increment){var $suggestions;var $oldCursor;var newCursorIndex;var $newCursor;if(!this.isOpen){return}$oldCursor=this._getCursor();$suggestions=this._getSuggestions();this._removeCursor();newCursorIndex=$suggestions.index($oldCursor)+increment;newCursorIndex=(newCursorIndex+1)%($suggestions.length+1)-1;if(newCursorIndex===-1){this.trigger(\"cursorRemoved\");return}else if(newCursorIndex<-1){newCursorIndex=$suggestions.length-1}this._setCursor($newCursor=$suggestions.eq(newCursorIndex),true);this._ensureVisible($newCursor)},_ensureVisible:function ensureVisible($el){var elTop;var elBottom;var menuScrollTop;var menuHeight;elTop=$el.position().top;elBottom=elTop+$el.height()+parseInt($el.css(\"margin-top\"),10)+parseInt($el.css(\"margin-bottom\"),10);menuScrollTop=this.$menu.scrollTop();menuHeight=this.$menu.height()+parseInt(this.$menu.css(\"padding-top\"),10)+parseInt(this.$menu.css(\"padding-bottom\"),10);if(elTop<0){this.$menu.scrollTop(menuScrollTop+elTop)}else if(menuHeight<elBottom){this.$menu.scrollTop(menuScrollTop+(elBottom-menuHeight))}},close:function close(){if(this.isOpen){this.isOpen=false;this._removeCursor();this._hide();this.trigger(\"closed\")}},open:function open(){if(!this.isOpen){this.isOpen=true;if(!this.isEmpty){this._show()}this.trigger(\"opened\")}},setLanguageDirection:function setLanguageDirection(dir){this.$menu.css(dir===\"ltr\"?this.css.ltr:this.css.rtl)},moveCursorUp:function moveCursorUp(){this._moveCursor(-1)},moveCursorDown:function moveCursorDown(){this._moveCursor(+1)},getDatumForSuggestion:function getDatumForSuggestion($el){var datum=null;if($el.length){datum={raw:Dataset.extractDatum($el),value:Dataset.extractValue($el),datasetName:Dataset.extractDatasetName($el)}}return datum},getCurrentCursor:function getCurrentCursor(){return this._getCursor().first()},getDatumForCursor:function getDatumForCursor(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function getDatumForTopSuggestion(){return this.getDatumForSuggestion(this._getSuggestions().first())},cursorTopSuggestion:function cursorTopSuggestion(){this._setCursor(this._getSuggestions().first(),false)},update:function update(query){_.each(this.datasets,updateDataset);function updateDataset(dataset){dataset.update(query)}},empty:function empty(){_.each(this.datasets,clearDataset);this.isEmpty=true;function clearDataset(dataset){dataset.clear()}},isVisible:function isVisible(){return this.isOpen&&!this.isEmpty},destroy:function destroy(){this.$menu.off(\".aa\");this.$menu=null;_.each(this.datasets,destroyDataset);function destroyDataset(dataset){dataset.destroy()}}});Dropdown.Dataset=Dataset;function initializeDataset($menu,oDataset,cssClasses){return new Dropdown.Dataset(_.mixin({$menu:$menu,cssClasses:cssClasses},oDataset))}module.exports=Dropdown},function(module,exports,__webpack_require__){\"use strict\";var datasetKey=\"aaDataset\";var valueKey=\"aaValue\";var datumKey=\"aaDatum\";var _=__webpack_require__(0);var DOM=__webpack_require__(1);var html=__webpack_require__(17);var css=__webpack_require__(11);var EventEmitter=__webpack_require__(10);function Dataset(o){o=o||{};o.templates=o.templates||{};if(!o.source){_.error(\"missing source\")}if(o.name&&!isValidName(o.name)){_.error(\"invalid dataset name: \"+o.name)}this.query=null;this._isEmpty=true;this.highlight=!!o.highlight;this.name=typeof o.name===\"undefined\"||o.name===null?_.getUniqueId():o.name;this.source=o.source;this.displayFn=getDisplayFn(o.display||o.displayKey);this.debounce=o.debounce;this.cache=o.cache!==false;this.templates=getTemplates(o.templates,this.displayFn);this.css=_.mixin({},css,o.appendTo?css.appendTo:{});this.cssClasses=o.cssClasses=_.mixin({},css.defaultClasses,o.cssClasses||{});this.cssClasses.prefix=o.cssClasses.formattedPrefix||_.formatPrefix(this.cssClasses.prefix,this.cssClasses.noPrefix);var clazz=_.className(this.cssClasses.prefix,this.cssClasses.dataset);this.$el=o.$menu&&o.$menu.find(clazz+\"-\"+this.name).length>0?DOM.element(o.$menu.find(clazz+\"-\"+this.name)[0]):DOM.element(html.dataset.replace(\"%CLASS%\",this.name).replace(\"%PREFIX%\",this.cssClasses.prefix).replace(\"%DATASET%\",this.cssClasses.dataset));this.$menu=o.$menu;this.clearCachedSuggestions()}Dataset.extractDatasetName=function extractDatasetName(el){return DOM.element(el).data(datasetKey)};Dataset.extractValue=function extractValue(el){return DOM.element(el).data(valueKey)};Dataset.extractDatum=function extractDatum(el){var datum=DOM.element(el).data(datumKey);if(typeof datum===\"string\"){datum=JSON.parse(datum)}return datum};_.mixin(Dataset.prototype,EventEmitter,{_render:function render(query,suggestions){if(!this.$el){return}var that=this;var hasSuggestions;var renderArgs=[].slice.call(arguments,2);this.$el.empty();hasSuggestions=suggestions&&suggestions.length;this._isEmpty=!hasSuggestions;if(!hasSuggestions&&this.templates.empty){this.$el.html(getEmptyHtml.apply(this,renderArgs)).prepend(that.templates.header?getHeaderHtml.apply(this,renderArgs):null).append(that.templates.footer?getFooterHtml.apply(this,renderArgs):null)}else if(hasSuggestions){this.$el.html(getSuggestionsHtml.apply(this,renderArgs)).prepend(that.templates.header?getHeaderHtml.apply(this,renderArgs):null).append(that.templates.footer?getFooterHtml.apply(this,renderArgs):null)}else if(suggestions&&!Array.isArray(suggestions)){throw new TypeError(\"suggestions must be an array\")}if(this.$menu){this.$menu.addClass(this.cssClasses.prefix+(hasSuggestions?\"with\":\"without\")+\"-\"+this.name).removeClass(this.cssClasses.prefix+(hasSuggestions?\"without\":\"with\")+\"-\"+this.name)}this.trigger(\"rendered\",query);function getEmptyHtml(){var args=[].slice.call(arguments,0);args=[{query:query,isEmpty:true}].concat(args);return that.templates.empty.apply(this,args)}function getSuggestionsHtml(){var args=[].slice.call(arguments,0);var $suggestions;var nodes;var self=this;var suggestionsHtml=html.suggestions.replace(\"%PREFIX%\",this.cssClasses.prefix).replace(\"%SUGGESTIONS%\",this.cssClasses.suggestions);$suggestions=DOM.element(suggestionsHtml).css(this.css.suggestions);nodes=_.map(suggestions,getSuggestionNode);$suggestions.append.apply($suggestions,nodes);return $suggestions;function getSuggestionNode(suggestion){var $el;var suggestionHtml=html.suggestion.replace(\"%PREFIX%\",self.cssClasses.prefix).replace(\"%SUGGESTION%\",self.cssClasses.suggestion);$el=DOM.element(suggestionHtml).attr({role:\"option\",id:[\"option\",Math.floor(Math.random()*1e8)].join(\"-\")}).append(that.templates.suggestion.apply(this,[suggestion].concat(args)));$el.data(datasetKey,that.name);$el.data(valueKey,that.displayFn(suggestion)||undefined);$el.data(datumKey,JSON.stringify(suggestion));$el.children().each(function(){DOM.element(this).css(self.css.suggestionChild)});return $el}}function getHeaderHtml(){var args=[].slice.call(arguments,0);args=[{query:query,isEmpty:!hasSuggestions}].concat(args);return that.templates.header.apply(this,args)}function getFooterHtml(){var args=[].slice.call(arguments,0);args=[{query:query,isEmpty:!hasSuggestions}].concat(args);return that.templates.footer.apply(this,args)}},getRoot:function getRoot(){return this.$el},update:function update(query){function handleSuggestions(suggestions){if(!this.canceled&&query===this.query){var extraArgs=[].slice.call(arguments,1);this.cacheSuggestions(query,suggestions,extraArgs);this._render.apply(this,[query,suggestions].concat(extraArgs))}}this.query=query;this.canceled=false;if(this.shouldFetchFromCache(query)){handleSuggestions.apply(this,[this.cachedSuggestions].concat(this.cachedRenderExtraArgs))}else{var that=this;var execSource=function(){if(!that.canceled){that.source(query,handleSuggestions.bind(that))}};if(this.debounce){var later=function(){that.debounceTimeout=null;execSource()};clearTimeout(this.debounceTimeout);this.debounceTimeout=setTimeout(later,this.debounce)}else{execSource()}}},cacheSuggestions:function cacheSuggestions(query,suggestions,extraArgs){this.cachedQuery=query;this.cachedSuggestions=suggestions;this.cachedRenderExtraArgs=extraArgs},shouldFetchFromCache:function shouldFetchFromCache(query){return this.cache&&this.cachedQuery===query&&this.cachedSuggestions&&this.cachedSuggestions.length},clearCachedSuggestions:function clearCachedSuggestions(){delete this.cachedQuery;delete this.cachedSuggestions;delete this.cachedRenderExtraArgs},cancel:function cancel(){this.canceled=true},clear:function clear(){this.cancel();this.$el.empty();this.trigger(\"rendered\",\"\")},isEmpty:function isEmpty(){return this._isEmpty},destroy:function destroy(){this.clearCachedSuggestions();this.$el=null}});function getDisplayFn(display){display=display||\"value\";return _.isFunction(display)?display:displayFn;function displayFn(obj){return obj[display]}}function getTemplates(templates,displayFn){return{empty:templates.empty&&_.templatify(templates.empty),header:templates.header&&_.templatify(templates.header),footer:templates.footer&&_.templatify(templates.footer),suggestion:templates.suggestion||suggestionTemplate};function suggestionTemplate(context){return\"<p>\"+displayFn(context)+\"</p>\"}}function isValidName(str){return/^[_a-zA-Z0-9-]+$/.test(str)}module.exports=Dataset},function(module,exports,__webpack_require__){\"use strict\";module.exports={hits:__webpack_require__(62),popularIn:__webpack_require__(63)}},function(module,exports,__webpack_require__){\"use strict\";var _=__webpack_require__(0);var version=__webpack_require__(18);var parseAlgoliaClientVersion=__webpack_require__(19);module.exports=function search(index,params){var algoliaVersion=parseAlgoliaClientVersion(index.as._ua);if(algoliaVersion&&algoliaVersion[0]>=3&&algoliaVersion[1]>20){params=params||{};params.additionalUA=\"autocomplete.js \"+version}return sourceFn;function sourceFn(query,cb){index.search(query,params,function(error,content){if(error){_.error(error.message);return}cb(content.hits,content)})}}},function(module,exports,__webpack_require__){\"use strict\";var _=__webpack_require__(0);var version=__webpack_require__(18);var parseAlgoliaClientVersion=__webpack_require__(19);module.exports=function popularIn(index,params,details,options){var algoliaVersion=parseAlgoliaClientVersion(index.as._ua);if(algoliaVersion&&algoliaVersion[0]>=3&&algoliaVersion[1]>20){params=params||{};params.additionalUA=\"autocomplete.js \"+version}if(!details.source){return _.error(\"Missing 'source' key\")}var source=_.isFunction(details.source)?details.source:function(hit){return hit[details.source]};if(!details.index){return _.error(\"Missing 'index' key\")}var detailsIndex=details.index;options=options||{};return sourceFn;function sourceFn(query,cb){index.search(query,params,function(error,content){if(error){_.error(error.message);return}if(content.hits.length>0){var first=content.hits[0];var detailsParams=_.mixin({hitsPerPage:0},details);delete detailsParams.source;delete detailsParams.index;var detailsAlgoliaVersion=parseAlgoliaClientVersion(detailsIndex.as._ua);if(detailsAlgoliaVersion&&detailsAlgoliaVersion[0]>=3&&detailsAlgoliaVersion[1]>20){params.additionalUA=\"autocomplete.js \"+version}detailsIndex.search(source(first),detailsParams,function(error2,content2){if(error2){_.error(error2.message);return}var suggestions=[];if(options.includeAll){var label=options.allTitle||\"All departments\";suggestions.push(_.mixin({facet:{value:label,count:content2.nbHits}},_.cloneDeep(first)))}_.each(content2.facets,function(values,facet){_.each(values,function(count,value){suggestions.push(_.mixin({facet:{facet:facet,value:value,count:count}},_.cloneDeep(first)))})});for(var i=1;i<content.hits.length;++i){suggestions.push(content.hits[i])}cb(suggestions,content)});return}cb([])})}}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});var prefix=\"algolia-docsearch\";var suggestionPrefix=prefix+\"-suggestion\";var footerPrefix=prefix+\"-footer\";var templates={suggestion:'\\n  <a class=\"'+suggestionPrefix+\"\\n    {{#isCategoryHeader}}\"+suggestionPrefix+\"__main{{/isCategoryHeader}}\\n    {{#isSubCategoryHeader}}\"+suggestionPrefix+'__secondary{{/isSubCategoryHeader}}\\n    \"\\n    aria-label=\"Link to the result\"\\n    href=\"{{{url}}}\"\\n    >\\n    <div class=\"'+suggestionPrefix+'--category-header\">\\n        <span class=\"'+suggestionPrefix+'--category-header-lvl0\">{{{category}}}</span>\\n    </div>\\n    <div class=\"'+suggestionPrefix+'--wrapper\">\\n      <div class=\"'+suggestionPrefix+'--subcategory-column\">\\n        <span class=\"'+suggestionPrefix+'--subcategory-column-text\">{{{subcategory}}}</span>\\n      </div>\\n      {{#isTextOrSubcategoryNonEmpty}}\\n      <div class=\"'+suggestionPrefix+'--content\">\\n        <div class=\"'+suggestionPrefix+'--subcategory-inline\">{{{subcategory}}}</div>\\n        <div class=\"'+suggestionPrefix+'--title\">{{{title}}}</div>\\n        {{#text}}<div class=\"'+suggestionPrefix+'--text\">{{{text}}}</div>{{/text}}\\n      </div>\\n      {{/isTextOrSubcategoryNonEmpty}}\\n    </div>\\n  </a>\\n  ',suggestionSimple:'\\n  <div class=\"'+suggestionPrefix+\"\\n    {{#isCategoryHeader}}\"+suggestionPrefix+\"__main{{/isCategoryHeader}}\\n    {{#isSubCategoryHeader}}\"+suggestionPrefix+'__secondary{{/isSubCategoryHeader}}\\n    suggestion-layout-simple\\n  \">\\n    <div class=\"'+suggestionPrefix+'--category-header\">\\n        {{^isLvl0}}\\n        <span class=\"'+suggestionPrefix+\"--category-header-lvl0 \"+suggestionPrefix+'--category-header-item\">{{{category}}}</span>\\n          {{^isLvl1}}\\n          {{^isLvl1EmptyOrDuplicate}}\\n          <span class=\"'+suggestionPrefix+\"--category-header-lvl1 \"+suggestionPrefix+'--category-header-item\">\\n              {{{subcategory}}}\\n          </span>\\n          {{/isLvl1EmptyOrDuplicate}}\\n          {{/isLvl1}}\\n        {{/isLvl0}}\\n        <div class=\"'+suggestionPrefix+\"--title \"+suggestionPrefix+'--category-header-item\">\\n            {{#isLvl2}}\\n                {{{title}}}\\n            {{/isLvl2}}\\n            {{#isLvl1}}\\n                {{{subcategory}}}\\n            {{/isLvl1}}\\n            {{#isLvl0}}\\n                {{{category}}}\\n            {{/isLvl0}}\\n        </div>\\n    </div>\\n    <div class=\"'+suggestionPrefix+'--wrapper\">\\n      {{#text}}\\n      <div class=\"'+suggestionPrefix+'--content\">\\n        <div class=\"'+suggestionPrefix+'--text\">{{{text}}}</div>\\n      </div>\\n      {{/text}}\\n    </div>\\n  </div>\\n  ',footer:'\\n    <div class=\"'+footerPrefix+'\">\\n      Search by <a class=\"'+footerPrefix+'--logo\" href=\"https://www.algolia.com/docsearch\">Algolia</a>\\n    </div>\\n  ',empty:'\\n  <div class=\"'+suggestionPrefix+'\">\\n    <div class=\"'+suggestionPrefix+'--wrapper\">\\n        <div class=\"'+suggestionPrefix+\"--content \"+suggestionPrefix+'--no-results\">\\n            <div class=\"'+suggestionPrefix+'--title\">\\n                <div class=\"'+suggestionPrefix+'--text\">\\n                    No results found for query <b>\"{{query}}\"</b>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n  </div>\\n  ',searchBox:'\\n  <form novalidate=\"novalidate\" onsubmit=\"return false;\" class=\"searchbox\">\\n    <div role=\"search\" class=\"searchbox__wrapper\">\\n      <input id=\"docsearch\" type=\"search\" name=\"search\" placeholder=\"Search the docs\" autocomplete=\"off\" required=\"required\" class=\"searchbox__input\"/>\\n      <button type=\"submit\" title=\"Submit your search query.\" class=\"searchbox__submit\" >\\n        <svg width=12 height=12 role=\"img\" aria-label=\"Search\">\\n          <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#sbx-icon-search-13\"></use>\\n        </svg>\\n      </button>\\n      <button type=\"reset\" title=\"Clear the search query.\" class=\"searchbox__reset hide\">\\n        <svg width=12 height=12 role=\"img\" aria-label=\"Reset\">\\n          <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#sbx-icon-clear-3\"></use>\\n        </svg>\\n      </button>\\n    </div>\\n</form>\\n\\n<div class=\"svg-icons\" style=\"height: 0; width: 0; position: absolute; visibility: hidden\">\\n  <svg xmlns=\"http://www.w3.org/2000/svg\">\\n    <symbol id=\"sbx-icon-clear-3\" viewBox=\"0 0 40 40\"><path d=\"M16.228 20L1.886 5.657 0 3.772 3.772 0l1.885 1.886L20 16.228 34.343 1.886 36.228 0 40 3.772l-1.886 1.885L23.772 20l14.342 14.343L40 36.228 36.228 40l-1.885-1.886L20 23.772 5.657 38.114 3.772 40 0 36.228l1.886-1.885L16.228 20z\" fill-rule=\"evenodd\"></symbol>\\n    <symbol id=\"sbx-icon-search-13\" viewBox=\"0 0 40 40\"><path d=\"M26.806 29.012a16.312 16.312 0 0 1-10.427 3.746C7.332 32.758 0 25.425 0 16.378 0 7.334 7.333 0 16.38 0c9.045 0 16.378 7.333 16.378 16.38 0 3.96-1.406 7.593-3.746 10.426L39.547 37.34c.607.608.61 1.59-.004 2.203a1.56 1.56 0 0 1-2.202.004L26.807 29.012zm-10.427.627c7.322 0 13.26-5.938 13.26-13.26 0-7.324-5.938-13.26-13.26-13.26-7.324 0-13.26 5.936-13.26 13.26 0 7.322 5.936 13.26 13.26 13.26z\" fill-rule=\"evenodd\"></symbol>\\n  </svg>\\n</div>\\n  '};exports.default=templates},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});var _typeof=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj};var _zepto=__webpack_require__(20);var _zepto2=_interopRequireDefault(_zepto);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var utils={mergeKeyWithParent:function mergeKeyWithParent(object,property){if(object[property]===undefined){return object}if(_typeof(object[property])!==\"object\"){return object}var newObject=_zepto2.default.extend({},object,object[property]);delete newObject[property];return newObject},groupBy:function groupBy(collection,property){var newCollection={};_zepto2.default.each(collection,function(index,item){if(item[property]===undefined){throw new Error(\"[groupBy]: Object has no key \"+property)}var key=item[property];if(typeof key===\"string\"){key=key.toLowerCase()}if(!Object.prototype.hasOwnProperty.call(newCollection,key)){newCollection[key]=[]}newCollection[key].push(item)});return newCollection},values:function values(object){return Object.keys(object).map(function(key){return object[key]})},flatten:function flatten(array){var results=[];array.forEach(function(value){if(!Array.isArray(value)){results.push(value);return}value.forEach(function(subvalue){results.push(subvalue)})});return results},flattenAndFlagFirst:function flattenAndFlagFirst(object,flag){var values=this.values(object).map(function(collection){return collection.map(function(item,index){item[flag]=index===0;return item})});return this.flatten(values)},compact:function compact(array){var results=[];array.forEach(function(value){if(!value){return}results.push(value)});return results},getHighlightedValue:function getHighlightedValue(object,property){if(object._highlightResult&&object._highlightResult.hierarchy_camel&&object._highlightResult.hierarchy_camel[property]&&object._highlightResult.hierarchy_camel[property].matchLevel&&object._highlightResult.hierarchy_camel[property].matchLevel!==\"none\"&&object._highlightResult.hierarchy_camel[property].value){return object._highlightResult.hierarchy_camel[property].value}if(object._highlightResult&&object._highlightResult&&object._highlightResult[property]&&object._highlightResult[property].value){return object._highlightResult[property].value}return object[property]},getSnippetedValue:function getSnippetedValue(object,property){if(!object._snippetResult||!object._snippetResult[property]||!object._snippetResult[property].value){return object[property]}var snippet=object._snippetResult[property].value;if(snippet[0]!==snippet[0].toUpperCase()){snippet=\"\"+snippet}if([\".\",\"!\",\"?\"].indexOf(snippet[snippet.length-1])===-1){snippet=snippet+\"\"}return snippet},deepClone:function deepClone(object){return JSON.parse(JSON.stringify(object))}};exports.default=utils}])});"],"mappings":"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","ignoreList":[]}]}